var ke=Object.defineProperty;var Re=(t,e,s)=>e in t?ke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var X=(t,e,s)=>Re(t,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove$1=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty$1.call(t,e),isArray$2=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction$2=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$1=t=>t!==null&&typeof t=="object",isPromise=t=>(isObject$1(t)||isFunction$2(t))&&isFunction$2(t.then)&&isFunction$2(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$2=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(e,s)=>s?s.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},def=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber$1=t=>{const e=isString$1(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(t){if(isArray$2(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=isString$1(n)?parseStringStyle(n):normalizeStyle(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(isString$1(t)||isObject$1(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const n=s.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString$1(t))e=t;else if(isArray$2(t))for(let s=0;s<t.length;s++){const n=normalizeClass(t[s]);n&&(e+=n+" ")}else if(isObject$1(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const isRef$1=t=>!!(t&&t.__v_isRef===!0),toDisplayString=t=>isString$1(t)?t:t==null?"":isArray$2(t)||isObject$1(t)&&(t.toString===objectToString||!isFunction$2(t.toString))?isRef$1(t)?toDisplayString(t.value):JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>isRef$1(e)?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],r)=>(s[stringifySymbol(n,r)+" =>"]=i,s),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>stringifySymbol(s))}:isSymbol(e)?stringifySymbol(e):isObject$1(e)&&!isArray$2(e)&&!isPlainObject$2(e)?String(e):e,stringifySymbol=(t,e="")=>{var s;return isSymbol(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=s}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function effectScope(t){return new EffectScope(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t,e=!1){activeEffectScope&&activeEffectScope.cleanups.push(t)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const e=activeSub,s=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=e,shouldTrack=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)removeSub(e);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(t,e=!1){if(t.flags|=8,e){t.next=batchedComputed,batchedComputed=t;return}t.next=batchedSub,batchedSub=t}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let e=batchedComputed;for(batchedComputed=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;batchedSub;){let e=batchedSub;for(batchedSub=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function prepareDeps(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cleanupDeps(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),removeSub(n),removeDep(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function isDirty(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(refreshComputed(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function refreshComputed(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===globalVersion)||(t.globalVersion=globalVersion,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!isDirty(t))))return;t.flags|=2;const e=t.dep,s=activeSub,n=shouldTrack;activeSub=t,shouldTrack=!0;try{prepareDeps(t);const i=t.fn(t._value);(e.version===0||hasChanged(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{activeSub=s,shouldTrack=n,cleanupDeps(t),t.flags&=-3}}function removeSub(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)removeSub(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function removeDep(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function cleanupEffect(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=activeSub;activeSub=void 0;try{e()}finally{activeSub=s}}}let globalVersion=0;class Link{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==activeSub)s=this.activeLink=new Link(activeSub,this),activeSub.deps?(s.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=s,activeSub.depsTail=s):activeSub.deps=activeSub.depsTail=s,addSub(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=activeSub.depsTail,s.nextDep=void 0,activeSub.depsTail.nextDep=s,activeSub.depsTail=s,activeSub.deps===s&&(activeSub.deps=n)}return s}trigger(e){this.version++,globalVersion++,this.notify(e)}notify(e){startBatch();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{endBatch()}}}function addSub(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)addSub(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(t,e,s){if(shouldTrack&&activeSub){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new Dep),i.map=n,i.key=s),i.track()}}function trigger(t,e,s,n,i,r){const o=targetMap.get(t);if(!o){globalVersion++;return}const a=l=>{l&&l.trigger()};if(startBatch(),e==="clear")o.forEach(a);else{const l=isArray$2(t),c=l&&isIntegerKey(s);if(l&&s==="length"){const u=Number(n);o.forEach((d,f)=>{(f==="length"||f===ARRAY_ITERATE_KEY||!isSymbol(f)&&f>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(ARRAY_ITERATE_KEY)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ITERATE_KEY)),isMap(t)&&a(o.get(MAP_KEY_ITERATE_KEY)));break;case"delete":l||(a(o.get(ITERATE_KEY)),isMap(t)&&a(o.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&a(o.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(t,e){const s=targetMap.get(t);return s&&s.get(e)}function reactiveReadArray(t){const e=toRaw(t);return e===t?e:(track(e,"iterate",ARRAY_ITERATE_KEY),isShallow(t)?e:e.map(toReactive))}function shallowReadArray(t){return track(t=toRaw(t),"iterate",ARRAY_ITERATE_KEY),t}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,toReactive)},concat(...t){return reactiveReadArray(this).concat(...t.map(e=>isArray$2(e)?reactiveReadArray(e):e))},entries(){return iterator(this,"entries",t=>(t[1]=toReactive(t[1]),t))},every(t,e){return apply(this,"every",t,e,void 0,arguments)},filter(t,e){return apply(this,"filter",t,e,s=>s.map(toReactive),arguments)},find(t,e){return apply(this,"find",t,e,toReactive,arguments)},findIndex(t,e){return apply(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return apply(this,"findLast",t,e,toReactive,arguments)},findLastIndex(t,e){return apply(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return apply(this,"forEach",t,e,void 0,arguments)},includes(...t){return searchProxy(this,"includes",t)},indexOf(...t){return searchProxy(this,"indexOf",t)},join(t){return reactiveReadArray(this).join(t)},lastIndexOf(...t){return searchProxy(this,"lastIndexOf",t)},map(t,e){return apply(this,"map",t,e,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...t){return noTracking(this,"push",t)},reduce(t,...e){return reduce(this,"reduce",t,e)},reduceRight(t,...e){return reduce(this,"reduceRight",t,e)},shift(){return noTracking(this,"shift")},some(t,e){return apply(this,"some",t,e,void 0,arguments)},splice(...t){return noTracking(this,"splice",t)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(t){return reactiveReadArray(this).toSorted(t)},toSpliced(...t){return reactiveReadArray(this).toSpliced(...t)},unshift(...t){return noTracking(this,"unshift",t)},values(){return iterator(this,"values",toReactive)}};function iterator(t,e,s){const n=shallowReadArray(t),i=n[e]();return n!==t&&!isShallow(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=s(r.value)),r}),i}const arrayProto=Array.prototype;function apply(t,e,s,n,i,r){const o=shallowReadArray(t),a=o!==t&&!isShallow(t),l=o[e];if(l!==arrayProto[e]){const d=l.apply(t,r);return a?toReactive(d):d}let c=s;o!==t&&(a?c=function(d,f){return s.call(this,toReactive(d),f,t)}:s.length>2&&(c=function(d,f){return s.call(this,d,f,t)}));const u=l.call(o,c,n);return a&&i?i(u):u}function reduce(t,e,s,n){const i=shallowReadArray(t);let r=s;return i!==t&&(isShallow(t)?s.length>3&&(r=function(o,a,l){return s.call(this,o,a,l,t)}):r=function(o,a,l){return s.call(this,o,toReactive(a),l,t)}),i[e](r,...n)}function searchProxy(t,e,s){const n=toRaw(t);track(n,"iterate",ARRAY_ITERATE_KEY);const i=n[e](...s);return(i===-1||i===!1)&&isProxy(s[0])?(s[0]=toRaw(s[0]),n[e](...s)):i}function noTracking(t,e,s=[]){pauseTracking(),startBatch();const n=toRaw(t)[e].apply(t,s);return endBatch(),resetTracking(),n}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol));function hasOwnProperty(t){isSymbol(t)||(t=String(t));const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}class BaseReactiveHandler{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=isArray$2(e);if(!i){let l;if(o&&(l=arrayInstrumentations[s]))return l;if(s==="hasOwnProperty")return hasOwnProperty}const a=Reflect.get(e,s,isRef(e)?e:n);return(isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(i||track(e,"get",s),r)?a:isRef(a)?o&&isIntegerKey(s)?a:a.value:isObject$1(a)?i?readonly(a):reactive(a):a}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,s,n,i){let r=e[s];if(!this._isShallow){const l=isReadonly(r);if(!isShallow(n)&&!isReadonly(n)&&(r=toRaw(r),n=toRaw(n)),!isArray$2(e)&&isRef(r)&&!isRef(n))return l||(r.value=n),!0}const o=isArray$2(e)&&isIntegerKey(s)?Number(s)<e.length:hasOwn(e,s),a=Reflect.set(e,s,n,isRef(e)?e:i);return e===toRaw(i)&&(o?hasChanged(n,r)&&trigger(e,"set",s,n):trigger(e,"add",s,n)),a}deleteProperty(e,s){const n=hasOwn(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&trigger(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!isSymbol(s)||!builtInSymbols.has(s))&&track(e,"has",s),n}ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function createIterableMethod(t,e,s){return function(...n){const i=this.__v_raw,r=toRaw(i),o=isMap(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=i[t](...n),u=s?toShallow:e?toReadonly:toReactive;return!e&&track(r,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function createInstrumentations(t,e){const s={get(i){const r=this.__v_raw,o=toRaw(r),a=toRaw(i);t||(hasChanged(i,a)&&track(o,"get",i),track(o,"get",a));const{has:l}=getProto(o),c=e?toShallow:t?toReadonly:toReactive;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&track(toRaw(i),"iterate",ITERATE_KEY),i.size},has(i){const r=this.__v_raw,o=toRaw(r),a=toRaw(i);return t||(hasChanged(i,a)&&track(o,"has",i),track(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=toRaw(a),c=e?toShallow:t?toReadonly:toReactive;return!t&&track(l,"iterate",ITERATE_KEY),a.forEach((u,d)=>i.call(r,c(u),c(d),o))}};return extend(s,t?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(i){!e&&!isShallow(i)&&!isReadonly(i)&&(i=toRaw(i));const r=toRaw(this);return getProto(r).has.call(r,i)||(r.add(i),trigger(r,"add",i,i)),this},set(i,r){!e&&!isShallow(r)&&!isReadonly(r)&&(r=toRaw(r));const o=toRaw(this),{has:a,get:l}=getProto(o);let c=a.call(o,i);c||(i=toRaw(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?hasChanged(r,u)&&trigger(o,"set",i,r):trigger(o,"add",i,r),this},delete(i){const r=toRaw(this),{has:o,get:a}=getProto(r);let l=o.call(r,i);l||(i=toRaw(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&trigger(r,"delete",i,void 0),c},clear(){const i=toRaw(this),r=i.size!==0,o=i.clear();return r&&trigger(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=createIterableMethod(i,t,e)}),s}function createInstrumentationGetter(t,e){const s=createInstrumentations(t,e);return(n,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(hasOwn(s,i)&&i in n?s:n,i,r)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,s,n,i){if(!isObject$1(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=getTargetType(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?n:s);return i.set(t,a),a}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return t?!!t.__v_raw:!1}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return!hasOwn(t,"__v_skip")&&Object.isExtensible(t)&&def(t,"__v_skip",!0),t}const toReactive=t=>isObject$1(t)?reactive(t):t,toReadonly=t=>isObject$1(t)?readonly(t):t;function isRef(t){return t?t.__v_isRef===!0:!1}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,s){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:toRaw(e),this._value=s?e:toReactive(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||isShallow(e)||isReadonly(e);e=n?e:toRaw(e),hasChanged(e,s)&&(this._rawValue=e,this._value=n?e:toReactive(e),this.dep.trigger())}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,e,s)=>e==="__v_raw"?t:unref(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return isRef(i)&&!isRef(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.__v_isRef=!0,this._value=void 0;const s=this.dep=new Dep,{get:n,set:i}=e(s.track.bind(s),s.trigger.bind(s));this._get=n,this._set=i}get value(){return this._value=this._get()}set value(e){this._set(e)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const e=isArray$2(t)?new Array(t.length):{};for(const s in t)e[s]=propertyToRef(t,s);return e}class ObjectRefImpl{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}function propertyToRef(t,e,s){const n=t[e];return isRef(n)?n:new ObjectRefImpl(t,e,s)}class ComputedRefImpl{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const e=this.dep.track();return refreshComputed(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function computed$1(t,e,s=!1){let n,i;return isFunction$2(t)?n=t:(n=t.get,i=t.set),new ComputedRefImpl(n,i,s)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(t,e=!1,s=activeWatcher){if(s){let n=cleanupMap.get(s);n||cleanupMap.set(s,n=[]),n.push(t)}}function watch$1(t,e,s=EMPTY_OBJ){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=s,c=T=>i?T:isShallow(T)||i===!1||i===0?traverse(T,1):traverse(T);let u,d,f,g,m=!1,_=!1;if(isRef(t)?(d=()=>t.value,m=isShallow(t)):isReactive(t)?(d=()=>c(t),m=!0):isArray$2(t)?(_=!0,m=t.some(T=>isReactive(T)||isShallow(T)),d=()=>t.map(T=>{if(isRef(T))return T.value;if(isReactive(T))return c(T);if(isFunction$2(T))return l?l(T,2):T()})):isFunction$2(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){pauseTracking();try{f()}finally{resetTracking()}}const T=activeWatcher;activeWatcher=u;try{return l?l(t,3,[g]):t(g)}finally{activeWatcher=T}}:d=NOOP,e&&i){const T=d,A=i===!0?1/0:i;d=()=>traverse(T(),A)}const b=getCurrentScope(),v=()=>{u.stop(),b&&b.active&&remove$1(b.effects,u)};if(r&&e){const T=e;e=(...A)=>{T(...A),v()}}let S=_?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const x=T=>{if(!(!(u.flags&1)||!u.dirty&&!T))if(e){const A=u.run();if(i||m||(_?A.some((R,C)=>hasChanged(R,S[C])):hasChanged(A,S))){f&&f();const R=activeWatcher;activeWatcher=u;try{const C=[A,S===INITIAL_WATCHER_VALUE?void 0:_&&S[0]===INITIAL_WATCHER_VALUE?[]:S,g];S=A,l?l(e,3,C):e(...C)}finally{activeWatcher=R}}}else u.run()};return a&&a(x),u=new ReactiveEffect(d),u.scheduler=o?()=>o(x,!1):x,g=T=>onWatcherCleanup(T,!1,u),f=u.onStop=()=>{const T=cleanupMap.get(u);if(T){if(l)l(T,4);else for(const A of T)A();cleanupMap.delete(u)}},e?n?x(!0):S=u.run():o?o(x.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function traverse(t,e=1/0,s){if(e<=0||!isObject$1(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,isRef(t))traverse(t.value,e,s);else if(isArray$2(t))for(let n=0;n<t.length;n++)traverse(t[n],e,s);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,e,s)});else if(isPlainObject$2(t)){for(const n in t)traverse(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&traverse(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(t,...e){if(isWarning)return;isWarning=!0,pauseTracking();const s=stack.length?stack[stack.length-1].component:null,n=s&&s.appContext.config.warnHandler,i=getComponentTrace();if(n)callWithErrorHandling(n,s,11,[t+e.map(r=>{var o,a;return(a=(o=r.toString)==null?void 0:o.call(r))!=null?a:JSON.stringify(r)}).join(""),s&&s.proxy,i.map(({vnode:r})=>`at <${formatComponentName(s,r.type)}>`).join(`
`),i]);else{const r=[`[Vue warn]: ${t}`,...e];i.length&&r.push(`
`,...formatTrace(i)),console.warn(...r)}resetTracking(),isWarning=!1}function getComponentTrace(){let t=stack[stack.length-1];if(!t)return[];const e=[];for(;t;){const s=e[0];s&&s.vnode===t?s.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function formatTrace(t){const e=[];return t.forEach((s,n)=>{e.push(...n===0?[]:[`
`],...formatTraceEntry(s))}),e}function formatTraceEntry({vnode:t,recurseCount:e}){const s=e>0?`... (${e} recursive calls)`:"",n=t.component?t.component.parent==null:!1,i=` at <${formatComponentName(t.component,t.type,n)}`,r=">"+s;return t.props?[i,...formatProps(t.props),r]:[i+r]}function formatProps(t){const e=[],s=Object.keys(t);return s.slice(0,3).forEach(n=>{e.push(...formatProp(n,t[n]))}),s.length>3&&e.push(" ..."),e}function formatProp(t,e,s){return isString$1(e)?(e=JSON.stringify(e),s?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?s?e:[`${t}=${e}`]:isRef(e)?(e=formatProp(t,toRaw(e.value),!0),s?e:[`${t}=Ref<`,e,">"]):isFunction$2(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),s?e:[`${t}=`,e])}function callWithErrorHandling(t,e,s,n){try{return n?t(...n):t()}catch(i){handleError$2(i,e,s)}}function callWithAsyncErrorHandling(t,e,s,n){if(isFunction$2(t)){const i=callWithErrorHandling(t,e,s,n);return i&&isPromise(i)&&i.catch(r=>{handleError$2(r,e,s)}),i}if(isArray$2(t)){const i=[];for(let r=0;r<t.length;r++)i.push(callWithAsyncErrorHandling(t[r],e,s,n));return i}}function handleError$2(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||EMPTY_OBJ;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(r){pauseTracking(),callWithErrorHandling(r,null,10,[t,l,c]),resetTracking();return}}logError(t,s,i,n,o)}function logError(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex$1(t){let e=flushIndex+1,s=queue.length;for(;e<s;){const n=e+s>>>1,i=queue[n],r=getId(i);r<t||r===t&&i.flags&2?e=n+1:s=n}return e}function queueJob(t){if(!(t.flags&1)){const e=getId(t),s=queue[queue.length-1];!s||!(t.flags&2)&&e>=getId(s)?queue.push(t):queue.splice(findInsertionIndex$1(e),0,t),t.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(t){isArray$2(t)?pendingPostFlushCbs.push(...t):activePostFlushCbs&&t.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,t):t.flags&1||(pendingPostFlushCbs.push(t),t.flags|=1),queueFlush()}function flushPreFlushCbs(t,e,s=flushIndex+1){for(;s<queue.length;s++){const n=queue[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;queue.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((s,n)=>getId(s)-getId(n));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const s=activePostFlushCbs[postFlushIndex];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?t.flags&2?-1:1/0:t.id;function flushJobs(t){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),callWithErrorHandling(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&(e.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function withCtx(t,e=currentRenderingInstance,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&setBlockTracking(-1);const r=setCurrentRenderingInstance(e);let o;try{o=t(...i)}finally{setCurrentRenderingInstance(r),n._d&&setBlockTracking(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function invokeDirectiveHook(t,e,s,n){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(pauseTracking(),callWithAsyncErrorHandling(l,s,8,[t.el,a,t,e]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTeleportDeferred=t=>t&&(t.defer||t.defer===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,isTargetMathML=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,resolveTarget=(t,e)=>{const s=t&&t.to;return isString$1(s)?e?e(s):null:s},TeleportImpl={name:"Teleport",__isTeleport:!0,process(t,e,s,n,i,r,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:g,querySelector:m,createText:_,createComment:b}}=c,v=isTeleportDisabled(e.props);let{shapeFlag:S,children:x,dynamicChildren:T}=e;if(t==null){const A=e.el=_(""),R=e.anchor=_("");g(A,s,n),g(R,s,n);const C=(k,L)=>{S&16&&(i&&i.isCE&&(i.ce._teleportTarget=k),u(x,k,L,i,r,o,a,l))},M=()=>{const k=e.target=resolveTarget(e.props,m),L=prepareAnchor(k,e,_,g);k&&(o!=="svg"&&isTargetSVG(k)?o="svg":o!=="mathml"&&isTargetMathML(k)&&(o="mathml"),v||(C(k,L),updateCssVars(e,!1)))};v&&(C(s,R),updateCssVars(e,!0)),isTeleportDeferred(e.props)?(e.el.__isMounted=!1,queuePostRenderEffect(()=>{M(),delete e.el.__isMounted},r)):M()}else{if(isTeleportDeferred(e.props)&&t.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(t,e,s,n,i,r,o,a,l,c)},r);return}e.el=t.el,e.targetStart=t.targetStart;const A=e.anchor=t.anchor,R=e.target=t.target,C=e.targetAnchor=t.targetAnchor,M=isTeleportDisabled(t.props),k=M?s:R,L=M?A:C;if(o==="svg"||isTargetSVG(R)?o="svg":(o==="mathml"||isTargetMathML(R))&&(o="mathml"),T?(f(t.dynamicChildren,T,k,i,r,o,a),traverseStaticChildren(t,e,!0)):l||d(t,e,k,L,i,r,o,a,!1),v)M?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):moveTeleport(e,s,A,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const j=e.target=resolveTarget(e.props,m);j&&moveTeleport(e,j,null,c,0)}else M&&moveTeleport(e,R,C,c,1);updateCssVars(e,v)}},remove(t,e,s,{um:n,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(i(c),i(u)),r&&i(l),o&16){const g=r||!isTeleportDisabled(f);for(let m=0;m<a.length;m++){const _=a[m];n(_,e,s,g,!!_.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,s,{o:{insert:n},m:i},r=2){r===0&&n(t.targetAnchor,e,s);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=r===2;if(d&&n(o,e,s),(!d||isTeleportDisabled(u))&&l&16)for(let f=0;f<c.length;f++)i(c[f],e,s,2);d&&n(a,e,s)}function hydrateTeleport(t,e,s,n,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){const f=e.target=resolveTarget(e.props,l);if(f){const g=isTeleportDisabled(e.props),m=f._lpa||f.firstChild;if(e.shapeFlag&16)if(g)e.anchor=d(o(t),e,a(t),s,n,i,r),e.targetStart=m,e.targetAnchor=m&&o(m);else{e.anchor=o(t);let _=m;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,f._lpa=e.targetAnchor&&o(e.targetAnchor);break}}_=o(_)}e.targetAnchor||prepareAnchor(f,e,u,c),d(m&&o(m),e,f,s,n,i,r)}updateCssVars(e,g)}return e.anchor&&o(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t,e){const s=t.ctx;if(s&&s.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function prepareAnchor(t,e,s,n){const i=e.targetStart=s(""),r=e.targetAnchor=s("");return i[TeleportEndKey]=r,t&&(n(i,t),n(r,t)),r}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=t=>{const e=t.subTree;return e.component?recursiveGetSubtree(e.component):e},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const s=getCurrentInstance(),n=useTransitionState();return()=>{const i=e.default&&getTransitionRawChildren(e.default(),!0);if(!i||!i.length)return;const r=findNonCommentChild(i),o=toRaw(t),{mode:a}=o;if(n.isLeaving)return emptyPlaceholder(r);const l=getInnerChild$1(r);if(!l)return emptyPlaceholder(r);let c=resolveTransitionHooks(l,o,n,s,d=>c=d);l.type!==Comment&&setTransitionHooks(l,c);let u=s.subTree&&getInnerChild$1(s.subTree);if(u&&u.type!==Comment&&!isSameVNodeType(l,u)&&recursiveGetSubtree(s).type!==Comment){let d=resolveTransitionHooks(u,o,n,s);if(setTransitionHooks(u,d),a==="out-in"&&l.type!==Comment)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,u=void 0},emptyPlaceholder(r);a==="in-out"&&l.type!==Comment?d.delayLeave=(f,g,m)=>{const _=getLeavingNodesForType(n,u);_[String(u.key)]=u,f[leaveCbKey]=()=>{g(),f[leaveCbKey]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function findNonCommentChild(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Comment){e=s;break}}return e}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function resolveTransitionHooks(t,e,s,n,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:g,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:b,onAppear:v,onAfterAppear:S,onAppearCancelled:x}=e,T=String(t.key),A=getLeavingNodesForType(s,t),R=(k,L)=>{k&&callWithAsyncErrorHandling(k,n,9,L)},C=(k,L)=>{const j=L[1];R(k,L),isArray$2(k)?k.every(N=>N.length<=1)&&j():k.length<=1&&j()},M={mode:o,persisted:a,beforeEnter(k){let L=l;if(!s.isMounted)if(r)L=b||l;else return;k[leaveCbKey]&&k[leaveCbKey](!0);const j=A[T];j&&isSameVNodeType(t,j)&&j.el[leaveCbKey]&&j.el[leaveCbKey](),R(L,[k])},enter(k){let L=c,j=u,N=d;if(!s.isMounted)if(r)L=v||c,j=S||u,N=x||d;else return;let K=!1;const te=k[enterCbKey]=Z=>{K||(K=!0,Z?R(N,[k]):R(j,[k]),M.delayedLeave&&M.delayedLeave(),k[enterCbKey]=void 0)};L?C(L,[k,te]):te()},leave(k,L){const j=String(t.key);if(k[enterCbKey]&&k[enterCbKey](!0),s.isUnmounting)return L();R(f,[k]);let N=!1;const K=k[leaveCbKey]=te=>{N||(N=!0,L(),te?R(_,[k]):R(m,[k]),k[leaveCbKey]=void 0,A[j]===t&&delete A[j])};A[j]=t,g?C(g,[k,K]):K()},clone(k){const L=resolveTransitionHooks(k,e,s,n,i);return i&&i(L),L}};return M}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getInnerChild$1(t){if(!isKeepAlive(t))return isTeleport(t.type)&&t.children?findNonCommentChild(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&isFunction$2(s.default))return s.default()}}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?(t.transition=e,setTransitionHooks(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,s){let n=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===Fragment?(o.patchFlag&128&&i++,n=n.concat(getTransitionRawChildren(o.children,e,a))):(e||o.type!==Comment)&&n.push(a!=null?cloneVNode(o,{key:a}):o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(t,e){return isFunction$2(t)?extend({name:t.name},e,{setup:t}):t}function markAsyncBoundary(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function setRef(t,e,s,n,i=!1){if(isArray$2(t)){t.forEach((m,_)=>setRef(m,e&&(isArray$2(e)?e[_]:e),s,n,i));return}if(isAsyncWrapper(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&setRef(t,e,s,n.component.subTree);return}const r=n.shapeFlag&4?getComponentPublicInstance(n.component):n.el,o=i?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===EMPTY_OBJ?a.refs={}:a.refs,d=a.setupState,f=toRaw(d),g=d===EMPTY_OBJ?NO:m=>hasOwn(f,m);if(c!=null&&c!==l){if(isString$1(c))u[c]=null,g(c)&&(d[c]=null);else if(isRef(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(isFunction$2(l))callWithErrorHandling(l,a,12,[o,u]);else{const m=isString$1(l),_=isRef(l);if(m||_){const b=()=>{if(t.f){const v=m?g(l)?d[l]:u[l]:l.value;if(i)isArray$2(v)&&remove$1(v,r);else if(isArray$2(v))v.includes(r)||v.push(r);else if(m)u[l]=[r],g(l)&&(d[l]=u[l]);else{const S=[r];l.value=S,t.k&&(u[t.k]=S)}}else m?(u[l]=o,g(l)&&(d[l]=o)):_&&(l.value=o,t.k&&(u[t.k]=o))};o?(b.id=-1,queuePostRenderEffect(b,s)):b()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,s=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(injectHook(e,n,s),s){let i=s.parent;for(;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(n,e,s,i),i=i.parent}}function injectToKeepAliveRoot(t,e,s,n){const i=injectHook(e,t,n,!0);onUnmounted(()=>{remove$1(n[e],i)},s)}function injectHook(t,e,s=currentInstance,n=!1){if(s){const i=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{pauseTracking();const a=setCurrentInstance(s),l=callWithAsyncErrorHandling(e,s,t,o);return a(),resetTracking(),l});return n?i.unshift(r):i.push(r),r}}const createHook=t=>(e,s=currentInstance)=>{(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...n)=>e(...n),s)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const COMPONENTS="components";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString$1(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveAsset(t,e,s=!0,n=!1){const i=currentRenderingInstance||currentInstance;if(i){const r=i.type;{const a=getComponentName(r,!1);if(a&&(a===e||a===camelize(e)||a===capitalize(camelize(e))))return r}const o=resolve$1(i[t]||r[t],e)||resolve$1(i.appContext[t],e);return!o&&n?r:o}}function resolve$1(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,s,n){let i;const r=s,o=isArray$2(t);if(o||isString$1(t)){const a=o&&isReactive(t);let l=!1,c=!1;a&&(l=!isShallow(t),c=isReadonly(t),t=shallowReadArray(t)),i=new Array(t.length);for(let u=0,d=t.length;u<d;u++)i[u]=e(l?c?toReadonly(toReactive(t[u])):toReactive(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(isObject$1(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=e(t[u],u,l,r)}}else i=[];return i}function renderSlot(t,e,s={},n,i){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return openBlock(),createBlock(Fragment,null,[createVNode("slot",s,n)],64);let r=t[e];r&&r._c&&(r._d=!1),openBlock();const o=r&&ensureValidVNode(r(s)),a=s.key||o&&o.key,l=createBlock(Fragment,{key:(a&&!isSymbol(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||[],o&&t._===1?64:-2);return r&&r._c&&(r._d=!0),l}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}const getPublicInstance=t=>t?isStatefulComponent(t)?getComponentPublicInstance(t):getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>{queueJob(t.update)}),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return r[e]}else{if(hasSetupBinding(n,e))return o[e]=1,n[e];if(i!==EMPTY_OBJ&&hasOwn(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&hasOwn(c,e))return o[e]=3,r[e];if(s!==EMPTY_OBJ&&hasOwn(s,e))return o[e]=4,s[e];shouldCacheAccess&&(o[e]=0)}}const u=publicPropertiesMap[e];let d,f;if(u)return e==="$attrs"&&track(t.attrs,"get",""),u(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(s!==EMPTY_OBJ&&hasOwn(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,hasOwn(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:r}=t;return hasSetupBinding(i,e)?(i[e]=s,!0):n!==EMPTY_OBJ&&hasOwn(n,e)?(n[e]=s,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:r,type:o}},a){let l,c;return!!(s[a]||t!==EMPTY_OBJ&&a[0]!=="$"&&hasOwn(t,a)||hasSetupBinding(e,a)||(l=r[0])&&hasOwn(l,a)||hasOwn(n,a)||hasOwn(publicPropertiesMap,a)||hasOwn(i.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:hasOwn(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function normalizePropsOrEmits(t){return isArray$2(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),s=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:g,updated:m,activated:_,deactivated:b,beforeDestroy:v,beforeUnmount:S,destroyed:x,unmounted:T,render:A,renderTracked:R,renderTriggered:C,errorCaptured:M,serverPrefetch:k,expose:L,inheritAttrs:j,components:N,directives:K,filters:te}=e;if(c&&resolveInjections(c,n,null),o)for(const z in o){const ee=o[z];isFunction$2(ee)&&(n[z]=ee.bind(s))}if(i){const z=i.call(s,s);isObject$1(z)&&(t.data=reactive(z))}if(shouldCacheAccess=!0,r)for(const z in r){const ee=r[z],re=isFunction$2(ee)?ee.bind(s,s):isFunction$2(ee.get)?ee.get.bind(s,s):NOOP,ce=!isFunction$2(ee)&&isFunction$2(ee.set)?ee.set.bind(s):NOOP,ue=computed({get:re,set:ce});Object.defineProperty(n,z,{enumerable:!0,configurable:!0,get:()=>ue.value,set:ae=>ue.value=ae})}if(a)for(const z in a)createWatcher(a[z],n,s,z);if(l){const z=isFunction$2(l)?l.call(s):l;Reflect.ownKeys(z).forEach(ee=>{provide(ee,z[ee])})}u&&callHook$1(u,t,"c");function Y(z,ee){isArray$2(ee)?ee.forEach(re=>z(re.bind(s))):ee&&z(ee.bind(s))}if(Y(onBeforeMount,d),Y(onMounted,f),Y(onBeforeUpdate,g),Y(onUpdated,m),Y(onActivated,_),Y(onDeactivated,b),Y(onErrorCaptured,M),Y(onRenderTracked,R),Y(onRenderTriggered,C),Y(onBeforeUnmount,S),Y(onUnmounted,T),Y(onServerPrefetch,k),isArray$2(L))if(L.length){const z=t.exposed||(t.exposed={});L.forEach(ee=>{Object.defineProperty(z,ee,{get:()=>s[ee],set:re=>s[ee]=re,enumerable:!0})})}else t.exposed||(t.exposed={});A&&t.render===NOOP&&(t.render=A),j!=null&&(t.inheritAttrs=j),N&&(t.components=N),K&&(t.directives=K),k&&markAsyncBoundary(t)}function resolveInjections(t,e,s=NOOP){isArray$2(t)&&(t=normalizeInject(t));for(const n in t){const i=t[n];let r;isObject$1(i)?"default"in i?r=inject(i.from||n,i.default,!0):r=inject(i.from||n):r=inject(i),isRef(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function callHook$1(t,e,s){callWithAsyncErrorHandling(isArray$2(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function createWatcher(t,e,s,n){let i=n.includes(".")?createPathGetter(s,n):()=>s[n];if(isString$1(t)){const r=e[t];isFunction$2(r)&&watch(i,r)}else if(isFunction$2(t))watch(i,t.bind(s));else if(isObject$1(t))if(isArray$2(t))t.forEach(r=>createWatcher(r,e,s,n));else{const r=isFunction$2(t.handler)?t.handler.bind(s):e[t.handler];isFunction$2(r)&&watch(i,r,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!s&&!n?l=e:(l={},i.length&&i.forEach(c=>mergeOptions$1(l,c,o,!0)),mergeOptions$1(l,e,o)),isObject$1(e)&&r.set(e,l),l}function mergeOptions$1(t,e,s,n=!1){const{mixins:i,extends:r}=e;r&&mergeOptions$1(t,r,s,!0),i&&i.forEach(o=>mergeOptions$1(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=internalOptionMergeStrats[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$2(t)?t.call(this,this):t,isFunction$2(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$2(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$2(t)&&isArray$2(e)?[...new Set([...t,...e])]:extend(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const s=extend(Object.create(null),t);for(const n in e)s[n]=mergeAsArray(t[n],e[n]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(n,i=null){isFunction$2(n)||(n=extend({},n)),i!=null&&!isObject$1(i)&&(i=null);const r=createAppContext(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:uid$1++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:version$5,get config(){return r.config},set config(u){},use(u,...d){return o.has(u)||(u&&isFunction$2(u.install)?(o.add(u),u.install(c,...d)):isFunction$2(u)&&(o.add(u),u(c,...d))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,d){return d?(r.components[u]=d,c):r.components[u]},directive(u,d){return d?(r.directives[u]=d,c):r.directives[u]},mount(u,d,f){if(!l){const g=c._ceVNode||createVNode(n,i);return g.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(g,u,f),l=!0,c._container=u,u.__vue_app__=c,getComponentPublicInstance(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(callWithAsyncErrorHandling(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return r.provides[u]=d,c},runWithContext(u){const d=currentApp;currentApp=c;try{return u()}finally{currentApp=d}}};return c}}let currentApp=null;function provide(t,e){if(currentInstance){let s=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===s&&(s=currentInstance.provides=Object.create(n)),s[t]=e}}function inject(t,e,s=!1){const n=getCurrentInstance();if(n||currentApp){let i=currentApp?currentApp._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&isFunction$2(e)?e.call(n&&n.proxy):e}}function hasInjectionContext(){return!!(getCurrentInstance()||currentApp)}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=t=>Object.getPrototypeOf(t)===internalObjectProto;function initProps(t,e,s,n=!1){const i={},r=createInternalObject();t.propsDefaults=Object.create(null),setFullProps(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=n?i:shallowReactive(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function updateProps(t,e,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=toRaw(i),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(isEmitListener(t.emitsOptions,f))continue;const g=e[f];if(l)if(hasOwn(r,f))g!==r[f]&&(r[f]=g,c=!0);else{const m=camelize(f);i[m]=resolvePropValue(l,a,m,g,t,!1)}else g!==r[f]&&(r[f]=g,c=!0)}}}else{setFullProps(t,e,i,r)&&(c=!0);let u;for(const d in a)(!e||!hasOwn(e,d)&&((u=hyphenate(d))===d||!hasOwn(e,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(i[d]=resolvePropValue(l,a,d,void 0,t,!0)):delete i[d]);if(r!==a)for(const d in r)(!e||!hasOwn(e,d))&&(delete r[d],c=!0)}c&&trigger(t.attrs,"set","")}function setFullProps(t,e,s,n){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(isReservedProp(l))continue;const c=e[l];let u;i&&hasOwn(i,u=camelize(l))?!r||!r.includes(u)?s[u]=c:(a||(a={}))[u]=c:isEmitListener(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(r){const l=toRaw(s),c=a||EMPTY_OBJ;for(let u=0;u<r.length;u++){const d=r[u];s[d]=resolvePropValue(i,l,d,c[d],t,!hasOwn(c,d))}}return o}function resolvePropValue(t,e,s,n,i,r){const o=t[s];if(o!=null){const a=hasOwn(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&isFunction$2(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const u=setCurrentInstance(i);n=c[s]=l.call(null,e),u()}}else n=l;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===hyphenate(s))&&(n=!0))}return n}const mixinPropsCache=new WeakMap;function normalizePropsOptions(t,e,s=!1){const n=s?mixinPropsCache:e.propsCache,i=n.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!isFunction$2(t)){const u=d=>{l=!0;const[f,g]=normalizePropsOptions(d,e,!0);extend(o,f),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return isObject$1(t)&&n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$2(r))for(let u=0;u<r.length;u++){const d=camelize(r[u]);validatePropName(d)&&(o[d]=EMPTY_OBJ)}else if(r)for(const u in r){const d=camelize(u);if(validatePropName(d)){const f=r[u],g=o[d]=isArray$2(f)||isFunction$2(f)?{type:f}:extend({},f),m=g.type;let _=!1,b=!0;if(isArray$2(m))for(let v=0;v<m.length;++v){const S=m[v],x=isFunction$2(S)&&S.name;if(x==="Boolean"){_=!0;break}else x==="String"&&(b=!1)}else _=isFunction$2(m)&&m.name==="Boolean";g[0]=_,g[1]=b,(_||hasOwn(g,"default"))&&a.push(d)}}const c=[o,a];return isObject$1(t)&&n.set(t,c),c}function validatePropName(t){return t[0]!=="$"&&!isReservedProp(t)}const isInternalKey=t=>t==="_"||t==="_ctx"||t==="$stable",normalizeSlotValue=t=>isArray$2(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,s)=>{if(e._n)return e;const n=withCtx((...i)=>normalizeSlotValue(e(...i)),s);return n._c=!1,n},normalizeObjectSlots=(t,e,s)=>{const n=t._ctx;for(const i in t){if(isInternalKey(i))continue;const r=t[i];if(isFunction$2(r))e[i]=normalizeSlot$1(i,r,n);else if(r!=null){const o=normalizeSlotValue(r);e[i]=()=>o}}},normalizeVNodeSlots=(t,e)=>{const s=normalizeSlotValue(e);t.slots.default=()=>s},assignSlots=(t,e,s)=>{for(const n in e)(s||!isInternalKey(n))&&(t[n]=e[n])},initSlots=(t,e,s)=>{const n=t.slots=createInternalObject();if(t.vnode.shapeFlag&32){const i=e._;i?(assignSlots(n,e,s),s&&def(n,"_",i,!0)):normalizeObjectSlots(e,n)}else e&&normalizeVNodeSlots(t,e)},updateSlots=(t,e,s)=>{const{vnode:n,slots:i}=t;let r=!0,o=EMPTY_OBJ;if(n.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:assignSlots(i,e,s):(r=!e.$stable,normalizeObjectSlots(e,i)),o=e}else e&&(normalizeVNodeSlots(t,e),o={default:1});if(r)for(const a in i)!isInternalKey(a)&&o[a]==null&&delete i[a]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const s=getGlobalThis();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:g=NOOP,insertStaticContent:m}=t,_=(y,w,E,O=null,$=null,P=null,H=void 0,F=null,B=!!w.dynamicChildren)=>{if(y===w)return;y&&!isSameVNodeType(y,w)&&(O=I(y),ae(y,$,P,!0),y=null),w.patchFlag===-2&&(B=!1,w.dynamicChildren=null);const{type:D,ref:J,shapeFlag:U}=w;switch(D){case Text:b(y,w,E,O);break;case Comment:v(y,w,E,O);break;case Static:y==null&&S(w,E,O,H);break;case Fragment:N(y,w,E,O,$,P,H,F,B);break;default:U&1?A(y,w,E,O,$,P,H,F,B):U&6?K(y,w,E,O,$,P,H,F,B):(U&64||U&128)&&D.process(y,w,E,O,$,P,H,F,B,q)}J!=null&&$?setRef(J,y&&y.ref,P,w||y,!w):J==null&&y&&y.ref!=null&&setRef(y.ref,null,P,y,!0)},b=(y,w,E,O)=>{if(y==null)n(w.el=a(w.children),E,O);else{const $=w.el=y.el;w.children!==y.children&&c($,w.children)}},v=(y,w,E,O)=>{y==null?n(w.el=l(w.children||""),E,O):w.el=y.el},S=(y,w,E,O)=>{[y.el,y.anchor]=m(y.children,w,E,O,y.el,y.anchor)},x=({el:y,anchor:w},E,O)=>{let $;for(;y&&y!==w;)$=f(y),n(y,E,O),y=$;n(w,E,O)},T=({el:y,anchor:w})=>{let E;for(;y&&y!==w;)E=f(y),i(y),y=E;i(w)},A=(y,w,E,O,$,P,H,F,B)=>{w.type==="svg"?H="svg":w.type==="math"&&(H="mathml"),y==null?R(w,E,O,$,P,H,F,B):k(y,w,$,P,H,F,B)},R=(y,w,E,O,$,P,H,F)=>{let B,D;const{props:J,shapeFlag:U,transition:G,dirs:Q}=y;if(B=y.el=o(y.type,P,J&&J.is,J),U&8?u(B,y.children):U&16&&M(y.children,B,null,O,$,resolveChildrenNamespace(y,P),H,F),Q&&invokeDirectiveHook(y,null,O,"created"),C(B,y,y.scopeId,H,O),J){for(const oe in J)oe!=="value"&&!isReservedProp(oe)&&r(B,oe,null,J[oe],P,O);"value"in J&&r(B,"value",null,J.value,P),(D=J.onVnodeBeforeMount)&&invokeVNodeHook(D,O,y)}Q&&invokeDirectiveHook(y,null,O,"beforeMount");const se=needTransition($,G);se&&G.beforeEnter(B),n(B,w,E),((D=J&&J.onVnodeMounted)||se||Q)&&queuePostRenderEffect(()=>{D&&invokeVNodeHook(D,O,y),se&&G.enter(B),Q&&invokeDirectiveHook(y,null,O,"mounted")},$)},C=(y,w,E,O,$)=>{if(E&&g(y,E),O)for(let P=0;P<O.length;P++)g(y,O[P]);if($){let P=$.subTree;if(w===P||isSuspense(P.type)&&(P.ssContent===w||P.ssFallback===w)){const H=$.vnode;C(y,H,H.scopeId,H.slotScopeIds,$.parent)}}},M=(y,w,E,O,$,P,H,F,B=0)=>{for(let D=B;D<y.length;D++){const J=y[D]=F?cloneIfMounted(y[D]):normalizeVNode(y[D]);_(null,J,w,E,O,$,P,H,F)}},k=(y,w,E,O,$,P,H)=>{const F=w.el=y.el;let{patchFlag:B,dynamicChildren:D,dirs:J}=w;B|=y.patchFlag&16;const U=y.props||EMPTY_OBJ,G=w.props||EMPTY_OBJ;let Q;if(E&&toggleRecurse(E,!1),(Q=G.onVnodeBeforeUpdate)&&invokeVNodeHook(Q,E,w,y),J&&invokeDirectiveHook(w,y,E,"beforeUpdate"),E&&toggleRecurse(E,!0),(U.innerHTML&&G.innerHTML==null||U.textContent&&G.textContent==null)&&u(F,""),D?L(y.dynamicChildren,D,F,E,O,resolveChildrenNamespace(w,$),P):H||ee(y,w,F,null,E,O,resolveChildrenNamespace(w,$),P,!1),B>0){if(B&16)j(F,U,G,E,$);else if(B&2&&U.class!==G.class&&r(F,"class",null,G.class,$),B&4&&r(F,"style",U.style,G.style,$),B&8){const se=w.dynamicProps;for(let oe=0;oe<se.length;oe++){const ne=se[oe],de=U[ne],fe=G[ne];(fe!==de||ne==="value")&&r(F,ne,de,fe,$,E)}}B&1&&y.children!==w.children&&u(F,w.children)}else!H&&D==null&&j(F,U,G,E,$);((Q=G.onVnodeUpdated)||J)&&queuePostRenderEffect(()=>{Q&&invokeVNodeHook(Q,E,w,y),J&&invokeDirectiveHook(w,y,E,"updated")},O)},L=(y,w,E,O,$,P,H)=>{for(let F=0;F<w.length;F++){const B=y[F],D=w[F],J=B.el&&(B.type===Fragment||!isSameVNodeType(B,D)||B.shapeFlag&198)?d(B.el):E;_(B,D,J,null,O,$,P,H,!0)}},j=(y,w,E,O,$)=>{if(w!==E){if(w!==EMPTY_OBJ)for(const P in w)!isReservedProp(P)&&!(P in E)&&r(y,P,w[P],null,$,O);for(const P in E){if(isReservedProp(P))continue;const H=E[P],F=w[P];H!==F&&P!=="value"&&r(y,P,F,H,$,O)}"value"in E&&r(y,"value",w.value,E.value,$)}},N=(y,w,E,O,$,P,H,F,B)=>{const D=w.el=y?y.el:a(""),J=w.anchor=y?y.anchor:a("");let{patchFlag:U,dynamicChildren:G,slotScopeIds:Q}=w;Q&&(F=F?F.concat(Q):Q),y==null?(n(D,E,O),n(J,E,O),M(w.children||[],E,J,$,P,H,F,B)):U>0&&U&64&&G&&y.dynamicChildren?(L(y.dynamicChildren,G,E,$,P,H,F),(w.key!=null||$&&w===$.subTree)&&traverseStaticChildren(y,w,!0)):ee(y,w,E,J,$,P,H,F,B)},K=(y,w,E,O,$,P,H,F,B)=>{w.slotScopeIds=F,y==null?w.shapeFlag&512?$.ctx.activate(w,E,O,H,B):te(w,E,O,$,P,H,B):Z(y,w,B)},te=(y,w,E,O,$,P,H)=>{const F=y.component=createComponentInstance(y,O,$);if(isKeepAlive(y)&&(F.ctx.renderer=q),setupComponent(F,!1,H),F.asyncDep){if($&&$.registerDep(F,Y,H),!y.el){const B=F.subTree=createVNode(Comment);v(null,B,w,E),y.placeholder=B.el}}else Y(F,y,w,E,$,P,H)},Z=(y,w,E)=>{const O=w.component=y.component;if(shouldUpdateComponent(y,w,E))if(O.asyncDep&&!O.asyncResolved){z(O,w,E);return}else O.next=w,O.update();else w.el=y.el,O.vnode=w},Y=(y,w,E,O,$,P,H)=>{const F=()=>{if(y.isMounted){let{next:U,bu:G,u:Q,parent:se,vnode:oe}=y;{const be=locateNonHydratedAsyncRoot(y);if(be){U&&(U.el=oe.el,z(y,U,H)),be.asyncDep.then(()=>{y.isUnmounted||F()});return}}let ne=U,de;toggleRecurse(y,!1),U?(U.el=oe.el,z(y,U,H)):U=oe,G&&invokeArrayFns(G),(de=U.props&&U.props.onVnodeBeforeUpdate)&&invokeVNodeHook(de,se,U,oe),toggleRecurse(y,!0);const fe=renderComponentRoot(y),_e=y.subTree;y.subTree=fe,_(_e,fe,d(_e.el),I(_e),y,$,P),U.el=fe.el,ne===null&&updateHOCHostEl(y,fe.el),Q&&queuePostRenderEffect(Q,$),(de=U.props&&U.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(de,se,U,oe),$)}else{let U;const{el:G,props:Q}=w,{bm:se,m:oe,parent:ne,root:de,type:fe}=y,_e=isAsyncWrapper(w);toggleRecurse(y,!1),se&&invokeArrayFns(se),!_e&&(U=Q&&Q.onVnodeBeforeMount)&&invokeVNodeHook(U,ne,w),toggleRecurse(y,!0);{de.ce&&de.ce._def.shadowRoot!==!1&&de.ce._injectChildStyle(fe);const be=y.subTree=renderComponentRoot(y);_(null,be,E,O,y,$,P),w.el=be.el}if(oe&&queuePostRenderEffect(oe,$),!_e&&(U=Q&&Q.onVnodeMounted)){const be=w;queuePostRenderEffect(()=>invokeVNodeHook(U,ne,be),$)}(w.shapeFlag&256||ne&&isAsyncWrapper(ne.vnode)&&ne.vnode.shapeFlag&256)&&y.a&&queuePostRenderEffect(y.a,$),y.isMounted=!0,w=E=O=null}};y.scope.on();const B=y.effect=new ReactiveEffect(F);y.scope.off();const D=y.update=B.run.bind(B),J=y.job=B.runIfDirty.bind(B);J.i=y,J.id=y.uid,B.scheduler=()=>queueJob(J),toggleRecurse(y,!0),D()},z=(y,w,E)=>{w.component=y;const O=y.vnode.props;y.vnode=w,y.next=null,updateProps(y,w.props,O,E),updateSlots(y,w.children,E),pauseTracking(),flushPreFlushCbs(y),resetTracking()},ee=(y,w,E,O,$,P,H,F,B=!1)=>{const D=y&&y.children,J=y?y.shapeFlag:0,U=w.children,{patchFlag:G,shapeFlag:Q}=w;if(G>0){if(G&128){ce(D,U,E,O,$,P,H,F,B);return}else if(G&256){re(D,U,E,O,$,P,H,F,B);return}}Q&8?(J&16&&le(D,$,P),U!==D&&u(E,U)):J&16?Q&16?ce(D,U,E,O,$,P,H,F,B):le(D,$,P,!0):(J&8&&u(E,""),Q&16&&M(U,E,O,$,P,H,F,B))},re=(y,w,E,O,$,P,H,F,B)=>{y=y||EMPTY_ARR,w=w||EMPTY_ARR;const D=y.length,J=w.length,U=Math.min(D,J);let G;for(G=0;G<U;G++){const Q=w[G]=B?cloneIfMounted(w[G]):normalizeVNode(w[G]);_(y[G],Q,E,null,$,P,H,F,B)}D>J?le(y,$,P,!0,!1,U):M(w,E,O,$,P,H,F,B,U)},ce=(y,w,E,O,$,P,H,F,B)=>{let D=0;const J=w.length;let U=y.length-1,G=J-1;for(;D<=U&&D<=G;){const Q=y[D],se=w[D]=B?cloneIfMounted(w[D]):normalizeVNode(w[D]);if(isSameVNodeType(Q,se))_(Q,se,E,null,$,P,H,F,B);else break;D++}for(;D<=U&&D<=G;){const Q=y[U],se=w[G]=B?cloneIfMounted(w[G]):normalizeVNode(w[G]);if(isSameVNodeType(Q,se))_(Q,se,E,null,$,P,H,F,B);else break;U--,G--}if(D>U){if(D<=G){const Q=G+1,se=Q<J?w[Q].el:O;for(;D<=G;)_(null,w[D]=B?cloneIfMounted(w[D]):normalizeVNode(w[D]),E,se,$,P,H,F,B),D++}}else if(D>G)for(;D<=U;)ae(y[D],$,P,!0),D++;else{const Q=D,se=D,oe=new Map;for(D=se;D<=G;D++){const pe=w[D]=B?cloneIfMounted(w[D]):normalizeVNode(w[D]);pe.key!=null&&oe.set(pe.key,D)}let ne,de=0;const fe=G-se+1;let _e=!1,be=0;const we=new Array(fe);for(D=0;D<fe;D++)we[D]=0;for(D=Q;D<=U;D++){const pe=y[D];if(de>=fe){ae(pe,$,P,!0);continue}let ye;if(pe.key!=null)ye=oe.get(pe.key);else for(ne=se;ne<=G;ne++)if(we[ne-se]===0&&isSameVNodeType(pe,w[ne])){ye=ne;break}ye===void 0?ae(pe,$,P,!0):(we[ye-se]=D+1,ye>=be?be=ye:_e=!0,_(pe,w[ye],E,null,$,P,H,F,B),de++)}const xe=_e?getSequence(we):EMPTY_ARR;for(ne=xe.length-1,D=fe-1;D>=0;D--){const pe=se+D,ye=w[pe],Te=w[pe+1],Ee=pe+1<J?Te.el||Te.placeholder:O;we[D]===0?_(null,ye,E,Ee,$,P,H,F,B):_e&&(ne<0||D!==xe[ne]?ue(ye,E,Ee,2):ne--)}}},ue=(y,w,E,O,$=null)=>{const{el:P,type:H,transition:F,children:B,shapeFlag:D}=y;if(D&6){ue(y.component.subTree,w,E,O);return}if(D&128){y.suspense.move(w,E,O);return}if(D&64){H.move(y,w,E,q);return}if(H===Fragment){n(P,w,E);for(let U=0;U<B.length;U++)ue(B[U],w,E,O);n(y.anchor,w,E);return}if(H===Static){x(y,w,E);return}if(O!==2&&D&1&&F)if(O===0)F.beforeEnter(P),n(P,w,E),queuePostRenderEffect(()=>F.enter(P),$);else{const{leave:U,delayLeave:G,afterLeave:Q}=F,se=()=>{y.ctx.isUnmounted?i(P):n(P,w,E)},oe=()=>{P._isLeaving&&P[leaveCbKey](!0),U(P,()=>{se(),Q&&Q()})};G?G(P,se,oe):oe()}else n(P,w,E)},ae=(y,w,E,O=!1,$=!1)=>{const{type:P,props:H,ref:F,children:B,dynamicChildren:D,shapeFlag:J,patchFlag:U,dirs:G,cacheIndex:Q}=y;if(U===-2&&($=!1),F!=null&&(pauseTracking(),setRef(F,null,E,y,!0),resetTracking()),Q!=null&&(w.renderCache[Q]=void 0),J&256){w.ctx.deactivate(y);return}const se=J&1&&G,oe=!isAsyncWrapper(y);let ne;if(oe&&(ne=H&&H.onVnodeBeforeUnmount)&&invokeVNodeHook(ne,w,y),J&6)me(y.component,E,O);else{if(J&128){y.suspense.unmount(E,O);return}se&&invokeDirectiveHook(y,null,w,"beforeUnmount"),J&64?y.type.remove(y,w,E,q,O):D&&!D.hasOnce&&(P!==Fragment||U>0&&U&64)?le(D,w,E,!1,!0):(P===Fragment&&U&384||!$&&J&16)&&le(B,w,E),O&&ge(y)}(oe&&(ne=H&&H.onVnodeUnmounted)||se)&&queuePostRenderEffect(()=>{ne&&invokeVNodeHook(ne,w,y),se&&invokeDirectiveHook(y,null,w,"unmounted")},E)},ge=y=>{const{type:w,el:E,anchor:O,transition:$}=y;if(w===Fragment){he(E,O);return}if(w===Static){T(y);return}const P=()=>{i(E),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(y.shapeFlag&1&&$&&!$.persisted){const{leave:H,delayLeave:F}=$,B=()=>H(E,P);F?F(y.el,P,B):B()}else P()},he=(y,w)=>{let E;for(;y!==w;)E=f(y),i(y),y=E;i(w)},me=(y,w,E)=>{const{bum:O,scope:$,job:P,subTree:H,um:F,m:B,a:D}=y;invalidateMount(B),invalidateMount(D),O&&invokeArrayFns(O),$.stop(),P&&(P.flags|=8,ae(H,y,w,E)),F&&queuePostRenderEffect(F,w),queuePostRenderEffect(()=>{y.isUnmounted=!0},w)},le=(y,w,E,O=!1,$=!1,P=0)=>{for(let H=P;H<y.length;H++)ae(y[H],w,E,O,$)},I=y=>{if(y.shapeFlag&6)return I(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const w=f(y.anchor||y.el),E=w&&w[TeleportEndKey];return E?f(E):w};let W=!1;const V=(y,w,E)=>{y==null?w._vnode&&ae(w._vnode,null,null,!0):_(w._vnode||null,y,w,null,null,null,E),w._vnode=y,W||(W=!0,flushPreFlushCbs(),flushPostFlushCbs(),W=!1)},q={p:_,um:ae,m:ue,r:ge,mt:te,mc:M,pc:ee,pbc:L,n:I,o:t};return{render:V,hydrate:void 0,createApp:createAppAPI(V)}}function resolveChildrenNamespace({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function toggleRecurse({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function needTransition(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(t,e,s=!1){const n=t.children,i=e.children;if(isArray$2(n)&&isArray$2(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=cloneIfMounted(i[r]),a.el=o.el),!s&&a.patchFlag!==-2&&traverseStaticChildren(o,a)),a.type===Text&&a.patchFlag!==-1&&(a.el=o.el),a.type===Comment&&!a.el&&(a.el=o.el)}}function getSequence(t){const e=t.slice(),s=[0];let n,i,r,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(i=s[s.length-1],t[i]<c){e[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,t[s[a]]<c?r=a+1:o=a;c<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function locateNonHydratedAsyncRoot(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:locateNonHydratedAsyncRoot(e)}function invalidateMount(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watch(t,e,s){return doWatch(t,e,s)}function doWatch(t,e,s=EMPTY_OBJ){const{immediate:n,deep:i,flush:r,once:o}=s,a=extend({},s),l=e&&n||!e&&r!=="post";let c;if(isInSSRComponentSetup){if(r==="sync"){const g=useSSRContext();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=NOOP,g.resume=NOOP,g.pause=NOOP,g}}const u=currentInstance;a.call=(g,m,_)=>callWithAsyncErrorHandling(g,u,m,_);let d=!1;r==="post"?a.scheduler=g=>{queuePostRenderEffect(g,u&&u.suspense)}:r!=="sync"&&(d=!0,a.scheduler=(g,m)=>{m?g():queueJob(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const f=watch$1(t,e,a);return isInSSRComponentSetup&&(c?c.push(f):l&&f()),f}function instanceWatch(t,e,s){const n=this.proxy,i=isString$1(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let r;isFunction$2(e)?r=e:(r=e.handler,s=e);const o=setCurrentInstance(this),a=doWatch(i,r.bind(n),s);return o(),a}function createPathGetter(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const getModelModifiers=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${camelize(e)}Modifiers`]||t[`${hyphenate(e)}Modifiers`];function emit(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||EMPTY_OBJ;let i=s;const r=e.startsWith("update:"),o=r&&getModelModifiers(n,e.slice(7));o&&(o.trim&&(i=s.map(u=>isString$1(u)?u.trim():u)),o.number&&(i=s.map(looseToNumber)));let a,l=n[a=toHandlerKey(e)]||n[a=toHandlerKey(camelize(e))];!l&&r&&(l=n[a=toHandlerKey(hyphenate(e))]),l&&callWithAsyncErrorHandling(l,t,6,i);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,callWithAsyncErrorHandling(c,t,6,i)}}function normalizeEmitsOptions(t,e,s=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!isFunction$2(t)){const l=c=>{const u=normalizeEmitsOptions(c,e,!0);u&&(a=!0,extend(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(isObject$1(t)&&n.set(t,null),null):(isArray$2(r)?r.forEach(l=>o[l]=null):extend(o,r),isObject$1(t)&&n.set(t,o),o)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:g,ctx:m,inheritAttrs:_}=t,b=setCurrentRenderingInstance(t);let v,S;try{if(s.shapeFlag&4){const T=i||n,A=T;v=normalizeVNode(c.call(A,T,u,d,g,f,m)),S=a}else{const T=e;v=normalizeVNode(T.length>1?T(d,{attrs:a,slots:o,emit:l}):T(d,null)),S=e.props?a:getFunctionalFallthrough(a)}}catch(T){blockStack.length=0,handleError$2(T,t,1),v=createVNode(Comment)}let x=v;if(S&&_!==!1){const T=Object.keys(S),{shapeFlag:A}=x;T.length&&A&7&&(r&&T.some(isModelListener)&&(S=filterModelListeners(S,r)),x=cloneVNode(x,S,!1,!0))}return s.dirs&&(x=cloneVNode(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(s.dirs):s.dirs),s.transition&&setTransitionHooks(x,s.transition),v=x,setCurrentRenderingInstance(b),v}const getFunctionalFallthrough=t=>{let e;for(const s in t)(s==="class"||s==="style"||isOn(s))&&((e||(e={}))[s]=t[s]);return e},filterModelListeners=(t,e)=>{const s={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function shouldUpdateComponent(t,e,s){const{props:n,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?hasPropsChanged(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==n[f]&&!isEmitListener(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?hasPropsChanged(n,o,c):!0:!!o;return!1}function hasPropsChanged(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r]&&!isEmitListener(s,r))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$2(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t,e=!1){isBlockTreeEnabled+=t,t<0&&currentBlock&&e&&(currentBlock.hasOnce=!0)}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,s,n,i,r){return setupBlock(createBaseVNode(t,e,s,n,i,r,!0))}function createBlock(t,e,s,n,i){return setupBlock(createVNode(t,e,s,n,i,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?isString$1(t)||isRef(t)||isFunction$2(t)?{i:currentRenderingInstance,r:t,k:e,f:!!s}:t:null);function createBaseVNode(t,e=null,s=null,n=0,i=null,r=t===Fragment?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return a?(normalizeChildren(l,s),r&128&&t.normalize(l)):s&&(l.shapeFlag|=isString$1(s)?8:16),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(t,e=null,s=null,n=0,i=null,r=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const a=cloneVNode(t,e,!0);return s&&normalizeChildren(a,s),isBlockTreeEnabled>0&&!r&&currentBlock&&(a.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=a:currentBlock.push(a)),a.patchFlag=-2,a}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:a,style:l}=e;a&&!isString$1(a)&&(e.class=normalizeClass(a)),isObject$1(l)&&(isProxy(l)&&!isArray$2(l)&&(l=extend({},l)),e.style=normalizeStyle(l))}const o=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$1(t)?4:isFunction$2(t)?2:0;return createBaseVNode(t,e,s,n,i,o,r,!0)}function guardReactiveProps(t){return t?isProxy(t)||isInternalObject(t)?extend({},t):t:null}function cloneVNode(t,e,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?mergeProps(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?s&&r?isArray$2(r)?r.concat(normalizeRef(e)):[r,normalizeRef(e)]:normalizeRef(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&setTransitionHooks(u,l.clone(u)),u}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$2(t)?createVNode(Fragment,null,t.slice()):isVNode(t)?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray$2(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),normalizeChildren(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!isInternalObject(e)?e._ctx=currentRenderingInstance:i===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$2(e)?(e={default:e,_ctx:currentRenderingInstance},s=32):(e=String(e),n&64?(s=16,e=[createTextVNode(e)]):s=8);t.children=e,t.shapeFlag|=s}function mergeProps(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(i==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(i)){const r=e[i],o=n[i];o&&r!==o&&!(isArray$2(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function invokeVNodeHook(t,e,s,n=null){callWithAsyncErrorHandling(t,e,7,[s,n])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||emptyAppContext,r={uid:uid$2++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,i),emitsOptions:normalizeEmitsOptions(n,i),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=emit.bind(null,r),t.ce&&t.ce(r),r}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const t=getGlobalThis(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};internalSetCurrentInstance=e("__VUE_INSTANCE_SETTERS__",s=>currentInstance=s),setInSSRSetupState=e("__VUE_SSR_SETTERS__",s=>isInSSRComponentSetup=s)}const setCurrentInstance=t=>{const e=currentInstance;return internalSetCurrentInstance(t),t.scope.on(),()=>{t.scope.off(),internalSetCurrentInstance(e)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1,s=!1){e&&setInSSRSetupState(e);const{props:n,children:i}=t.vnode,r=isStatefulComponent(t);initProps(t,n,r,e),initSlots(t,i,s||e);const o=r?setupStatefulComponent(t,e):void 0;return e&&setInSSRSetupState(!1),o}function setupStatefulComponent(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,PublicInstanceProxyHandlers);const{setup:n}=s;if(n){pauseTracking();const i=t.setupContext=n.length>1?createSetupContext(t):null,r=setCurrentInstance(t),o=callWithErrorHandling(n,t,0,[t.props,i]),a=isPromise(o);if(resetTracking(),r(),(a||t.sp)&&!isAsyncWrapper(t)&&markAsyncBoundary(t),a){if(o.then(unsetCurrentInstance,unsetCurrentInstance),e)return o.then(l=>{handleSetupResult(t,l)}).catch(l=>{handleError$2(l,t,0)});t.asyncDep=o}else handleSetupResult(t,o)}else finishComponentSetup(t)}function handleSetupResult(t,e,s){isFunction$2(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$1(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t)}function finishComponentSetup(t,e,s){const n=t.type;t.render||(t.render=n.render||NOOP);{const i=setCurrentInstance(t);pauseTracking();try{applyOptions(t)}finally{resetTracking(),i()}}}const attrsProxyHandlers={get(t,e){return track(t,"get",""),t[e]}};function createSetupContext(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,attrsProxyHandlers),slots:t.slots,emit:t.emit,expose:e}}function getComponentPublicInstance(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](t)},has(e,s){return s in e||s in publicPropertiesMap}})):t.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(t,e=!0){return isFunction$2(t)?t.displayName||t.name:t.name||e&&t.__name}function formatComponentName(t,e,s=!1){let n=getComponentName(e);if(!n&&e.__file){const i=e.__file.match(/([^/\\]+)\.\w+$/);i&&(n=i[1])}if(!n&&t&&t.parent){const i=r=>{for(const o in r)if(r[o]===e)return o};n=i(t.components||t.parent.type.components)||i(t.appContext.components)}return n?classify(n):s?"App":"Anonymous"}function isClassComponent(t){return isFunction$2(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,s){const n=arguments.length;return n===2?isObject$1(e)&&!isArray$2(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&isVNode(s)&&(s=[s]),createVNode(t,e,s))}const version$5="3.5.20";/**
* @vue/runtime-dom v3.5.20
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:t=>t})}catch{}const unsafeToTrustedHTML=policy?t=>policy.createHTML(t):t=>t,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?doc.createElementNS(svgNS,t):e==="mathml"?doc.createElementNS(mathmlNS,t):s?doc.createElement(t,{is:s}):doc.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,r){const o=s?s.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=templateContainer.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=t=>(t.displayName="Transition",t.props=TransitionPropsValidators,t),Transition=decorate$1((t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e)),callHook=(t,e=[])=>{isArray$2(t)?t.forEach(s=>s(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$2(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const N in t)N in DOMTransitionPropsValidators||(e[N]=t[N]);if(t.css===!1)return e;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,m=normalizeDuration(i),_=m&&m[0],b=m&&m[1],{onBeforeEnter:v,onEnter:S,onEnterCancelled:x,onLeave:T,onLeaveCancelled:A,onBeforeAppear:R=v,onAppear:C=S,onAppearCancelled:M=x}=e,k=(N,K,te,Z)=>{N._enterCancelled=Z,removeTransitionClass(N,K?u:a),removeTransitionClass(N,K?c:o),te&&te()},L=(N,K)=>{N._isLeaving=!1,removeTransitionClass(N,d),removeTransitionClass(N,g),removeTransitionClass(N,f),K&&K()},j=N=>(K,te)=>{const Z=N?C:S,Y=()=>k(K,N,te);callHook(Z,[K,Y]),nextFrame(()=>{removeTransitionClass(K,N?l:r),addTransitionClass(K,N?u:a),hasExplicitCallback(Z)||whenTransitionEnds(K,n,_,Y)})};return extend(e,{onBeforeEnter(N){callHook(v,[N]),addTransitionClass(N,r),addTransitionClass(N,o)},onBeforeAppear(N){callHook(R,[N]),addTransitionClass(N,l),addTransitionClass(N,c)},onEnter:j(!1),onAppear:j(!0),onLeave(N,K){N._isLeaving=!0;const te=()=>L(N,K);addTransitionClass(N,d),N._enterCancelled?(addTransitionClass(N,f),forceReflow()):(forceReflow(),addTransitionClass(N,f)),nextFrame(()=>{N._isLeaving&&(removeTransitionClass(N,d),addTransitionClass(N,g),hasExplicitCallback(T)||whenTransitionEnds(N,n,b,te))}),callHook(T,[N,te])},onEnterCancelled(N){k(N,!1,void 0,!0),callHook(x,[N])},onAppearCancelled(N){k(N,!0,void 0,!0),callHook(M,[N])},onLeaveCancelled(N){L(N),callHook(A,[N])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$1(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber$1(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[vtcKey]||(t[vtcKey]=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[vtcKey];s&&(s.delete(e),s.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,s,n){const i=t._endId=++endId,r=()=>{i===t._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:o,timeout:a,propCount:l}=getTransitionInfo(t,e);if(!o)return n();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),r()},f=g=>{g.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function getTransitionInfo(t,e){const s=window.getComputedStyle(t),n=m=>(s[m]||"").split(", "),i=n(`${TRANSITION}Delay`),r=n(`${TRANSITION}Duration`),o=getTimeout(i,r),a=n(`${ANIMATION}Delay`),l=n(`${ANIMATION}Duration`),c=getTimeout(a,l);let u=null,d=0,f=0;e===TRANSITION?o>0&&(u=TRANSITION,d=o,f=r.length):e===ANIMATION?c>0&&(u=ANIMATION,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?TRANSITION:ANIMATION:null,f=u?u===TRANSITION?r.length:l.length:0);const g=u===TRANSITION&&/\b(transform|all)(,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:g}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>toMs(s)+toMs(t[n])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(t,e,s){const n=t[vtcKey];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(t,e,s){const n=t.style,i=isString$1(s);let r=!1;if(s&&!i){if(e)if(isString$1(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&setStyle(n,a,"")}else for(const o in e)s[o]==null&&setStyle(n,o,"");for(const o in s)o==="display"&&(r=!0),setStyle(n,o,s[o])}else if(i){if(e!==s){const o=n[CSS_VAR_TEXT];o&&(s+=";"+o),n.cssText=s,r=displayRE.test(s)}}else e&&t.removeAttribute("style");vShowOriginalDisplay in t&&(t[vShowOriginalDisplay]=r?n.display:"",t[vShowHidden]&&(n.display="none"))}const importantRE=/\s*!important$/;function setStyle(t,e,s){if(isArray$2(s))s.forEach(n=>setStyle(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=autoPrefix(t,e);importantRE.test(s)?t.setProperty(hyphenate(n),s.replace(importantRE,""),"important"):t[n]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const s=prefixCache[e];if(s)return s;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize(n);for(let i=0;i<prefixes.length;i++){const r=prefixes[i]+n;if(r in t)return prefixCache[e]=r}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,s,n,i,r=isSpecialBooleanAttr(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,s):s==null||r&&!includeBooleanAttr(s)?t.removeAttribute(e):t.setAttribute(e,r?"":isSymbol(s)?String(s):s)}function patchDOMProp(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?unsafeToTrustedHTML(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=includeBooleanAttr(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function addEventListener(t,e,s,n){t.addEventListener(e,s,n)}function removeEventListener(t,e,s,n){t.removeEventListener(e,s,n)}const veiKey=Symbol("_vei");function patchEvent(t,e,s,n,i=null){const r=t[veiKey]||(t[veiKey]={}),o=r[e];if(n&&o)o.value=n;else{const[a,l]=parseName(e);if(n){const c=r[e]=createInvoker(n,i);addEventListener(t,a,c,l)}else o&&(removeEventListener(t,a,o,l),r[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let n;for(;n=t.match(optionsModifierRE);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,s.value),e,5,[n])};return s.value=t,s.attached=getNow(),s}function patchStopImmediatePropagation(t,e){if(isArray$2(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const isNativeOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,patchProp=(t,e,s,n,i,r)=>{const o=i==="svg";e==="class"?patchClass(t,n,o):e==="style"?patchStyle(t,s,n):isOn(e)?isModelListener(e)||patchEvent(t,e,s,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,o))?(patchDOMProp(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&patchAttr(t,e,n,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!isString$1(n))?patchDOMProp(t,camelize(e),n,r,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,o))};function shouldSetAsProp(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&isNativeOn(e)&&isFunction$2(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return isNativeOn(e)&&isString$1(s)?!1:e in t}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const e=ensureRenderer().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=normalizeContainer(n);if(!i)return;const r=e._component;!isFunction$2(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,resolveRootNamespace(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function resolveRootNamespace(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject$1(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref({}));let s=[],n=[];const i=markRaw({install(r){setActivePinia(i),i._a=r,r.provide(piniaSymbol,i),r.config.globalProperties.$pinia=i,n.forEach(o=>s.push(o)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return i}const noop$5=()=>{};function addSubscription(t,e,s,n=noop$5){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),n())};return!s&&getCurrentScope()&&onScopeDispose(i),i}function triggerSubscriptions(t,...e){t.slice().forEach(s=>{s(...e)})}const fallbackRunWithContext=t=>t(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],i=t[s];isPlainObject$1(i)&&isPlainObject$1(n)&&t.hasOwnProperty(s)&&!isRef(n)&&!isReactive(n)?t[s]=mergeReactiveObjects(i,n):t[s]=n}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject$1(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,s,n){const{state:i,actions:r,getters:o}=e,a=s.state.value[t];let l;function c(){a||(s.state.value[t]=i?i():{});const u=toRefs(s.state.value[t]);return assign$1(u,r,Object.keys(o||{}).reduce((d,f)=>(d[f]=markRaw(computed(()=>{setActivePinia(s);const g=s._s.get(t);return o[f].call(g,g)})),d),{}))}return l=createSetupStore(t,c,e,s,n,!0),l}function createSetupStore(t,e,s={},n,i,r){let o;const a=assign$1({actions:{}},s),l={deep:!0};let c,u,d=[],f=[],g;const m=n.state.value[t];!r&&!m&&(n.state.value[t]={}),ref({});let _;function b(M){let k;c=u=!1,typeof M=="function"?(M(n.state.value[t]),k={type:MutationType.patchFunction,storeId:t,events:g}):(mergeReactiveObjects(n.state.value[t],M),k={type:MutationType.patchObject,payload:M,storeId:t,events:g});const L=_=Symbol();nextTick().then(()=>{_===L&&(c=!0)}),u=!0,triggerSubscriptions(d,k,n.state.value[t])}const v=r?function(){const{state:k}=s,L=k?k():{};this.$patch(j=>{assign$1(j,L)})}:noop$5;function S(){o.stop(),d=[],f=[],n._s.delete(t)}const x=(M,k="")=>{if(ACTION_MARKER in M)return M[ACTION_NAME]=k,M;const L=function(){setActivePinia(n);const j=Array.from(arguments),N=[],K=[];function te(z){N.push(z)}function Z(z){K.push(z)}triggerSubscriptions(f,{args:j,name:L[ACTION_NAME],store:A,after:te,onError:Z});let Y;try{Y=M.apply(this&&this.$id===t?this:A,j)}catch(z){throw triggerSubscriptions(K,z),z}return Y instanceof Promise?Y.then(z=>(triggerSubscriptions(N,z),z)).catch(z=>(triggerSubscriptions(K,z),Promise.reject(z))):(triggerSubscriptions(N,Y),Y)};return L[ACTION_MARKER]=!0,L[ACTION_NAME]=k,L},T={_p:n,$id:t,$onAction:addSubscription.bind(null,f),$patch:b,$reset:v,$subscribe(M,k={}){const L=addSubscription(d,M,k.detached,()=>j()),j=o.run(()=>watch(()=>n.state.value[t],N=>{(k.flush==="sync"?u:c)&&M({storeId:t,type:MutationType.direct,events:g},N)},assign$1({},l,k)));return L},$dispose:S},A=reactive(T);n._s.set(t,A);const C=(n._a&&n._a.runWithContext||fallbackRunWithContext)(()=>n._e.run(()=>(o=effectScope()).run(()=>e({action:x}))));for(const M in C){const k=C[M];if(isRef(k)&&!isComputed(k)||isReactive(k))r||(m&&shouldHydrate(k)&&(isRef(k)?k.value=m[M]:mergeReactiveObjects(k,m[M])),n.state.value[t][M]=k);else if(typeof k=="function"){const L=x(k,M);C[M]=L,a.actions[M]=k}}return assign$1(A,C),assign$1(toRaw(A),C),Object.defineProperty(A,"$state",{get:()=>n.state.value[t],set:M=>{b(k=>{assign$1(k,M)})}}),n._p.forEach(M=>{assign$1(A,o.run(()=>M({store:A,app:n._a,pinia:n,options:a})))}),m&&r&&s.hydrate&&s.hydrate(A.$state,m),c=!0,u=!0,A}/*! #__NO_SIDE_EFFECTS__ */function defineStore(t,e,s){let n,i;const r=typeof e=="function";n=t,i=r?s:e;function o(a,l){const c=hasInjectionContext();return a=a||(c?inject(piniaSymbol,null):null),a&&setActivePinia(a),a=activePinia,a._s.has(n)||(r?createSetupStore(n,e,i,a):createOptionsStore(n,i,a)),a._s.get(n)}return o.$id=n,o}const _export_sfc=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},_sfc_main$m={};function _sfc_render(t,e){const s=resolveComponent("RouterView");return openBlock(),createBlock(s)}const App=_export_sfc(_sfc_main$m,[["render",_sfc_render]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser$1=typeof document<"u";function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&isRouteComponent(t.default)}const assign=Object.assign;function applyToParams(t,e){const s={};for(const n in e){const i=e[n];s[n]=isArray$1(i)?i.map(t):t(i)}return s}const noop$4=()=>{},isArray$1=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,s="/"){let n,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),i=t(r)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=resolveRelativePath(n??e,s),{fullPath:n+(r&&"?")+r+o,path:n,query:i,hash:decode(o)}}function stringifyURL(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,s){const n=e.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&isSameRouteRecord(e.matched[n],s.matched[i])&&isSameRouteLocationParams(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!isSameRouteLocationParamsValue(t[s],e[s]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray$1(t)?isEquivalentArray(t,e):isArray$1(e)?isEquivalentArray(e,t):t===e}function isEquivalentArray(t,e){return isArray$1(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser$1){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;e=getElementPosition(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:s,search:n,hash:i}=e,r=t.indexOf("#");if(r>-1){let a=i.includes(t.slice(r))?t.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),stripBase(l,"")}return stripBase(s,t)+n+i}function useHistoryListeners(t,e,s,n){let i=[],r=[],o=null;const a=({state:f})=>{const g=createCurrentLocation(t,location),m=s.value,_=e.value;let b=0;if(f){if(s.value=g,e.value=f,o&&o===m){o=null;return}b=_?f.position-_.position:0}else n(g);i.forEach(v=>{v(s.value,m,{delta:b,type:NavigationType.pop,direction:b?b>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function l(){o=s.value}function c(f){i.push(f);const g=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return r.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(assign({},f.state,{scroll:computeScrollPosition()}),"")}function d(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function buildState(t,e,s,n=!1,i=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:i?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:s}=window,n={value:createCurrentLocation(t,s)},i={value:e.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const d=t.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:createBaseLocation()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(g){console.error(g),s[u?"replace":"assign"](f)}}function o(l,c){const u=assign({},e.state,buildState(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),n.value=l}function a(l,c){const u=assign({},i.value,e.state,{forward:l,scroll:computeScrollPosition()});r(u.current,u,!0);const d=assign({},buildState(n.value,l,null),{position:u.position+1},c);r(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),s=useHistoryListeners(t,e.state,e.location,e.replace);function n(r,o=!0){o||s.pauseListeners(),history.go(r)}const i=assign({location:"",base:t,go:n,createHref:createHref.bind(null,t)},e,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,e){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const s=assign({},BASE_PATH_PARSER_OPTIONS,e),n=[];let i=s.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let g=40+(s.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(REGEX_CHARS_RE,"\\$&"),g+=40;else if(f.type===1){const{value:m,repeatable:_,optional:b,regexp:v}=f;r.push({name:m,repeatable:_,optional:b});const S=v||BASE_PARAM_PATTERN;if(S!==BASE_PARAM_PATTERN){g+=10;try{new RegExp(`(${S})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${m}" (${S}): `+T.message)}}let x=_?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(x=b&&c.length<2?`(?:/${x})`:"/"+x),b&&(x+="?"),i+=x,g+=20,b&&(g+=-8),_&&(g+=-20),S===".*"&&(g+=-50)}u.push(g)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",m=r[f-1];d[m.name]=g&&m.repeatable?g.split("/"):g}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:m,repeatable:_,optional:b}=g,v=m in c?c[m]:"";if(isArray$1(v)&&!_)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const S=isArray$1(v)?v.join("/"):v;if(!S)if(b)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=S}}return u||"/"}return{re:o,score:n,keys:r,parse:a,stringify:l}}function compareScoreArray(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function comparePathParserScore(t,e){let s=0;const n=t.score,i=e.score;for(;s<n.length&&s<i.length;){const r=compareScoreArray(n[s],i[s]);if(r)return r;s++}if(Math.abs(i.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(i))return-1}return i.length-n.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${c}": ${g}`)}let s=0,n=s;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function d(){c&&(s===0?r.push({type:0,value:c}):s===1||s===2||s===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),o()):l===":"?(d(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:VALID_PARAM_RE.test(l)?f():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function createRouteRecordMatcher(t,e,s){const n=tokensToParser(tokenizePath(t.path),s),i=assign(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function createRouterMatcher(t,e){const s=[],n=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function i(d){return n.get(d)}function r(d,f,g){const m=!g,_=normalizeRouteRecord(d);_.aliasOf=g&&g.record;const b=mergeOptions(e,d),v=[_];if("alias"in d){const T=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of T)v.push(normalizeRouteRecord(assign({},_,{components:g?g.record.components:_.components,path:A,aliasOf:g?g.record:_})))}let S,x;for(const T of v){const{path:A}=T;if(f&&A[0]!=="/"){const R=f.record.path,C=R[R.length-1]==="/"?"":"/";T.path=f.record.path+(A&&C+A)}if(S=createRouteRecordMatcher(T,f,b),g?g.alias.push(S):(x=x||S,x!==S&&x.alias.push(S),m&&d.name&&!isAliasRecord(S)&&o(d.name)),isMatchable(S)&&l(S),_.children){const R=_.children;for(let C=0;C<R.length;C++)r(R[C],S,g&&g.children[C])}g=g||S}return x?()=>{o(x)}:noop$4}function o(d){if(isRouteName(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const f=findInsertionIndex(d,s);s.splice(f,0,d),d.record.name&&!isAliasRecord(d)&&n.set(d.record.name,d)}function c(d,f){let g,m={},_,b;if("name"in d&&d.name){if(g=n.get(d.name),!g)throw createRouterError(1,{location:d});b=g.record.name,m=assign(paramsFromLocation(f.params,g.keys.filter(x=>!x.optional).concat(g.parent?g.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),d.params&&paramsFromLocation(d.params,g.keys.map(x=>x.name))),_=g.stringify(m)}else if(d.path!=null)_=d.path,g=s.find(x=>x.re.test(_)),g&&(m=g.parse(_),b=g.record.name);else{if(g=f.name?n.get(f.name):s.find(x=>x.re.test(f.path)),!g)throw createRouterError(1,{location:d,currentLocation:f});b=g.record.name,m=assign({},f.params,d.params),_=g.stringify(m)}const v=[];let S=g;for(;S;)v.unshift(S.record),S=S.parent;return{name:b,path:_,params:m,matched:v,meta:mergeMetaFields(v)}}t.forEach(d=>r(d));function u(){s.length=0,n.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function paramsFromLocation(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function normalizeRouteRecord(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function normalizeRecordProps(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,s)=>assign(e,s.meta),{})}function mergeOptions(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function findInsertionIndex(t,e){let s=0,n=e.length;for(;s!==n;){const r=s+n>>1;comparePathParserScore(t,e[r])<0?n=r:s=r+1}const i=getInsertionAncestor(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function getInsertionAncestor(t){let e=t;for(;e=e.parent;)if(isMatchable(e)&&comparePathParserScore(t,e)===0)return e}function isMatchable({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function parseQuery(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const r=n[i].replace(PLUS_RE," "),o=r.indexOf("="),a=decode(o<0?r:r.slice(0,o)),l=o<0?null:decode(r.slice(o+1));if(a in e){let c=e[a];isArray$1(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function stringifyQuery(t){let e="";for(let s in t){const n=t[s];if(s=encodeQueryKey(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(isArray$1(n)?n.map(r=>r&&encodeQueryValue(r)):[n&&encodeQueryValue(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function normalizeQuery(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=isArray$1(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function guardToPromiseFn(t,e,s,n,i,r=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(createRouterError(4,{from:s,to:e})):f instanceof Error?l(f):isRouteLocation(f)?l(createRouterError(2,{from:e,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},u=r(()=>t.call(n&&n.instances[i],e,s,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function extractComponentsGuards(t,e,s,n,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(isRouteComponent(l)){const u=(l.__vccOpts||l)[e];u&&r.push(guardToPromiseFn(u,s,n,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=isESModule(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const g=(d.__vccOpts||d)[e];return g&&guardToPromiseFn(g,s,n,o,a,i)()}))}}return r}function useLink(t){const e=inject(routerKey),s=inject(routeLocationKey),n=computed(()=>{const l=unref(t.to);return e.resolve(l)}),i=computed(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const f=d.findIndex(isSameRouteRecord.bind(null,u));if(f>-1)return f;const g=getOriginalPath(l[c-2]);return c>1&&getOriginalPath(u)===g&&d[d.length-1].path!==g?d.findIndex(isSameRouteRecord.bind(null,l[c-2])):f}),r=computed(()=>i.value>-1&&includesParams(s.params,n.value.params)),o=computed(()=>i.value>-1&&i.value===s.matched.length-1&&isSameRouteLocationParams(s.params,n.value.params));function a(l={}){if(guardEvent(l)){const c=e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop$4);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:computed(()=>n.value.href),isActive:r,isExactActive:o,navigate:a}}function preferSingleVNode(t){return t.length===1?t[0]:t}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(t,{slots:e}){const s=reactive(useLink(t)),{options:n}=inject(routerKey),i=computed(()=>({[getLinkClass(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[getLinkClass(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=e.default&&preferSingleVNode(e.default(s));return t.custom?r:h("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},r)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const s in e){const n=e[s],i=t[s];if(typeof n=="string"){if(n!==i)return!1}else if(!isArray$1(i)||i.length!==n.length||n.some((r,o)=>r!==i[o]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,s)=>t??e??s,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=inject(routerViewLocationKey),i=computed(()=>t.route||n.value),r=inject(viewDepthKey,0),o=computed(()=>{let c=unref(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=computed(()=>i.value.matched[o.value]);provide(viewDepthKey,computed(()=>o.value+1)),provide(matchedRouteKey,a),provide(routerViewLocationKey,i);const l=ref();return watch(()=>[l.value,a.value,t.name],([c,u,d],[f,g,m])=>{u&&(u.instances[d]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!isSameRouteRecord(u,g)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return normalizeSlot(s.default,{Component:f,route:c});const g=d.props[u],m=g?g===!0?c.params:typeof g=="function"?g(c):g:null,b=h(f,assign({},m,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return normalizeSlot(s.default,{Component:b,route:c})||b}}});function normalizeSlot(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),s=t.parseQuery||parseQuery,n=t.stringifyQuery||stringifyQuery,i=t.history,r=useCallbacks(),o=useCallbacks(),a=useCallbacks(),l=shallowRef(START_LOCATION_NORMALIZED);let c=START_LOCATION_NORMALIZED;isBrowser$1&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=applyToParams.bind(null,I=>""+I),d=applyToParams.bind(null,encodeParam),f=applyToParams.bind(null,decode);function g(I,W){let V,q;return isRouteName(I)?(V=e.getRecordMatcher(I),q=W):q=I,e.addRoute(q,V)}function m(I){const W=e.getRecordMatcher(I);W&&e.removeRoute(W)}function _(){return e.getRoutes().map(I=>I.record)}function b(I){return!!e.getRecordMatcher(I)}function v(I,W){if(W=assign({},W||l.value),typeof I=="string"){const E=parseURL(s,I,W.path),O=e.resolve({path:E.path},W),$=i.createHref(E.fullPath);return assign(E,O,{params:f(O.params),hash:decode(E.hash),redirectedFrom:void 0,href:$})}let V;if(I.path!=null)V=assign({},I,{path:parseURL(s,I.path,W.path).path});else{const E=assign({},I.params);for(const O in E)E[O]==null&&delete E[O];V=assign({},I,{params:d(E)}),W.params=d(W.params)}const q=e.resolve(V,W),ie=I.hash||"";q.params=u(f(q.params));const y=stringifyURL(n,assign({},I,{hash:encodeHash(ie),path:q.path})),w=i.createHref(y);return assign({fullPath:y,hash:ie,query:n===stringifyQuery?normalizeQuery(I.query):I.query||{}},q,{redirectedFrom:void 0,href:w})}function S(I){return typeof I=="string"?parseURL(s,I,l.value.path):assign({},I)}function x(I,W){if(c!==I)return createRouterError(8,{from:W,to:I})}function T(I){return C(I)}function A(I){return T(assign(S(I),{replace:!0}))}function R(I){const W=I.matched[I.matched.length-1];if(W&&W.redirect){const{redirect:V}=W;let q=typeof V=="function"?V(I):V;return typeof q=="string"&&(q=q.includes("?")||q.includes("#")?q=S(q):{path:q},q.params={}),assign({query:I.query,hash:I.hash,params:q.path!=null?{}:I.params},q)}}function C(I,W){const V=c=v(I),q=l.value,ie=I.state,y=I.force,w=I.replace===!0,E=R(V);if(E)return C(assign(S(E),{state:typeof E=="object"?assign({},ie,E.state):ie,force:y,replace:w}),W||V);const O=V;O.redirectedFrom=W;let $;return!y&&isSameRouteLocation(n,q,V)&&($=createRouterError(16,{to:O,from:q}),ue(q,q,!0,!1)),($?Promise.resolve($):L(O,q)).catch(P=>isNavigationFailure(P)?isNavigationFailure(P,2)?P:ce(P):ee(P,O,q)).then(P=>{if(P){if(isNavigationFailure(P,2))return C(assign({replace:w},S(P.to),{state:typeof P.to=="object"?assign({},ie,P.to.state):ie,force:y}),W||O)}else P=N(O,q,!0,w,ie);return j(O,q,P),P})}function M(I,W){const V=x(I,W);return V?Promise.reject(V):Promise.resolve()}function k(I){const W=he.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(I):I()}function L(I,W){let V;const[q,ie,y]=extractChangingRecords(I,W);V=extractComponentsGuards(q.reverse(),"beforeRouteLeave",I,W);for(const E of q)E.leaveGuards.forEach(O=>{V.push(guardToPromiseFn(O,I,W))});const w=M.bind(null,I,W);return V.push(w),le(V).then(()=>{V=[];for(const E of r.list())V.push(guardToPromiseFn(E,I,W));return V.push(w),le(V)}).then(()=>{V=extractComponentsGuards(ie,"beforeRouteUpdate",I,W);for(const E of ie)E.updateGuards.forEach(O=>{V.push(guardToPromiseFn(O,I,W))});return V.push(w),le(V)}).then(()=>{V=[];for(const E of y)if(E.beforeEnter)if(isArray$1(E.beforeEnter))for(const O of E.beforeEnter)V.push(guardToPromiseFn(O,I,W));else V.push(guardToPromiseFn(E.beforeEnter,I,W));return V.push(w),le(V)}).then(()=>(I.matched.forEach(E=>E.enterCallbacks={}),V=extractComponentsGuards(y,"beforeRouteEnter",I,W,k),V.push(w),le(V))).then(()=>{V=[];for(const E of o.list())V.push(guardToPromiseFn(E,I,W));return V.push(w),le(V)}).catch(E=>isNavigationFailure(E,8)?E:Promise.reject(E))}function j(I,W,V){a.list().forEach(q=>k(()=>q(I,W,V)))}function N(I,W,V,q,ie){const y=x(I,W);if(y)return y;const w=W===START_LOCATION_NORMALIZED,E=isBrowser$1?history.state:{};V&&(q||w?i.replace(I.fullPath,assign({scroll:w&&E&&E.scroll},ie)):i.push(I.fullPath,ie)),l.value=I,ue(I,W,V,w),ce()}let K;function te(){K||(K=i.listen((I,W,V)=>{if(!me.listening)return;const q=v(I),ie=R(q);if(ie){C(assign(ie,{replace:!0,force:!0}),q).catch(noop$4);return}c=q;const y=l.value;isBrowser$1&&saveScrollPosition(getScrollKey(y.fullPath,V.delta),computeScrollPosition()),L(q,y).catch(w=>isNavigationFailure(w,12)?w:isNavigationFailure(w,2)?(C(assign(S(w.to),{force:!0}),q).then(E=>{isNavigationFailure(E,20)&&!V.delta&&V.type===NavigationType.pop&&i.go(-1,!1)}).catch(noop$4),Promise.reject()):(V.delta&&i.go(-V.delta,!1),ee(w,q,y))).then(w=>{w=w||N(q,y,!1),w&&(V.delta&&!isNavigationFailure(w,8)?i.go(-V.delta,!1):V.type===NavigationType.pop&&isNavigationFailure(w,20)&&i.go(-1,!1)),j(q,y,w)}).catch(noop$4)}))}let Z=useCallbacks(),Y=useCallbacks(),z;function ee(I,W,V){ce(I);const q=Y.list();return q.length?q.forEach(ie=>ie(I,W,V)):console.error(I),Promise.reject(I)}function re(){return z&&l.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((I,W)=>{Z.add([I,W])})}function ce(I){return z||(z=!I,te(),Z.list().forEach(([W,V])=>I?V(I):W()),Z.reset()),I}function ue(I,W,V,q){const{scrollBehavior:ie}=t;if(!isBrowser$1||!ie)return Promise.resolve();const y=!V&&getSavedScrollPosition(getScrollKey(I.fullPath,0))||(q||!V)&&history.state&&history.state.scroll||null;return nextTick().then(()=>ie(I,W,y)).then(w=>w&&scrollToPosition(w)).catch(w=>ee(w,I,W))}const ae=I=>i.go(I);let ge;const he=new Set,me={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:_,resolve:v,options:t,push:T,replace:A,go:ae,back:()=>ae(-1),forward:()=>ae(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:re,install(I){const W=this;I.component("RouterLink",RouterLink),I.component("RouterView",RouterView),I.config.globalProperties.$router=W,Object.defineProperty(I.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(l)}),isBrowser$1&&!ge&&l.value===START_LOCATION_NORMALIZED&&(ge=!0,T(i.location).catch(ie=>{}));const V={};for(const ie in START_LOCATION_NORMALIZED)Object.defineProperty(V,ie,{get:()=>l.value[ie],enumerable:!0});I.provide(routerKey,W),I.provide(routeLocationKey,shallowReactive(V)),I.provide(routerViewLocationKey,l);const q=I.unmount;he.add(I),I.unmount=function(){he.delete(I),he.size<1&&(c=START_LOCATION_NORMALIZED,K&&K(),K=null,l.value=START_LOCATION_NORMALIZED,ge=!1,z=!1),q()}}};function le(I){return I.reduce((W,V)=>W.then(()=>k(V)),Promise.resolve())}return me}function extractChangingRecords(t,e){const s=[],n=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(c=>isSameRouteRecord(c,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>isSameRouteRecord(c,l))||i.push(l))}return[s,n,i]}const _hoisted_1$l={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$l=defineComponent({__name:"FoodIcon",props:{title:{type:String,default:"Food"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$l,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M14.859 11.531l-1.453 1.453 6.891 6.891-1.406 1.406-6.891-6.891-6.891 6.891-1.406-1.406 9.75-9.75q-0.563-1.125-0.164-2.625t1.57-2.672q1.453-1.453 3.234-1.664t2.859 0.867 0.867 2.883-1.664 3.258q-1.172 1.172-2.672 1.547t-2.625-0.188zM8.109 13.359l-4.219-4.219q-1.172-1.172-1.172-2.813t1.172-2.813l7.031 6.984z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$k={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$k=defineComponent({__name:"ShopCartIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$k,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M17.016 18q0.797 0 1.383 0.609t0.586 1.406-0.586 1.383-1.383 0.586-1.406-0.586-0.609-1.383 0.609-1.406 1.406-0.609zM0.984 2.016h3.281l0.938 1.969h14.813q0.422 0 0.703 0.305t0.281 0.727q0 0.047-0.141 0.469l-3.563 6.469q-0.563 1.031-1.734 1.031h-7.453l-0.891 1.641-0.047 0.141q0 0.234 0.234 0.234h11.578v2.016h-12q-0.797 0-1.383-0.609t-0.586-1.406q0-0.469 0.234-0.938l1.359-2.484-3.609-7.594h-2.016v-1.969zM6.984 18q0.797 0 1.406 0.609t0.609 1.406-0.609 1.383-1.406 0.586-1.383-0.586-0.586-1.383 0.586-1.406 1.383-0.609z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$j={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$j=defineComponent({__name:"HouseIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$j,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M9.984 9.984h4.031q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383zM18.984 9.281l3 2.719h-3v8.016h-4.969v-6h-4.031v6h-4.969v-8.016h-3l9.984-9 3.984 3.609v-2.625h3v5.297z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$i={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$i=defineComponent({__name:"WineIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$i,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M6 3v6q0 1.5 0.656 2.742t1.781 2.086 2.578 1.078v4.078h-3v2.016h7.969v-2.016h-3v-4.078q1.453-0.234 2.578-1.078t1.781-2.086 0.656-2.742v-6h-12zM15.984 8.016h-7.969v-3h7.969v3z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$h={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$h=defineComponent({__name:"WalletIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$h,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M15.984 13.5q0.609 0 1.055-0.422t0.445-1.078-0.445-1.078-1.055-0.422-1.055 0.422-0.445 1.078 0.445 1.078 1.055 0.422zM12 15.984v-7.969h9.984v7.969h-9.984zM21 18v0.984q0 0.797-0.609 1.406t-1.406 0.609h-13.969q-0.844 0-1.43-0.586t-0.586-1.43v-13.969q0-0.844 0.586-1.43t1.43-0.586h13.969q0.797 0 1.406 0.609t0.609 1.406v0.984h-9q-0.844 0-1.43 0.586t-0.586 1.43v7.969q0 0.844 0.586 1.43t1.43 0.586h9z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$g={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$g=defineComponent({__name:"TaxiIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$g,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M5.016 11.016h13.969l-1.5-4.5h-10.969zM17.484 15.984q0.609 0 1.055-0.445t0.445-1.055-0.445-1.055-1.055-0.445-1.055 0.445-0.445 1.055 0.445 1.055 1.055 0.445zM6.516 15.984q0.609 0 1.055-0.445t0.445-1.055-0.445-1.055-1.055-0.445-1.055 0.445-0.445 1.055 0.445 1.055 1.055 0.445zM18.938 6l2.063 6v8.016q0 0.422-0.281 0.703t-0.703 0.281h-1.031q-0.422 0-0.703-0.281t-0.281-0.703v-1.031h-12v1.031q0 0.422-0.281 0.703t-0.703 0.281h-1.031q-0.422 0-0.703-0.281t-0.281-0.703v-8.016l2.063-6q0.281-0.984 1.453-0.984h2.484v-2.016h6v2.016h2.484q1.172 0 1.453 0.984z"},null,-1))]))}}),_hoisted_1$f={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$f=defineComponent({__name:"UnknownIcon",props:{title:{type:String,default:"Food"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$f,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M11.109 15.516h1.781v1.781h-1.781v-1.781zM12 6.703q1.5 0 2.508 1.008t1.008 2.461q0 1.172-1.313 2.344t-1.313 2.109h-1.781q0-0.984 0.398-1.664t0.914-0.984 0.914-0.773 0.398-1.031q0-0.703-0.516-1.219t-1.219-0.516-1.219 0.516-0.516 1.219h-1.781q0-1.453 1.008-2.461t2.508-1.008zM17.016 18.984v-13.969h-10.031v13.969h10.031zM17.016 0.984q0.797 0 1.383 0.609t0.586 1.406v18q0 0.797-0.586 1.406t-1.383 0.609h-10.031q-0.797 0-1.383-0.609t-0.586-1.406v-18q0-0.797 0.586-1.406t1.383-0.609h10.031z"},null,-1))]))}}),_hoisted_1$e={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$e=defineComponent({__name:"MedicalIcon",props:{title:{type:String,default:"Food"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$e,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M20.016 6h-4.031v-2.016q0-0.797-0.586-1.383t-1.383-0.586h-4.031q-0.797 0-1.383 0.586t-0.586 1.383v2.016h-4.031q-0.797 0-1.383 0.586t-0.586 1.43v12q0 0.797 0.586 1.383t1.383 0.586h16.031q0.797 0 1.383-0.586t0.586-1.383v-12q0-0.844-0.586-1.43t-1.383-0.586zM9.984 3.984h4.031v2.016h-4.031v-2.016zM15.984 15h-3v3h-1.969v-3h-3v-2.016h3v-3h1.969v3h3v2.016z"},null,-1))]))}}),_hoisted_1$d={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$d=defineComponent({__name:"DeleteIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$d,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12q0 0.797-0.609 1.406t-1.406 0.609h-7.969q-0.797 0-1.406-0.609t-0.609-1.406z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$c={class:"transaction-card"},_hoisted_2$7={class:"transaction-card-items-wrapper"},_hoisted_3$4={class:"transaction-card-icon-wrapper"},_hoisted_4$2={class:"transaction-card-text-wrapper"},_hoisted_5={class:"transaction-card-text-wrapper"},_hoisted_6={class:"transaction-card-text-wrapper"},_hoisted_7={class:"transaction-card-items-wrapper"},_sfc_main$c=defineComponent({__name:"TransactionCard",props:{type:{},description:{},amount:{},tag:{},date:{}},emits:["delete"],setup(t,{emit:e}){const s=t,n=e,i=computed(()=>s.tag==="Food"?_sfc_main$l:s.tag==="Shop"?_sfc_main$k:s.tag==="Rent"?_sfc_main$j:s.tag==="Party"?_sfc_main$i:s.tag==="Money"?_sfc_main$h:s.tag==="Travel"?_sfc_main$g:s.tag==="Medical"?_sfc_main$e:s.tag==="Miscellaneous"?_sfc_main$f:null),r=computed(()=>s.amount?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(s.amount):"N/A"),o=computed(()=>new Date(s.date).toDateString());return(a,l)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$4,[i.value?(openBlock(),createBlock(resolveDynamicComponent(i.value),{key:0,title:s.tag,class:"transaction-card-icon"},null,8,["title"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$2,[createBaseVNode("h3",null,toDisplayString(s.description),1),createBaseVNode("span",null,toDisplayString(s.tag),1)])]),createBaseVNode("div",_hoisted_5,[createBaseVNode("span",null,toDisplayString(o.value),1)]),createBaseVNode("div",_hoisted_6,[createBaseVNode("h4",null,toDisplayString(r.value),1)]),createBaseVNode("div",{class:normalizeClass(["transaction-card-type",{debited:s.type==="Debited",credited:s.type==="Credited"}])},[createBaseVNode("span",null,toDisplayString(s.type),1)],2),createBaseVNode("div",_hoisted_7,[createBaseVNode("div",{class:"transaction-card-icon-wrapper secondary",onClick:l[0]||(l[0]=c=>n("delete"))},[createVNode(_sfc_main$d,{class:"transaction-card-icon"})])])]))}}),TransactionCard=_export_sfc(_sfc_main$c,[["__scopeId","data-v-a2471c0a"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round(t){return t+.5|0}const lim=(t,e,s)=>Math.max(Math.min(t,s),e);function p2b(t){return lim(round(t*2.55),0,255)}function n2b(t){return lim(round(t*255),0,255)}function b2n(t){return lim(round(t/2.55)/100,0,1)}function n2p(t){return lim(round(t*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=t=>hex[t&15],h2=t=>hex[(t&240)>>4]+hex[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&map$1[t[1]]*17,g:255&map$1[t[2]]*17,b:255&map$1[t[3]]*17,a:e===5?map$1[t[4]]*17:255}:(e===7||e===9)&&(s={r:map$1[t[1]]<<4|map$1[t[2]],g:map$1[t[3]]<<4|map$1[t[4]],b:map$1[t[5]]<<4|map$1[t[6]],a:e===9?map$1[t[7]]<<4|map$1[t[8]]:255})),s}const alpha=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,s){const n=e*Math.min(s,1-s),i=(r,o=(r+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function hsv2rgbn(t,e,s){const n=(i,r=(i+t/60)%6)=>s-s*e*Math.max(Math.min(r,4-r,1),0);return[n(5),n(3),n(1)]}function hwb2rgbn(t,e,s){const n=hsl2rgbn(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)n[i]*=1-e-s,n[i]+=e;return n}function hueValue(t,e,s,n,i){return t===i?(e-s)/n+(e<s?6:0):e===i?(s-t)/n+2:(t-e)/n+4}function rgb2hsl(t){const s=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(s,n,i),o=Math.min(s,n,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=hueValue(s,n,i,u,r),l=l*60+.5),[l|0,c||0,a]}function calln(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(n2b)}function hsl2rgb(t,e,s){return calln(hsl2rgbn,t,e,s)}function hwb2rgb(t,e,s){return calln(hwb2rgbn,t,e,s)}function hsv2rgb(t,e,s){return calln(hsv2rgbn,t,e,s)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?p2b(+e[5]):n2b(+e[5]));const i=hue(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=hwb2rgb(i,r,o):e[1]==="hsv"?n=hsv2rgb(i,r,o):n=hsl2rgb(i,r,o),{r:n[0],g:n[1],b:n[2],a:s}}function rotate(t,e){var s=rgb2hsl(t);s[0]=hue(s[0]+e),s=hsl2rgb(s),t.r=s[0],t.g=s[1],t.b=s[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),s=e[0],n=n2p(e[1]),i=n2p(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${b2n(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),s=Object.keys(map);let n,i,r,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],i=0;i<s.length;i++)r=s[i],a=a.replace(r,map[r]);r=parseInt(names$1[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let s=255,n,i,r;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?p2b(o):lim(o*255,0,255)}return n=+e[1],i=+e[3],r=+e[5],n=255&(e[2]?p2b(n):lim(n,0,255)),i=255&(e[4]?p2b(i):lim(i,0,255)),r=255&(e[6]?p2b(r):lim(r,0,255)),{r:n,g:i,b:r,a:s}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$1(t,e,s){const n=from(b2n(t.r)),i=from(b2n(t.g)),r=from(b2n(t.b));return{r:n2b(to(n+s*(from(b2n(e.r))-n))),g:n2b(to(i+s*(from(b2n(e.g))-i))),b:n2b(to(r+s*(from(b2n(e.b))-r))),a:t.a+s*(e.a-t.a)}}function modHSL(t,e,s){if(t){let n=rgb2hsl(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=hsl2rgb(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function clone$1(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone$1(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}class Color{constructor(e){if(e instanceof Color)return e;const s=typeof e;let n;s==="object"?n=fromObject(e):s==="string"&&(n=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,i=e.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,s)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$3(){}const uid=(()=>{let t=0;return()=>t++})();function isNullOrUndef(t){return t==null}function isArray(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function isNumberFinite(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t>"u"?e:t}const toPercentage=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function each(t,e,s,n){let i,r,o;if(isArray(t))for(r=t.length,i=0;i<r;i++)e.call(s,t[i],i);else if(isObject(t))for(o=Object.keys(t),r=o.length,i=0;i<r;i++)e.call(s,t[o[i]],o[i])}function _elementsEqual(t,e){let s,n,i,r;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(i=t[s],r=e[s],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function clone(t){if(isArray(t))return t.map(clone);if(isObject(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let i=0;for(;i<n;++i)e[s[i]]=clone(t[s[i]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,s,n){if(!isValidKey(t))return;const i=e[t],r=s[t];isObject(i)&&isObject(r)?merge(i,r,n):e[t]=clone(r)}function merge(t,e,s){const n=isArray(e)?e:[e],i=n.length;if(!isObject(t))return t;s=s||{};const r=s.merger||_merger;let o;for(let a=0;a<i;++a){if(o=n[a],!isObject(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,s)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,s){if(!isValidKey(t))return;const n=e[t],i=s[t];isObject(n)&&isObject(i)?mergeIf(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone(i))}const keyResolvers={"":t=>t,x:t=>t.x,y:t=>t.y};function _splitKey(t){const e=t.split("."),s=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function _getKeyResolver(t){const e=_splitKey(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function resolveObjectKey(t,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined=t=>typeof t<"u",isFunction$1=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(t,e,s){return Math.abs(t-e)<s}function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(log10(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function _factorize(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((i,r)=>i-r).pop(),e}function isNonPrimitive(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function isNumber(t){return!isNonPrimitive(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function almostWhole(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function _setMinAndMaxByKey(t,e,s){let n,i,r;for(n=0,i=t.length;n<i;n++)r=t[n][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function getAngleFromPoint(t,e){const s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n);let r=Math.atan2(n,s);return r<-.5*PI&&(r+=TAU),{angle:r,distance:i}}function distanceBetweenPoints(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,s,n){const i=_normalizeAngle(t),r=_normalizeAngle(e),o=_normalizeAngle(s),a=_normalizeAngle(r-i),l=_normalizeAngle(o-i),c=_normalizeAngle(i-r),u=_normalizeAngle(i-o);return i===r||i===o||n&&r===o||a>l&&c<u}function _limitValue(t,e,s){return Math.max(e,Math.min(s,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function _lookup(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,i=0,r;for(;n-i>1;)r=i+n>>1,s(r)?i=r:n=r;return{lo:i,hi:n}}const _lookupByKey=(t,e,s,n)=>_lookup(t,s,n?i=>{const r=t[i][e];return r<s||r===s&&t[i+1][e]===s}:i=>t[i][e]<s),_rlookupByKey=(t,e,s)=>_lookup(t,s,n=>t[n][e]>=s);function _filterBetween(t,e,s){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>s;)i--;return n>0||i<t.length?t.slice(n,i):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(s=>{const n="_onData"+_capitalize(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...r)}),o}})})}function unlistenArrayEvents(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(arrayEvents.forEach(r=>{delete t[r]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const requestAnimFrame=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function throttled(t,e){let s=[],n=!1;return function(...i){s=i,n||(n=!0,requestAnimFrame.call(window,()=>{n=!1,t.apply(e,s)}))}}function debounce(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,_textX=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e,atEdge=t=>t===0||t===1,elasticIn=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/s)),elasticOut=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/s)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(t){return isPatternOrGradient(t)?t:new Color(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:new Color(t).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const s=t+JSON.stringify(e);let n=intlCache.get(s);return n||(n=new Intl.NumberFormat(t,e),intlCache.set(s,n)),n}function formatNumber(t,e,s){return getNumberFormat(e,s).format(t)}const formatters={values(t){return isArray(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let i,r=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=calculateDelta(t,s)}const o=log10(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),formatNumber(t,n,l)}};function calculateDelta(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var Ticks={formatters};function applyScaleDefaults(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const s=e.split(".");for(let n=0,i=s.length;n<i;++n){const r=s[n];t=t[r]||(t[r]=Object.create(null))}return t}function set(t,e,s){return typeof e=="string"?merge(getScope$1(t,e),s):merge(getScope$1(t,""),e)}class Defaults{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>getHoverColor(i.backgroundColor),this.hoverBorderColor=(n,i)=>getHoverColor(i.borderColor),this.hoverColor=(n,i)=>getHoverColor(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return set(this,e,s)}get(e){return getScope$1(this,e)}describe(e,s){return set(descriptors,e,s)}override(e,s){return set(overrides,e,s)}route(e,s,n,i){const r=getScope$1(this,e),o=getScope$1(this,n),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[i];return isObject(l)?Object.assign({},c,l):valueOrDefault(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var defaults=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,s,n,i){let r=e[i];return r||(r=e[i]=t.measureText(i).width,s.push(i)),r>n&&(n=r),n}function _alignPixel(t,e,s){const n=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function clearCanvas(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function drawPoint(t,e,s,n){drawPointLegend(t,e,s,n,null)}function drawPointLegend(t,e,s,n,i){let r,o,a,l,c,u,d,f;const g=e.pointStyle,m=e.rotation,_=e.radius;let b=(m||0)*RAD_PER_DEG;if(g&&typeof g=="object"&&(r=g.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(b),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),g){default:i?t.ellipse(s,n,i/2,_,0,0,TAU):t.arc(s,n,_,0,TAU),t.closePath();break;case"triangle":u=i?i/2:_,t.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*_),b+=TWO_THIRDS_PI,t.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*_),b+=TWO_THIRDS_PI,t.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*_),t.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(b+QUARTER_PI)*l,d=Math.cos(b+QUARTER_PI)*(i?i/2-c:l),a=Math.sin(b+QUARTER_PI)*l,f=Math.sin(b+QUARTER_PI)*(i?i/2-c:l),t.arc(s-d,n-a,c,b-PI,b-HALF_PI),t.arc(s+f,n-o,c,b-HALF_PI,b),t.arc(s+d,n+a,c,b,b+HALF_PI),t.arc(s-f,n+o,c,b+HALF_PI,b+PI),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*_,u=i?i/2:l,t.rect(s-u,n-l,2*u,2*l);break}b+=QUARTER_PI;case"rectRot":d=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(i?i/2:_),t.moveTo(s-d,n-a),t.lineTo(s+f,n-o),t.lineTo(s+d,n+a),t.lineTo(s-f,n+o),t.closePath();break;case"crossRot":b+=QUARTER_PI;case"cross":d=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(i?i/2:_),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"star":d=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(i?i/2:_),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o),b+=QUARTER_PI,d=Math.cos(b)*(i?i/2:_),o=Math.cos(b)*_,a=Math.sin(b)*_,f=Math.sin(b)*(i?i/2:_),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"line":o=i?i/2:Math.cos(b)*_,a=Math.sin(b)*_,t.moveTo(s-o,n-a),t.lineTo(s+o,n+a);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(b)*(i?i/2:_),n+Math.sin(b)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,s,n,i){if(i.strikethrough||i.underline){const r=t.measureText(n),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function drawBackdrop(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function renderText(t,e,s,n,i,r={}){const o=isArray(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,setRenderOpts(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&drawBackdrop(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),isNullOrUndef(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,s,n,r.maxWidth)),t.fillText(c,s,n,r.maxWidth),decorateText(t,s,n,c,r),n+=Number(i.lineHeight);t.restore()}function addRoundedRectPath(t,e){const{x:s,y:n,w:i,h:r,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*PI,PI,!0),t.lineTo(s,n+r-o.bottomLeft),t.arc(s+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,PI,HALF_PI,!0),t.lineTo(s+i-o.bottomRight,n+r),t.arc(s+i-o.bottomRight,n+r-o.bottomRight,o.bottomRight,HALF_PI,0,!0),t.lineTo(s+i,n+o.topRight),t.arc(s+i-o.topRight,n+o.topRight,o.topRight,0,-HALF_PI,!0),t.lineTo(s+o.topLeft,n)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(t,e){const s=(""+t).match(LINE_HEIGHT);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const s={},n=isObject(e),i=n?Object.keys(e):e,r=isObject(t)?n?o=>valueOrDefault(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of i)s[o]=numberOrZero(r(o));return s}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults.font;let s=valueOrDefault(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=valueOrDefault(t.style,e.style);n&&!(""+n).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:valueOrDefault(t.weight,e.weight),string:""};return i.string=toFontString(i),i}function resolve(t,e,s,n){let i,r,o;for(i=0,r=t.length;i<r;++i)if(o=t[i],o!==void 0&&o!==void 0)return o}function _addGrace(t,e,s){const{min:n,max:i}=t,r=toDimension(e,(i-n)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(n,-Math.abs(r)),max:o(i,r)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],s,n,i=()=>t[0]){const r=s||t;typeof n>"u"&&(n=_resolve("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:n,_getTarget:i,override:a=>_createResolver([a,...t],e,r,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return _cached(a,l,()=>_resolveWithPrefixes(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return getKeysFromAllScopes(a).includes(l)},ownKeys(a){return getKeysFromAllScopes(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function _attachContext(t,e,s,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:_descriptors(t,n),setContext:r=>_attachContext(t,r,s,n),override:r=>_attachContext(t.override(r),e,s,n)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return _cached(r,o,()=>_resolveWithContext(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:isFunction$1(s)?s:()=>s,isIndexable:isFunction$1(n)?n:()=>n}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function _resolveWithContext(t,e,s){const{_proxy:n,_context:i,_subProxy:r,_descriptors:o}=t;let a=n[e];return isFunction$1(a)&&o.isScriptable(e)&&(a=_resolveScriptable(e,a,t,s)),isArray(a)&&a.length&&(a=_resolveArray(e,a,t,o.isIndexable)),needsSubResolver(e,a)&&(a=_attachContext(a,i,r&&r[e],o)),a}function _resolveScriptable(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||n);return a.delete(t),needsSubResolver(t,l)&&(l=createSubResolver(i._scopes,i,t,l)),l}function _resolveArray(t,e,s,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&n(t))return e[r.index%e.length];if(isObject(e[0])){const l=e,c=i._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=createSubResolver(c,i,t,u);e.push(_attachContext(d,r,o&&o[t],a))}}return e}function resolveFallback(t,e,s){return isFunction$1(t)?t(e,s):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,s,n,i){for(const r of e){const o=getScope(s,r);if(o){t.add(o);const a=resolveFallback(o._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function createSubResolver(t,e,s,n){const i=e._rootScopes,r=resolveFallback(e._fallback,s,n),o=[...t,...i],a=new Set;a.add(n);let l=addScopesFromKey(a,o,s,r||s,n);return l===null||typeof r<"u"&&r!==s&&(l=addScopesFromKey(a,o,r,l,n),l===null)?!1:_createResolver(Array.from(a),[""],i,r,()=>subGetTarget(e,s,n))}function addScopesFromKey(t,e,s,n,i){for(;s;)s=addScopes(t,e,s,n,i);return s}function subGetTarget(t,e,s){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return isArray(i)&&isObject(s)?s:i||{}}function _resolveWithPrefixes(t,e,s,n){let i;for(const r of e)if(i=_resolve(readKey(r,t),s),typeof i<"u")return needsSubResolver(t,i)?createSubResolver(s,n,t,i):i}function _resolve(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const getComputedStyle=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const r=positions[i];n[r]=parseFloat(t[e+"-"+r+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const useOffsetPos=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function getCanvasPosition(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:i,offsetY:r}=n;let o=!1,a,l;if(useOffsetPos(i,r,t.target))a=i,l=r;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,i=getComputedStyle(s),r=i.boxSizing==="border-box",o=getPositionedStyle(i,"padding"),a=getPositionedStyle(i,"border","width"),{x:l,y:c,box:u}=getCanvasPosition(t,s),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:g,height:m}=e;return r&&(g-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/g*s.width/n),y:Math.round((c-f)/m*s.height/n)}}function getContainerSize(t,e,s){let n,i;if(e===void 0||s===void 0){const r=t&&_getParentNode(t);if(!r)e=t.clientWidth,s=t.clientHeight;else{const o=r.getBoundingClientRect(),a=getComputedStyle(r),l=getPositionedStyle(a,"border","width"),c=getPositionedStyle(a,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,n=parseMaxStyle(a.maxWidth,r,"clientWidth"),i=parseMaxStyle(a.maxHeight,r,"clientHeight")}}return{width:e,height:s,maxWidth:n||INFINITY,maxHeight:i||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,s,n){const i=getComputedStyle(t),r=getPositionedStyle(i,"margin"),o=parseMaxStyle(i.maxWidth,t,"clientWidth")||INFINITY,a=parseMaxStyle(i.maxHeight,t,"clientHeight")||INFINITY,l=getContainerSize(t,e,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=getPositionedStyle(i,"border","width"),g=getPositionedStyle(i,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,n?c/n:u-r.height),c=round1(Math.min(c,o,l.maxWidth)),u=round1(Math.min(u,a,l.maxHeight)),c&&!u&&(u=round1(c/2)),(e!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=round1(Math.floor(u*n))),{width:c,height:u}}function retinaScale(t,e,s){const n=e||1,i=Math.floor(t.height*n),r=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==i||o.width!==r?(t.currentDevicePixelRatio=n,o.height=i,o.width=r,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const supportsEventListenerOptions=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function readUsedSize(t,e){const s=getStyle(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const getRightToLeftAdapter=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,s){return t?getRightToLeftAdapter(e,s):getLeftToRightAdapter()}function overrideTextDirection(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function getSizeForArea(t,e,s){return t.options.clip?t[s]:e[s]}function getDatasetArea(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:getSizeForArea(s,e,"left"),right:getSizeForArea(s,e,"right"),top:getSizeForArea(n,e,"top"),bottom:getSizeForArea(n,e,"bottom")}:e}function getDatasetClipArea(t,e){const s=e._clip;if(s.disabled)return!1;const n=getDatasetArea(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,i){const r=s.listeners[i],o=s.duration;r.forEach(a=>a({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),s+=r.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=color(t||transparent),i=n.valid&&color(e||transparent);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class Animation{constructor(e,s,n,i){const r=s[n];i=resolve([e.to,i,r,e.from]);const o=resolve([e.from,r,i]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof o],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=resolve([e.to,s,i,e.from]),this._from=resolve([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=r;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class Animations{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!isObject(e))return;const s=Object.keys(defaults.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!isObject(r))return;const o={};for(const a of s)o[a]=r[a];(isArray(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,s){const n=s.options,i=resolveTargetOptions(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&awaitAll(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,s){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,s));continue}const u=s[c];let d=r[c];const f=n.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}r[c]=d=new Animation(f,e,c,u),i.push(d)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return animator.add(this._chart,n),!0}}function awaitAll(t,e){const s=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const r=t[n[i]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function resolveTargetOptions(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function scaleClip(t,e){const s=t&&t.options||{},n=s.reverse,i=s.min===void 0?e:0,r=s.max===void 0?e:0;return{start:n?r:i,end:n?i:r}}function defaultClip(t,e,s){if(s===!1)return!1;const n=scaleClip(t,s),i=scaleClip(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function toClip(t){let e,s,n,i;return isObject(t)?(e=t.top,s=t.right,n=t.bottom,i=t.left):e=s=n=i=t,{top:e,right:s,bottom:n,left:i,disabled:t===!1}}function getSortedDatasetIndices(t,e){const s=[],n=t._getSortedDatasetMetas(e);let i,r;for(i=0,r=n.length;i<r;++i)s.push(n[i].index);return s}function applyStack(t,e,s,n={}){const i=t.keys,r=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===s){if(u=!0,n.all)continue;break}c=t.values[l],isNumberFinite(c)&&(r||e===0||sign(e)===sign(c))&&(e+=c)}return!u&&!n.all?0:e}function convertObjectDataToArray(t,e){const{iScale:s,vScale:n}=e,i=s.axis==="x"?"x":"y",r=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:t[u]};return a}function isStacked(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function getStackKey(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function getUserBounds(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function getLastIndexInStack(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const r=t[i.index];if(s&&r>0||!s&&r<0)return i.index}return null}function updateStacks(t,e){const{chart:s,_cachedMeta:n}=t,i=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,u=getStackKey(r,o,n),d=e.length;let f;for(let g=0;g<d;++g){const m=e[g],{[l]:_,[c]:b}=m,v=m._stacks||(m._stacks={});f=v[c]=getOrCreateStack(i,u,_),f[a]=b,f._top=getLastIndexInStack(f,o,!0,n.type),f._bottom=getLastIndexInStack(f,o,!1,n.type);const S=f._visualValues||(f._visualValues={});S[a]=b}}function getFirstScaleId(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,s){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const r=i._stacks;if(!r||r[n]===void 0||r[n][s]===void 0)return;delete r[n][s],r[n]._visualValues!==void 0&&r[n]._visualValues[s]!==void 0&&delete r[n]._visualValues[s]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(s,!0),values:null};class DatasetController{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(d,f,g,m)=>d==="x"?f:d==="r"?m:g,r=s.xAxisID=valueOrDefault(n.xAxisID,getFirstScaleId(e,"x")),o=s.yAxisID=valueOrDefault(n.yAxisID,getFirstScaleId(e,"y")),a=s.rAxisID=valueOrDefault(n.rAxisID,getFirstScaleId(e,"r")),l=s.indexAxis,c=s.iAxisID=i(l,r,o,a),u=s.vAxisID=i(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(isObject(s)){const i=this._cachedMeta;this._data=convertObjectDataToArray(s,i)}else if(n!==s){if(n){unlistenArrayEvents(n,this);const i=this._cachedMeta;clearStacks(i),i._parsed=[]}s&&Object.isExtensible(s)&&listenArrayEvents(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=s._stacked;s._stacked=isStacked(s.vScale,s),s.stack!==n.stack&&(i=!0,clearStacks(s),s.stack=n.stack),this._resyncElements(e),(i||r!==s._stacked)&&(updateStacks(this,s._parsed),s._stacked=isStacked(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,a=r.axis;let l=e===0&&s===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{isArray(i[e])?f=this.parseArrayData(n,i,e,s):isObject(i[e])?f=this.parseObjectData(n,i,e,s):f=this.parsePrimitiveData(n,i,e,s);const g=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)n._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);n._sorted=l}o&&updateStacks(this,f)}parsePrimitiveData(e,s,n,i){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,d=new Array(i);let f,g,m;for(f=0,g=i;f<g;++f)m=f+n,d[f]={[a]:u||r.parse(c[m],m),[l]:o.parse(s[m],m)};return d}parseArrayData(e,s,n,i){const{xScale:r,yScale:o}=e,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=s[u],a[l]={x:r.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,s,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,g;for(u=0,d=i;u<d;++u)f=u+n,g=s[f],c[u]={x:r.parse(resolveObjectKey(g,a),f),y:o.parse(resolveObjectKey(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const i=this.chart,r=this._cachedMeta,o=s[e.axis],a={keys:getSortedDatasetIndices(i,!0),values:s._stacks[e.axis]._visualValues};return applyStack(a,o,r.index,{mode:n})}updateRangeFromParsed(e,s,n,i){const r=n[s.axis];let o=r===null?NaN:r;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,o=applyStack(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,a=this._getOtherScale(e),l=createStack(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=getUserBounds(a);let f,g;function m(){g=i[f];const _=g[a.axis];return!isNumberFinite(g[e.axis])||u>_||d<_}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,g,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=s.length;i<r;++i)o=s[i][e.axis],isNumberFinite(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,i=s.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=toClip(valueOrDefault(this.options.clip,defaultClip(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=createDataContext(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const i=s==="active",r=this._cachedDataOpts,o=e+"-"+s,a=r[o],l=this.enableOptionSharing&&defined(n);if(a)return cloneIfNotShared(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(defaults.elements[e]),m=()=>this.getContext(n,i,s),_=c.resolveNamedOptions(f,g,m,d);return _.$shared&&(_.$shared=l,r[o]=Object.freeze(cloneIfNotShared(_,l))),_}_resolveAnimations(e,s,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,n,s))}const c=new Animations(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(s,r)||r!==i;return this.updateSharedOptions(r,s,n),{sharedOptions:r,includeOptions:o}}updateElement(e,s,n,i){isDirectUpdateMode(i)?Object.assign(e,n):this._resolveAnimations(s,i).update(e,n)}updateSharedOptions(e,s,n){e&&!isDirectUpdateMode(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,i){e.active=i;const r=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,r=s.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,s,n=!0){const i=this._cachedMeta,r=i.data,o=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,s),n&&this.updateElements(r,e,s,"reset")}updateElements(e,s,n,i){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,s);n._stacked&&clearStacks(n,i)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,i]=e;this[s](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}X(DatasetController,"defaults",{}),X(DatasetController,"datasetElementType",null),X(DatasetController,"dataElementType",null);function getAllScaleValues(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,r=s.length;i<r;i++)n=n.concat(s[i].controller.getAllParsedValues(t));t._cache.$bar=_arrayUnique(n.sort((i,r)=>i-r))}return t._cache.$bar}function computeMinSampleSize(t){const e=t.iScale,s=getAllScaleValues(e,t.type);let n=e._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(defined(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(i=0,r=s.length;i<r;++i)o=e.getPixelForValue(s[i]),l();for(a=void 0,i=0,r=e.ticks.length;i<r;++i)o=e.getPixelForTick(i),l();return n}function computeFitCategoryTraits(t,e,s,n){const i=s.barThickness;let r,o;return isNullOrUndef(i)?(r=e.min*s.categoryPercentage,o=s.barPercentage):(r=i*n,o=1),{chunk:r/n,ratio:o,start:e.pixels[t]-r/2}}function computeFlexCategoryTraits(t,e,s,n){const i=e.pixels,r=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=s.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:s.barPercentage,start:c}}function parseFloatBar(t,e,s,n){const i=s.parse(t[0],n),r=s.parse(t[1],n),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function parseValue(t,e,s,n){return isArray(t)?parseFloatBar(t,e,s,n):e[s.axis]=s.parse(t,n),e}function parseArrayOrPrimitive(t,e,s,n){const i=t.iScale,r=t.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,d,f;for(c=s,u=s+n;c<u;++c)f=e[c],d={},d[i.axis]=a||i.parse(o[c],c),l.push(parseValue(f,d,r,c));return l}function isFloatBar(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function barSign(t,e,s){return t!==0?sign(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function borderProps(t){let e,s,n,i,r;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(i="end",r="start"):(i="start",r="end"),{start:s,end:n,reverse:e,top:i,bottom:r}}function setBorderSkipped(t,e,s,n){let i=e.borderSkipped;const r={};if(!i){t.borderSkipped=r;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=borderProps(t);i==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=u:(r[parseEdge(u,o,a,l)]=!0,i=c)),r[parseEdge(i,o,a,l)]=!0,t.borderSkipped=r}function parseEdge(t,e,s,n){return n?(t=swap(t,e,s),t=startEnd(t,s,e)):t=startEnd(t,e,s),t}function swap(t,e,s){return t===e?s:t===s?e:t}function startEnd(t,e,s){return t==="start"?e:t==="end"?s:t}function setInflateAmount(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class BarController extends DatasetController{parsePrimitiveData(e,s,n,i){return parseArrayOrPrimitive(e,s,n,i)}parseArrayData(e,s,n,i){return parseArrayOrPrimitive(e,s,n,i)}parseObjectData(e,s,n,i){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,g,m,_;for(f=n,g=n+i;f<g;++f)_=s[f],m={},m[r.axis]=r.parse(resolveObjectKey(_,c),f),d.push(parseValue(resolveObjectKey(_,u),m,o,f));return d}updateRangeFromParsed(e,s,n,i){super.updateRangeFromParsed(e,s,n,i);const r=n._custom;r&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:i}=s,r=this.getParsed(e),o=r._custom,a=isFloatBar(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(s,i);for(let g=s;g<s+n;g++){const m=this.getParsed(g),_=r||isNullOrUndef(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,u),v=(m._stacks||{})[a.axis],S={horizontal:c,base:_.base,enableBorderRadius:!v||isFloatBar(m._custom)||o===v._top||o===v._bottom,x:c?_.head:b.center,y:c?b.center:_.head,height:c?b.size:Math.abs(_.size),width:c?Math.abs(_.size):b.size};f&&(S.options=d||this.resolveDataElementOptions(g,e[g].active?"active":i));const x=S.options||e[g].options;setBorderSkipped(S,x,v,o),setInflateAmount(S,x,u.ratio),this.updateElement(e[g],g,S,i)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=u=>{const d=u._parsed.find(g=>g[n.axis]===l),f=d&&d[u.vScale.axis];if(isNullOrUndef(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[valueOrDefault(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const i=this._getStacks(e,n),r=s!==void 0?i.indexOf(s):-1;return r===-1?i.length-1:r}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,i=[];let r,o;for(r=0,o=s.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const a=e.barThickness;return{min:a||computeMinSampleSize(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=isFloatBar(c);let d=l[s.axis],f=0,g=n?this.applyStack(s,l,n):d,m,_;g!==d&&(f=g-d,g=d),u&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&sign(d)!==sign(c.barEnd)&&(f=0),f+=d);const b=!isNullOrUndef(r)&&!u?r:f;let v=s.getPixelForValue(b);if(this.chart.getDataVisibility(e)?m=s.getPixelForValue(f+g):m=v,_=m-v,Math.abs(_)<o){_=barSign(_,s,a)*o,d===a&&(v-=_/2);const S=s.getPixelForDecimal(0),x=s.getPixelForDecimal(1),T=Math.min(S,x),A=Math.max(S,x);v=Math.max(Math.min(v,A),T),m=v+_,n&&!u&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(m)-s.getValueForPixel(v))}if(v===s.getPixelForValue(a)){const S=sign(_)*s.getLineWidthForValue(a)/2;v+=S,_-=S}return{size:_,base:v,head:m,center:m+_/2}}_calculateBarIndexPixels(e,s){const n=s.scale,i=this.options,r=i.skipNull,o=valueOrDefault(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=r?this._getStackCount(e):s.stackCount,d=i.barThickness==="flex"?computeFlexCategoryTraits(e,s,i,u*c):computeFitCategoryTraits(e,s,i,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(valueOrDefault(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+g;a=d.start+d.chunk*m+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)this.getParsed(r)[s.axis]!==null&&!n[r].hidden&&n[r].draw(this._ctx)}}X(BarController,"id","bar"),X(BarController,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),X(BarController,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function getRatioAndOffset(t,e,s){let n=1,i=1,r=0,o=0;if(e<TAU){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(x,T,A)=>_angleBetween(x,a,l,!0)?1:Math.max(T,T*s,A,A*s),m=(x,T,A)=>_angleBetween(x,a,l,!0)?-1:Math.min(T,T*s,A,A*s),_=g(0,c,d),b=g(HALF_PI,u,f),v=m(PI,c,d),S=m(PI+HALF_PI,u,f);n=(_-v)/2,i=(b-S)/2,r=-(_+v)/2,o=-(b+S)/2}return{ratioX:n,ratioY:i,offsetX:r,offsetY:o}}class DoughnutController extends DatasetController{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let r=l=>+n[l];if(isObject(n[e])){const{key:l="value"}=this._parsing;r=c=>+resolveObjectKey(n[c],l)}let o,a;for(o=e,a=e+s;o<a;++o)i._parsed[o]=r(o)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,s=-TAU;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),s=Math.max(s,r+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(toPercentage(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:m,offsetY:_}=getRatioAndOffset(d,u,l),b=(n.width-o)/f,v=(n.height-o)/g,S=Math.max(Math.min(b,v)/2,0),x=toDimension(this.options.radius,S),T=Math.max(x*l,0),A=(x-T)/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=_*x,i.total=this.calculateTotal(),this.outerRadius=x-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*c,0),this.updateElements(r,0,r.length,e)}_circumference(e,s){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/TAU)}updateElements(e,s,n,i){const r=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=r&&c.animateScale,g=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:_,includeOptions:b}=this._getSharedOptions(s,i);let v=this._getRotation(),S;for(S=0;S<s;++S)v+=this._circumference(S,r);for(S=s;S<s+n;++S){const x=this._circumference(S,r),T=e[S],A={x:u+this.offsetX,y:d+this.offsetY,startAngle:v,endAngle:v+x,circumference:x,outerRadius:m,innerRadius:g};b&&(A.options=_||this.resolveDataElementOptions(S,T.active?"active":i)),v+=x,this.updateElement(T,S,A,i)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,i;for(i=0;i<s.length;i++){const r=e._parsed[i];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(r))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?TAU*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=formatNumber(s._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let s=0;const n=this.chart;let i,r,o,a,l;if(!e){for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,a=o.controller;break}}if(!e)return 0;for(i=0,r=e.length;i<r;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,i=e.length;n<i;++n){const r=this.resolveDataElementOptions(n);s=Math.max(s,r.offset||0,r.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}X(DoughnutController,"id","doughnut"),X(DoughnutController,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),X(DoughnutController,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),X(DoughnutController,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return s.labels.map((r,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class PieController extends DoughnutController{}X(PieController,"id","pie"),X(PieController,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{constructor(e){X(this,"options");this.options=e||{}}static override(e){Object.assign(DateAdapterBase.prototype,e)}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(t,e,s,n){const{controller:i,data:r,_sorted:o}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?_rlookupByKey:_lookupByKey;if(n){if(i._sharedOptions){const u=r[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(r,e,s-d),g=c(r,e,s+d);return{lo:f.lo,hi:g.hi}}}}else{const u=c(r,e,s);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=t,g=f.slice(0,u.lo+1).reverse().findIndex(_=>!isNullOrUndef(_[d.axis]));u.lo-=Math.max(0,g);const m=f.slice(u.hi).findIndex(_=>!isNullOrUndef(_[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:r.length-1}}function evaluateInteractionItems(t,e,s,n,i){const r=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:d,hi:f}=binarySearch(r[a],e,o,i);for(let g=d;g<=f;++g){const m=u[g];m.skip||n(m,c,g)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,i){const r=e?Math.abs(n.x-i.x):0,o=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function getIntersectItems(t,e,s,n,i){const r=[];return!i&&!t.isPointInArea(e)||evaluateInteractionItems(t,s,e,function(a,l,c){!i&&!_isPointInArea(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function getNearestRadialItems(t,e,s,n){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:d}=getAngleFromPoint(o,{x:e.x,y:e.y});_angleBetween(d,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return evaluateInteractionItems(t,s,e,r),i}function getNearestCartesianItems(t,e,s,n,i,r){let o=[];const a=getDistanceMetricForAxis(s);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,i);if(n&&!g)return;const m=u.getCenterPoint(i);if(!(!!r||t.isPointInArea(m))&&!g)return;const b=a(e,m);b<l?(o=[{element:u,datasetIndex:d,index:f}],l=b):b===l&&o.push({element:u,datasetIndex:d,index:f})}return evaluateInteractionItems(t,s,e,c),o}function getNearestItems(t,e,s,n,i,r){return!r&&!t.isPointInArea(e)?[]:s==="r"&&!n?getNearestRadialItems(t,e,s,i):getNearestCartesianItems(t,e,s,n,i,r)}function getAxisItems(t,e,s,n,i){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return evaluateInteractionItems(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:r}var Interaction={modes:{index(t,e,s,n){const i=getRelativePosition(e,t),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?getIntersectItems(t,i,r,n,o):getNearestItems(t,i,r,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,n){const i=getRelativePosition(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?getIntersectItems(t,i,r,n,o):getNearestItems(t,i,r,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,s,n){const i=getRelativePosition(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return getIntersectItems(t,i,r,n,o)},nearest(t,e,s,n){const i=getRelativePosition(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return getNearestItems(t,i,r,s.intersect,n,o)},x(t,e,s,n){const i=getRelativePosition(e,t);return getAxisItems(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=getRelativePosition(e,t);return getAxisItems(t,i,"y",s.intersect,n)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(s=>s.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(s=>STATIC_POSITIONS.indexOf(s.pos)===-1&&s.box.axis===e)}function sortByWeight(t,e){return t.sort((s,n)=>{const i=e?n:s,r=e?s:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function wrapBoxes(t){const e=[];let s,n,i,r,o,a;for(s=0,n=(t||[]).length;s<n;++s)i=t[s],{position:r,options:{stack:o,stackWeight:a=1}}=i,e.push({index:s,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return e}function buildStacks(t){const e={};for(const s of t){const{stack:n,pos:i,stackWeight:r}=s;if(!n||!STATIC_POSITIONS.includes(i))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function setLayoutDims(t,e){const s=buildStacks(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&e.availableHeight)}return s}function buildLayoutBoxes(t){const e=wrapBoxes(t),s=sortByWeight(e.filter(c=>c.box.fullSize),!0),n=sortByWeight(filterByPosition(e,"left"),!0),i=sortByWeight(filterByPosition(e,"right")),r=sortByWeight(filterByPosition(e,"top"),!0),o=sortByWeight(filterByPosition(e,"bottom")),a=filterDynamicPositionByAxis(e,"x"),l=filterDynamicPositionByAxis(e,"y");return{fullSize:s,leftAndTop:n.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:filterByPosition(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function getCombinedMax(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,s,n){const{pos:i,box:r}=s,o=t.maxPadding;if(!isObject(i)){s.size&&(t[i]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?r.height:r.width),s.size=d.size/d.count,t[i]+=s.size}r.getPadding&&updateMaxPadding(o,r.getPadding());const a=Math.max(0,e.outerWidth-getCombinedMax(o,t,"left","right")),l=Math.max(0,e.outerHeight-getCombinedMax(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function handleMaxPadding(t){const e=t.maxPadding;function s(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function getMargins(t,e){const s=e.maxPadding;function n(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(e[o],s[o])}),r}return n(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,s,n){const i=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,getMargins(a.horizontal,e));const{same:d,other:f}=updateDims(e,s,a,n);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&fitBoxes(i,e,s,n)||u}function setBoxDims(t,e,s,n,i){t.top=s,t.left=e,t.right=e+n,t.bottom=s+i,t.width=n,t.height=i}function placeBoxes(t,e,s,n){const i=s.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;defined(c.start)&&(o=c.start),l.fullSize?setBoxDims(l,i.left,o,s.outerWidth-i.right-i.left,f):setBoxDims(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;defined(c.start)&&(r=c.start),l.fullSize?setBoxDims(l,r,i.top,f,s.outerHeight-i.bottom-i.top):setBoxDims(l,r,e.top+c.placed,f,d),c.start=r,c.placed+=d,r=l.right}}e.x=r,e.y=o}var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const i=toPadding(t.options.layout.padding),r=Math.max(e-i.width,0),o=Math.max(s-i.height,0),a=buildLayoutBoxes(t.boxes),l=a.vertical,c=a.horizontal;each(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=l.reduce((_,b)=>b.box.options&&b.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},i);updateMaxPadding(f,toPadding(n));const g=Object.assign({maxPadding:f,w:r,h:o,x:i.left,y:i.top},i),m=setLayoutDims(l.concat(c),d);fitBoxes(a.fullSize,g,d,m),fitBoxes(l,g,d,m),fitBoxes(c,g,d,m)&&fitBoxes(l,g,d,m),handleMaxPadding(g),placeBoxes(a.leftAndTop,g,d,m),g.x+=g.w,g.y+=g.h,placeBoxes(a.rightAndBottom,g,d,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},each(a.chartArea,_=>{const b=_.box;Object.assign(b,t.chartArea),b.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,i){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const s=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[EXPANDO_KEY]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",isNullOrEmpty(i)){const r=readUsedSize(t,"width");r!==void 0&&(t.width=r)}if(isNullOrEmpty(n))if(t.style.height==="")t.height=t.width/(e||2);else{const r=readUsedSize(t,"height");r!==void 0&&(t.height=r)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,s){t&&t.addEventListener(e,s,eventListenerOptions)}function removeListener(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,eventListenerOptions)}function fromNativeEvent(t,e){const s=EVENT_TYPES[t.type]||t.type,{x:n,y:i}=getRelativePosition(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function nodeListContains(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function createAttachObserver(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||nodeListContains(a.addedNodes,n),o=o&&!nodeListContains(a.removedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function createDetachObserver(t,e,s){const n=t.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||nodeListContains(a.removedNodes,n),o=o&&!nodeListContains(a.addedNodes,n);o&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,s){const n=t.canvas,i=n&&_getParentNode(n);if(!i)return;const r=throttled((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),listenDevicePixelRatioChanges(t,r),o}function releaseObserver(t,e,s){s&&s.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,s){const n=t.canvas,i=throttled(r=>{t.ctx!==null&&s(fromNativeEvent(r,t))},t);return addListener(n,e,i),i}class DomPlatform extends BasePlatform{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(initCanvas(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[EXPANDO_KEY])return!1;const n=s[EXPANDO_KEY].initial;["height","width"].forEach(r=>{const o=n[r];isNullOrUndef(o)?s.removeAttribute(r):s.setAttribute(r,o)});const i=n.style||{};return Object.keys(i).forEach(r=>{s.style[r]=i[r]}),s.width=s.width,delete s[EXPANDO_KEY],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),o={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[s]||createProxyAndListen;i[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),i=n[s];if(!i)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[s]||removeListener)(e,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,i){return getMaximumSize(e,s,n,i)}isAttached(e){const s=e&&_getParentNode(e);return!!(s&&s.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var Se;let Element$1=(Se=class{constructor(){X(this,"x");X(this,"y");X(this,"active",!1);X(this,"options");X(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const i={};return e.forEach(r=>{i[r]=n[r]&&n[r].active()?n[r]._to:this[r]}),i}},X(Se,"defaults",{}),X(Se,"defaultRoutes"),Se);function autoSkip(t,e){const s=t.options.ticks,n=determineMaxTicks(t),i=Math.min(s.maxTicksLimit||n,n),r=s.major.enabled?getMajorIndices(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return skipMajors(e,c,r,o/i),c;const u=calculateSpacing(r,e,i);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(skip(e,c,u,isNullOrUndef(g)?0:a-g,a),d=0,f=o-1;d<f;d++)skip(e,c,u,r[d],r[d+1]);return skip(e,c,u,l,isNullOrUndef(g)?e.length:l+g),c}return skip(e,c,u),c}function determineMaxTicks(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(n,i))}function calculateSpacing(t,e,s){const n=getEvenSpacing(t),i=e.length/s;if(!n)return Math.max(i,1);const r=_factorize(n);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function getMajorIndices(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function skipMajors(t,e,s,n){let i=0,r=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===r&&(e.push(t[o]),i++,r=s[i*n])}function skip(t,e,s,n,i){const r=valueOrDefault(n,0),o=Math.min(valueOrDefault(i,t.length),t.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*s))}function getEvenSpacing(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,getTicksLimit=(t,e)=>Math.min(e||t,t);function sample(t,e){const s=[],n=t.length/e,i=t.length;let r=0;for(;r<i;r+=n)s.push(t[Math.floor(r)]);return s}function getPixelForGridLine(t,e,s){const n=t.ticks.length,i=Math.min(e,n-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<r-a||l>o+a)))return l}function garbageCollect(t,e){each(t,s=>{const n=s.gc,i=n.length/2;let r;if(i>e){for(r=0;r<i;++r)delete s.data[n[r]];n.splice(0,i)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const s=toFont(t.font,e),n=toPadding(t.padding);return(isArray(t.text)?t.text.length:1)*s.lineHeight+n.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,s){return createContext(t,{tick:s,index:e,type:"tick"})}function titleAlign(t,e,s){let n=_toLeftRightCenter(t);return(s&&e!=="right"||!s&&e==="right")&&(n=reverseAlign(n)),n}function titleArgs(t,e,s,n){const{top:i,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,m;const _=o-i,b=a-r;if(t.isHorizontal()){if(g=_alignStartEnd(n,r,a),isObject(s)){const v=Object.keys(s)[0],S=s[v];m=u[v].getPixelForValue(S)+_-e}else s==="center"?m=(c.bottom+c.top)/2+_-e:m=offsetFromEdge(t,s,e);f=a-r}else{if(isObject(s)){const v=Object.keys(s)[0],S=s[v];g=u[v].getPixelForValue(S)-b+e}else s==="center"?g=(c.left+c.right)/2-b+e:g=offsetFromEdge(t,s,e);m=_alignStartEnd(n,o,i),d=s==="left"?-HALF_PI:HALF_PI}return{titleX:g,titleY:m,maxWidth:f,rotation:d}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),s=finiteOrDefault(s,Number.NEGATIVE_INFINITY),n=finiteOrDefault(n,Number.POSITIVE_INFINITY),i=finiteOrDefault(i,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,n),max:finiteOrDefault(s,i),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(s)}}getMinMax(e){let{min:s,max:n,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),i||(s=Math.min(s,o.min)),r||(n=Math.max(n,o.max));return s=r&&s>n?n:s,n=i&&s>n?s:n,{min:finiteOrDefault(s,finiteOrDefault(n,s)),max:finiteOrDefault(n,finiteOrDefault(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?sample(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=callback(s.callback,[r.value,n,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,r=s.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!s.display||i>=r||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=_limitValue(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:g/(n-1),d+6>a&&(a=g/(n-(e.offset?.5:1)),l=this.maxHeight-getTickMarkLength(e.grid)-s.padding-getTitleHeight(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=toDegrees(Math.min(Math.asin(_limitValue((u.highest.height+6)/a,-1,1)),Math.asin(_limitValue(l/c,-1,1))-Math.asin(_limitValue(f/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=getTitleHeight(i,s.options.font);if(a?(e.width=this.maxWidth,e.height=getTickMarkLength(r)+l):(e.height=this.maxHeight,e.width=getTickMarkLength(r)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=n.padding*2,m=toRadians(this.labelRotation),_=Math.cos(m),b=Math.sin(m);if(a){const v=n.mirror?0:b*d.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+v+g)}else{const v=n.mirror?0:_*d.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+v+g)}this._calculatePadding(c,u,b,_)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=i*e.width,g=n*s.height):(f=n*e.height,g=i*s.width):r==="start"?g=s.width:r==="end"?f=e.width:r!=="inner"&&(f=e.width/2,g=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let u=s.height/2,d=e.height/2;r==="start"?(u=0,d=e.height):r==="end"&&(u=s.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)isNullOrUndef(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=sample(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/getTicksLimit(s,n));let c=0,u=0,d,f,g,m,_,b,v,S,x,T,A;for(d=0;d<s;d+=l){if(m=e[d].label,_=this._resolveTickFontOptions(d),i.font=b=_.string,v=r[b]=r[b]||{data:{},gc:[]},S=_.lineHeight,x=T=0,!isNullOrUndef(m)&&!isArray(m))x=_measureText(i,v.data,v.gc,x,m),T=S;else if(isArray(m))for(f=0,g=m.length;f<g;++f)A=m[f],!isNullOrUndef(A)&&!isArray(A)&&(x=_measureText(i,v.data,v.gc,x,A),T+=S);o.push(x),a.push(T),c=Math.max(x,c),u=Math.max(T,u)}garbageCollect(r,s);const R=o.indexOf(c),C=a.indexOf(u),M=k=>({width:o[k]||0,height:a[k]||0});return{first:M(0),last:M(s-1),widest:M(R),highest:M(C),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=createTickContext(this.getContext(),e,n))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=toRadians(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=getTickMarkLength(r),g=[],m=a.setContext(this.getContext()),_=m.display?m.width:0,b=_/2,v=function(Y){return _alignPixel(n,Y,_)};let S,x,T,A,R,C,M,k,L,j,N,K;if(o==="top")S=v(this.bottom),C=this.bottom-f,k=S-b,j=v(e.top)+b,K=e.bottom;else if(o==="bottom")S=v(this.top),j=e.top,K=v(e.bottom)-b,C=S+b,k=this.top+f;else if(o==="left")S=v(this.right),R=this.right-f,M=S-b,L=v(e.left)+b,N=e.right;else if(o==="right")S=v(this.left),L=e.left,N=v(e.right)-b,R=S+b,M=this.left+f;else if(s==="x"){if(o==="center")S=v((e.top+e.bottom)/2+.5);else if(isObject(o)){const Y=Object.keys(o)[0],z=o[Y];S=v(this.chart.scales[Y].getPixelForValue(z))}j=e.top,K=e.bottom,C=S+b,k=C+f}else if(s==="y"){if(o==="center")S=v((e.left+e.right)/2);else if(isObject(o)){const Y=Object.keys(o)[0],z=o[Y];S=v(this.chart.scales[Y].getPixelForValue(z))}R=S-b,M=R-f,L=e.left,N=e.right}const te=valueOrDefault(i.ticks.maxTicksLimit,d),Z=Math.max(1,Math.ceil(d/te));for(x=0;x<d;x+=Z){const Y=this.getContext(x),z=r.setContext(Y),ee=a.setContext(Y),re=z.lineWidth,ce=z.color,ue=ee.dash||[],ae=ee.dashOffset,ge=z.tickWidth,he=z.tickColor,me=z.tickBorderDash||[],le=z.tickBorderDashOffset;T=getPixelForGridLine(this,x,l),T!==void 0&&(A=_alignPixel(n,T,re),c?R=M=L=N=A:C=k=j=K=A,g.push({tx1:R,ty1:C,tx2:M,ty2:k,x1:L,y1:j,x2:N,y2:K,width:re,color:ce,borderDash:ue,borderDashOffset:ae,tickWidth:ge,tickColor:he,tickBorderDash:me,tickBorderDashOffset:le}))}return this._ticksLength=d,this._borderValue=S,g}_computeLabelItems(e){const s=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=r,f=getTickMarkLength(n.grid),g=f+u,m=d?-u:g,_=-toRadians(this.labelRotation),b=[];let v,S,x,T,A,R,C,M,k,L,j,N,K="middle";if(i==="top")R=this.bottom-m,C=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+m,C=this._getXAxisLabelAlignment();else if(i==="left"){const Z=this._getYAxisLabelAlignment(f);C=Z.textAlign,A=Z.x}else if(i==="right"){const Z=this._getYAxisLabelAlignment(f);C=Z.textAlign,A=Z.x}else if(s==="x"){if(i==="center")R=(e.top+e.bottom)/2+g;else if(isObject(i)){const Z=Object.keys(i)[0],Y=i[Z];R=this.chart.scales[Z].getPixelForValue(Y)+g}C=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")A=(e.left+e.right)/2-g;else if(isObject(i)){const Z=Object.keys(i)[0],Y=i[Z];A=this.chart.scales[Z].getPixelForValue(Y)}C=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const te=this._getLabelSizes();for(v=0,S=a.length;v<S;++v){x=a[v],T=x.label;const Z=r.setContext(this.getContext(v));M=this.getPixelForTick(v)+r.labelOffset,k=this._resolveTickFontOptions(v),L=k.lineHeight,j=isArray(T)?T.length:1;const Y=j/2,z=Z.color,ee=Z.textStrokeColor,re=Z.textStrokeWidth;let ce=C;o?(A=M,C==="inner"&&(v===S-1?ce=this.options.reverse?"left":"right":v===0?ce=this.options.reverse?"right":"left":ce="center"),i==="top"?c==="near"||_!==0?N=-j*L+L/2:c==="center"?N=-te.highest.height/2-Y*L+L:N=-te.highest.height+L/2:c==="near"||_!==0?N=L/2:c==="center"?N=te.highest.height/2-Y*L:N=te.highest.height-j*L,d&&(N*=-1),_!==0&&!Z.showLabelBackdrop&&(A+=L/2*Math.sin(_))):(R=M,N=(1-j)*L/2);let ue;if(Z.showLabelBackdrop){const ae=toPadding(Z.backdropPadding),ge=te.heights[v],he=te.widths[v];let me=N-ae.top,le=0-ae.left;switch(K){case"middle":me-=ge/2;break;case"bottom":me-=ge;break}switch(C){case"center":le-=he/2;break;case"right":le-=he;break;case"inner":v===S-1?le-=he:v>0&&(le-=he/2);break}ue={left:le,top:me,width:he+ae.width,height:ge+ae.height,color:Z.backdropColor}}b.push({label:T,font:k,textOffset:N,options:{rotation:_,color:z,strokeColor:ee,strokeWidth:re,textAlign:ce,textBaseline:K,translation:[A,R],backdrop:ue}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return s==="left"?i?(u=this.right+r,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+r,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:i,width:r,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(r=>r.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(r=0,o=i.length;r<o;++r){const l=i[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:i}}=this,r=n.setContext(this.getContext()),o=n.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=_alignPixel(e,this.left,o)-o/2,u=_alignPixel(e,this.right,a)+a/2,d=f=l):(d=_alignPixel(e,this.top,o)-o/2,f=_alignPixel(e,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&clipArea(n,i);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;renderText(n,c,0,u,l,a)}i&&unclipArea(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const r=toFont(n.font),o=toPadding(n.padding),a=n.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||isObject(s)?(l+=o.bottom,isArray(n.text)&&(l+=r.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=titleArgs(this,l,s,a);renderText(e,n.text,0,0,r,{color:n.color,maxWidth:d,rotation:f,textAlign:titleAlign(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=valueOrDefault(e.grid&&e.grid.z,-1),i=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return toFont(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;isIChartComponent(s)&&(n=this.register(s));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,registerDefaults(e,o,n),this.override&&defaults.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,i=this.scope;n in s&&delete s[n],i&&n in defaults[i]&&(delete defaults[i][n],this.override&&delete overrides[n])}}function registerDefaults(t,e,s){const n=merge(Object.create(null),[s?defaults.get(s):{},defaults.get(e),t.defaults]);defaults.set(e,n),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),i=n.pop(),r=[t].concat(n).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");defaults.route(r,i,l,a)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(i=>{const r=n||this._getRegistryForType(i);n||r.isForType(i)||r===this.plugins&&i.id?this._exec(e,r,i):each(i,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,s,n){const i=_capitalize(e);callback(n["before"+i],[],n),s[e](n),callback(n["after"+i],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(e,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,s,n);return s==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,s,n,i){i=i||{};for(const r of e){const o=r.plugin,a=o[n],l=[s,i,r.options];if(callback(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,i=valueOrDefault(n.options&&n.options.plugins,{}),r=allPlugins(n);return i===!1&&!s?[]:createDescriptors(e,r,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),e,"stop"),this._notify(i(n,s),e,"start")}}function allPlugins(t){const e={},s=[],n=Object.keys(registry.plugins.items);for(let r=0;r<n.length;r++)s.push(registry.getPlugin(n[r]));const i=t.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,{plugins:e,localIds:s},n,i){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=getOpts(n[l],i);c!==null&&r.push({plugin:a,options:pluginOpts(t.config,{plugin:a,local:s[l]},c,o)})}return r}function pluginOpts(t,{plugin:e,local:s},n,i){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(n,r);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const s=defaults.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function idMatchesAxis(t){if(t==="x"||t==="y"||t==="r")return t}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,...e){if(idMatchesAxis(t))return t;for(const s of e){const n=s.axis||axisFromPosition(s.position)||t.length>1&&idMatchesAxis(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function retrieveAxisFromDatasets(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return getAxisFromDataset(t,"x",s[0])||getAxisFromDataset(t,"y",s[0])}return{}}function mergeScaleConfig(t,e){const s=overrides[t.type]||{scales:{}},n=e.scales||{},i=getIndexAxis(t.type,e),r=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!isObject(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=determineAxis(o,a,retrieveAxisFromDatasets(o,t),defaults.scales[a.type]),c=getDefaultScaleIDFromAxis(l,i),u=s.scales||{};r[o]=mergeIf(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||getIndexAxis(a,e),u=(overrides[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=getAxisFromDefaultScaleID(d,l),g=o[f+"AxisID"]||f;r[g]=r[g]||Object.create(null),mergeIf(r[g],[{axis:f},n[g],u[d]])})}),Object.keys(r).forEach(o=>{const a=r[o];mergeIf(a,[defaults.scales[a.type],defaults.scale])}),r}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let s=keyCache.get(t);return s||(s=e(),keyCache.set(t,s),keysCached.add(s)),s}const addIfFound=(t,e,s)=>{const n=resolveObjectKey(e,s);n!==void 0&&t.add(n)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return cachedKeys(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return cachedKeys(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return cachedKeys(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let i=n.get(e);return(!i||s)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,s,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(d=>addIfFound(l,e,d))),u.forEach(d=>addIfFound(l,i,d)),u.forEach(d=>addIfFound(l,overrides[r]||{},d)),u.forEach(d=>addIfFound(l,defaults,d)),u.forEach(d=>addIfFound(l,descriptors,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),keysCached.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,overrides[s]||{},defaults.datasets[s]||{},{type:s},defaults,descriptors]}resolveNamedOptions(e,s,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=getResolver(this._resolverCache,e,i);let l=o;if(needContext(o,s)){r.$shared=!1,n=isFunction$1(n)?n():n;const c=this.createResolver(e,n,a);l=_attachContext(o,n,c)}for(const c of s)r[c]=l[c];return r}createResolver(e,s,n=[""],i){const{resolver:r}=getResolver(this._resolverCache,e,n);return isObject(s)?_attachContext(r,s,void 0,i):r}}function getResolver(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=s.join();let r=n.get(i);return r||(r={resolver:_createResolver(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,r)),r}const hasFunction=t=>isObject(t)&&Object.getOwnPropertyNames(t).some(e=>isFunction$1(t[e]));function needContext(t,e){const{isScriptable:s,isIndexable:n}=_descriptors(t);for(const i of e){const r=s(i),o=n(i),a=(o||r)&&t[i];if(r&&(isFunction$1(a)||hasFunction(a))||o&&isArray(a))return!0}return!1}var version$4="4.5.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function onAnimationsComplete(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),callback(s&&s.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,s=e.options.animation;callback(s&&s.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(s=>s.canvas===e).pop()};function moveNumericKeys(t,e,s){const n=Object.keys(t);for(const i of n){const r=+i;if(r>=e){const o=t[i];delete t[i],(s>0||r>e)&&(t[r+s]=o)}}}function determineLastEvent(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}var ve;let Chart$1=(ve=class{static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,s){const n=this.config=new Config(s),i=getCanvas(e),r=getChart(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||_detectPlatform(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=uid(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:i,_aspectRatio:r}=this;return isNullOrUndef(e)?s&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,s){animator.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,s,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,retinaScale(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),callback(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};each(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,i=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=determineAxis(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),each(r,o=>{const a=o.options,l=a.id,c=determineAxis(l,a),u=valueOrDefault(a.type,o.dtype);(a.position===void 0||positionIsHorizontal(a.position,c)!==positionIsHorizontal(o.dposition))&&(a.position=o.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const f=registry.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,e)}),each(i,(o,a)=>{o||delete n[a]}),each(n,o=>{layouts.configure(this,o,o.options),layouts.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((i,r)=>i.index-r.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,i)=>{s.filter(r=>r===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const r=s[n];let o=this.getDatasetMeta(n);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=r.indexAxis||getIndexAxis(a,this.options),o.order=r.order||0,o.index=n,o.label=""+r.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=registry.getController(a),{datasetElementType:c,dataElementType:u}=defaults.datasets[a];Object.assign(l,{dataElementType:registry.getElement(u),datasetElementType:c&&registry.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&r.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||each(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!setsEqual(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of s){const o=n==="_removeElements"?-r:r;moveNumericKeys(e,i,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=n(0);for(let r=1;r<s;r++)if(!setsEqual(i,n(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],each(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,isFunction$1(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let i,r;for(i=0,r=s.length;i<r;++i){const o=s[i];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&clipArea(s,i),e.controller.draw(),i&&unclipArea(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,i){const r=Interaction.modes[s];return typeof r=="function"?r(this,e,n,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let i=n.filter(r=>r&&r._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);defined(s)?(r.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),animator.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(r,o)=>{s.addEventListener(this,r,o),e[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};each(this.options.events,r=>n(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){each(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},each(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const i=n?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!_elementsEqual(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=r(s,e),a=n?e:r(e,s);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const r=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:i=[],options:r}=this,o=s,a=this._getActiveElements(e,i,n,o),l=_isClickEvent(e),c=determineLastEvent(e,this._lastEvent,n,l);n&&(this._lastEvent=null,callback(r.onHover,[e,a,this],this),l&&callback(r.onClick,[e,a,this],this));const u=!_elementsEqual(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(e,s,n,i){if(e.type==="mouseout")return[];if(!n)return s;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}},X(ve,"defaults",defaults),X(ve,"instances",instances),X(ve,"overrides",overrides),X(ve,"registry",registry),X(ve,"version",version$4),X(ve,"getChart",getChart),ve);function invalidatePlugins(){return each(Chart$1.instances,t=>t._plugins.invalidate())}function clipSelf(t,e,s){const{startAngle:n,x:i,y:r,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,_normalizeAngle(n-s));if(t.beginPath(),t.arc(i,r,o-c/2,n+d/2,s-d/2),a>0){const f=Math.min(c/a,_normalizeAngle(n-s));t.arc(i,r,a+c/2,s-f/2,n+f/2,!0)}else{const f=Math.min(c/2,o*_normalizeAngle(n-s));if(u==="round")t.arc(i,r,f,s-PI/2,n+PI/2,!0);else if(u==="bevel"){const g=2*f*f,m=-g*Math.cos(s+PI/2)+i,_=-g*Math.sin(s+PI/2)+r,b=g*Math.cos(n+PI/2)+i,v=g*Math.sin(n+PI/2)+r;t.lineTo(m,_),t.lineTo(b,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function clipArc(t,e,s){const{startAngle:n,pixelMargin:i,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(r,o,a,n-c,s+c),l>i?(c=i/l,t.arc(r,o,l,s+c,n-c,!0)):t.arc(r,o,i,s+HALF_PI,n-HALF_PI),t.closePath(),t.clip()}function toRadiusCorners(t){return _readValueToProps(t,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(t,e,s,n){const i=toRadiusCorners(t.options.borderRadius),r=(s-e)/2,o=Math.min(r,n*e/2),a=l=>{const c=(s-Math.min(r,l))*n/2;return _limitValue(l,0,Math.min(r,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:_limitValue(i.innerStart,0,o),innerEnd:_limitValue(i.innerEnd,0,o)}}function rThetaToXY(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function pathArc(t,e,s,n,i,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+n+s-c,0),f=u>0?u+n+s+c:0;let g=0;const m=i-l;if(n){const Z=u>0?u-n:0,Y=d>0?d-n:0,z=(Z+Y)/2,ee=z!==0?m*z/(z+n):m;g=(m-ee)/2}const _=Math.max(.001,m*d-s/PI)/d,b=(m-_)/2,v=l+b+g,S=i-b-g,{outerStart:x,outerEnd:T,innerStart:A,innerEnd:R}=parseBorderRadius$1(e,f,d,S-v),C=d-x,M=d-T,k=v+x/C,L=S-T/M,j=f+A,N=f+R,K=v+A/j,te=S-R/N;if(t.beginPath(),r){const Z=(k+L)/2;if(t.arc(o,a,d,k,Z),t.arc(o,a,d,Z,L),T>0){const re=rThetaToXY(M,L,o,a);t.arc(re.x,re.y,T,L,S+HALF_PI)}const Y=rThetaToXY(N,S,o,a);if(t.lineTo(Y.x,Y.y),R>0){const re=rThetaToXY(N,te,o,a);t.arc(re.x,re.y,R,S+HALF_PI,te+Math.PI)}const z=(S-R/f+(v+A/f))/2;if(t.arc(o,a,f,S-R/f,z,!0),t.arc(o,a,f,z,v+A/f,!0),A>0){const re=rThetaToXY(j,K,o,a);t.arc(re.x,re.y,A,K+Math.PI,v-HALF_PI)}const ee=rThetaToXY(C,v,o,a);if(t.lineTo(ee.x,ee.y),x>0){const re=rThetaToXY(C,k,o,a);t.arc(re.x,re.y,x,v-HALF_PI,k)}}else{t.moveTo(o,a);const Z=Math.cos(k)*d+o,Y=Math.sin(k)*d+a;t.lineTo(Z,Y);const z=Math.cos(L)*d+o,ee=Math.sin(L)*d+a;t.lineTo(z,ee)}t.closePath()}function drawArc(t,e,s,n,i){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){pathArc(t,e,s,n,l,i);for(let c=0;c<r;++c)t.fill();isNaN(a)||(l=o+(a%TAU||TAU))}return pathArc(t,e,s,n,l,i),t.fill(),l}function drawBorder(t,e,s,n,i){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f,borderRadius:g}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let _=e.endAngle;if(r){pathArc(t,e,s,n,_,i);for(let b=0;b<r;++b)t.stroke();isNaN(a)||(_=o+(a%TAU||TAU))}m&&clipArc(t,e,_),l.selfJoin&&_-o>=PI&&g===0&&u!=="miter"&&clipSelf(t,e,_),r||(pathArc(t,e,s,n,_,i),t.stroke())}class ArcElement extends Element$1{constructor(s){super();X(this,"circumference");X(this,"endAngle");X(this,"fullCircles");X(this,"innerRadius");X(this,"outerRadius");X(this,"pixelMargin");X(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const r=this.getProps(["x","y"],i),{angle:o,distance:a}=getAngleFromPoint(r,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),g=(this.options.spacing+this.options.borderWidth)/2,m=valueOrDefault(f,c-l),_=_angleBetween(o,l,c)&&l!==c,b=m>=TAU||_,v=_isBetween(a,u+g,d+g);return b&&v}getCenterPoint(s){const{x:n,y:i,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:u}=this.options,d=(r+o)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>TAU?Math.floor(i/TAU):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(PI,i||0)),u=r*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,drawArc(s,this,u,o,a),drawBorder(s,this,u,o,a),s.restore()}}X(ArcElement,"id","arc"),X(ArcElement,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),X(ArcElement,"defaultRoutes",{backgroundColor:"backgroundColor"}),X(ArcElement,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function getBarBounds(t,e){const{x:s,y:n,base:i,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(s,i),l=Math.max(s,i),c=n-d,u=n+d):(d=r/2,a=s-d,l=s+d,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function skipOrLimit(t,e,s,n){return t?0:_limitValue(e,s,n)}function parseBorderWidth(t,e,s){const n=t.options.borderWidth,i=t.borderSkipped,r=toTRBL(n);return{t:skipOrLimit(i.top,r.top,0,s),r:skipOrLimit(i.right,r.right,0,e),b:skipOrLimit(i.bottom,r.bottom,0,s),l:skipOrLimit(i.left,r.left,0,e)}}function parseBorderRadius(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,r=toTRBLCorners(i),o=Math.min(e,s),a=t.borderSkipped,l=n||isObject(i);return{topLeft:skipOrLimit(!l||a.top||a.left,r.topLeft,0,o),topRight:skipOrLimit(!l||a.top||a.right,r.topRight,0,o),bottomLeft:skipOrLimit(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:skipOrLimit(!l||a.bottom||a.right,r.bottomRight,0,o)}}function boundingRects(t){const e=getBarBounds(t),s=e.right-e.left,n=e.bottom-e.top,i=parseBorderWidth(t,s/2,n/2),r=parseBorderRadius(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:r},inner:{x:e.left+i.l,y:e.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function inRange(t,e,s,n){const i=e===null,r=s===null,a=t&&!(i&&r)&&getBarBounds(t,n);return a&&(i||_isBetween(e,a.left,a.right))&&(r||_isBetween(s,a.top,a.bottom))}function hasRadius(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function addNormalRectPath(t,e){t.rect(e.x,e.y,e.w,e.h)}function inflateRect(t,e,s={}){const n=t.x!==s.x?-e:0,i=t.y!==s.y?-e:0,r=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+r,h:t.h+o,radius:t.radius}}class BarElement extends Element$1{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=boundingRects(this),a=hasRadius(o.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,inflateRect(o,s,r)),e.clip(),a(e,inflateRect(r,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,inflateRect(r,s)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,s,n){return inRange(this,e,s,n)}inXRange(e,s){return inRange(this,e,null,s)}inYRange(e,s){return inRange(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(s+i)/2:s,y:r?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}X(BarElement,"id","bar"),X(BarElement,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),X(BarElement,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const getBoxSize=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Legend extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=toFont(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=getBoxSize(n,r);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=e;r.textAlign="left",r.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((m,_)=>{const b=n+s/2+r.measureText(m.text).width;(_===0||c[c.length-1]+b+2*a>o)&&(d+=u,c[c.length-(_>0?0:1)]=0,g+=u,f++),l[_]={left:0,top:g,row:f,width:b,height:i},c[c.length-1]+=b+a}),d}_fitCols(e,s,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,g=0,m=0,_=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:S,itemHeight:x}=calculateItemSize(n,s,r,b,i);v>0&&g+x+2*a>u&&(d+=f+a,c.push({width:f,height:g}),m+=f+a,_++,f=g=0),l[v]={left:m,top:g,col:_,width:S,height:x},f=Math.max(f,S),g+=x+a}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:r}}=this,o=getRtlAdapter(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=_alignStartEnd(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=_alignStartEnd(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=_alignStartEnd(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=_alignStartEnd(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:i}=this,{align:r,labels:o}=e,a=defaults.color,l=getRtlAdapter(e.rtl,this.left,this.width),c=toFont(o.font),{padding:u}=o,d=c.size,f=d/2;let g;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:_,itemHeight:b}=getBoxSize(o,d),v=function(R,C,M){if(isNaN(m)||m<=0||isNaN(_)||_<0)return;i.save();const k=valueOrDefault(M.lineWidth,1);if(i.fillStyle=valueOrDefault(M.fillStyle,a),i.lineCap=valueOrDefault(M.lineCap,"butt"),i.lineDashOffset=valueOrDefault(M.lineDashOffset,0),i.lineJoin=valueOrDefault(M.lineJoin,"miter"),i.lineWidth=k,i.strokeStyle=valueOrDefault(M.strokeStyle,a),i.setLineDash(valueOrDefault(M.lineDash,[])),o.usePointStyle){const L={radius:_*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:k},j=l.xPlus(R,m/2),N=C+f;drawPointLegend(i,L,j,N,o.pointStyleWidth&&m)}else{const L=C+Math.max((d-_)/2,0),j=l.leftForLtr(R,m),N=toTRBLCorners(M.borderRadius);i.beginPath(),Object.values(N).some(K=>K!==0)?addRoundedRectPath(i,{x:j,y:L,w:m,h:_,radius:N}):i.rect(j,L,m,_),i.fill(),k!==0&&i.stroke()}i.restore()},S=function(R,C,M){renderText(i,M.text,R,C+b/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},x=this.isHorizontal(),T=this._computeTitleHeight();x?g={x:_alignStartEnd(r,this.left+u,this.right-n[0]),y:this.top+u+T,line:0}:g={x:this.left+u,y:_alignStartEnd(r,this.top+T+u,this.bottom-s[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const A=b+u;this.legendItems.forEach((R,C)=>{i.strokeStyle=R.fontColor,i.fillStyle=R.fontColor;const M=i.measureText(R.text).width,k=l.textAlign(R.textAlign||(R.textAlign=o.textAlign)),L=m+f+M;let j=g.x,N=g.y;l.setWidth(this.width),x?C>0&&j+L+u>this.right&&(N=g.y+=A,g.line++,j=g.x=_alignStartEnd(r,this.left+u,this.right-n[g.line])):C>0&&N+A>this.bottom&&(j=g.x=j+s[g.line].width+u,g.line++,N=g.y=_alignStartEnd(r,this.top+T+u,this.bottom-s[g.line].height));const K=l.x(j);if(v(K,N,R),j=_textX(k,j+m+f,x?j+L:this.right,e.rtl),S(l.x(j),N,R),x)g.x+=L+u;else if(typeof R.text!="string"){const te=c.lineHeight;g.y+=calculateLegendItemHeight(R,te)+u}else g.y+=A}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=toFont(s.font),i=toPadding(s.padding);if(!s.display)return;const r=getRtlAdapter(e.rtl,this.left,this.width),o=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=_alignStartEnd(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((_,b)=>Math.max(_,b.height),0);u=c+_alignStartEnd(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const g=_alignStartEnd(a,d,d+f);o.textAlign=r.textAlign(_toLeftRightCenter(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,renderText(o,s.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,s=toFont(e.font),n=toPadding(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,i,r;if(_isBetween(e,this.left,this.right)&&_isBetween(s,this.top,this.bottom)){for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],_isBetween(e,i.left,i.left+i.width)&&_isBetween(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!isListened(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,r=itemsEqual(i,n);i&&!r&&callback(s.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!r&&callback(s.onHover,[e,n,this],this)}else n&&callback(s.onClick,[e,n,this],this)}}function calculateItemSize(t,e,s,n,i){const r=calculateItemWidth(n,t,e,s),o=calculateItemHeight(i,n,e.lineHeight);return{itemWidth:r,itemHeight:o}}function calculateItemWidth(t,e,s,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),e+s.size/2+n.measureText(i).width}function calculateItemHeight(t,e,s){let n=t;return typeof e.text!="string"&&(n=calculateLegendItemHeight(e,s)),n}function calculateLegendItemHeight(t,e){const s=t.text?t.text.length:0;return e*s}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(t,e,s){const n=t.legend=new Legend({ctx:t.ctx,options:s,chart:t});layouts.configure(t,n,s),layouts.addBox(t,n)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;layouts.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=toPadding(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const i=isArray(n.text)?n.text.length:1;this._padding=toPadding(n.padding);const r=i*toFont(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:i,right:r,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=_alignStartEnd(a,n,r),d=s+e,c=r-n):(o.position==="left"?(u=n+e,d=_alignStartEnd(a,i,s),l=PI*-.5):(u=r-e,d=_alignStartEnd(a,s,i),l=PI*.5),c=i-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=toFont(s.font),r=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);renderText(e,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:_toLeftRightCenter(s.align),textBaseline:"middle",translation:[o,a]})}}function createTitle(t,e){const s=new Title({ctx:t.ctx,options:e,chart:t});layouts.configure(t,s,e),layouts.addBox(t,s),t.titleBlock=s}var plugin_title={id:"title",_element:Title,start(t,e,s){createTitle(t,s)},stop(t){const e=t.titleBlock;layouts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;layouts.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(t){if(!t.length)return!1;let e,s,n=new Set,i=0,r=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++r}}return r===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/r}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=distanceBetweenPoints(e,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function pushOrConcat(t,e){return e&&(isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:s,datasetIndex:n,index:i}=e,r=t.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:t,label:o,parsed:r.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function getTooltipSize(t,e){const s=t.chart.ctx,{body:n,footer:i,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=toFont(e.bodyFont),c=toFont(e.titleFont),u=toFont(e.footerFont),d=r.length,f=i.length,g=n.length,m=toPadding(e.padding);let _=m.height,b=0,v=n.reduce((T,A)=>T+A.before.length+A.lines.length+A.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,d&&(_+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),v){const T=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=g*T+(v-g)*l.lineHeight+(v-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let S=0;const x=function(T){b=Math.max(b,s.measureText(T).width+S)};return s.save(),s.font=c.string,each(t.title,x),s.font=l.string,each(t.beforeBody.concat(t.afterBody),x),S=e.displayColors?o+2+e.boxPadding:0,each(n,T=>{each(T.before,x),each(T.lines,x),each(T.after,x)}),S=0,s.font=u.string,each(t.footer,x),s.restore(),b+=m.width,{width:b,height:_}}function determineYAlign(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function doesNotFitWithAlign(t,e,s,n){const{x:i,width:r}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&i+r+o>e.width||t==="right"&&i-r-o<0)return!0}function determineXAlign(t,e,s,n){const{x:i,width:r}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),doesNotFitWithAlign(c,t,e,s)&&(c="center"),c}function determineAlignment(t,e,s){const n=s.yAlign||e.yAlign||determineYAlign(t,s);return{xAlign:s.xAlign||e.xAlign||determineXAlign(t,e,s,n),yAlign:n}}function alignX(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function alignY(t,e,s){let{y:n,height:i}=t;return e==="top"?n+=s:e==="bottom"?n-=i+s:n-=i/2,n}function getBackgroundPoint(t,e,s,n){const{caretSize:i,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=i+r,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=toTRBLCorners(o);let m=alignX(e,a);const _=alignY(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+i:a==="right"&&(m+=Math.max(d,g)+i),{x:_limitValue(m,0,n.width-e.width),y:_limitValue(_,0,n.height-e.height)}}function getAlignedX(t,e,s){const n=toPadding(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,s){return createContext(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function overrideCallbacks(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const defaultCallbacks={beforeTitle:noop$3,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:noop$3,beforeBody:noop$3,beforeLabel:noop$3,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return isNullOrUndef(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:noop$3,afterBody:noop$3,beforeFooter:noop$3,footer:noop$3,afterFooter:noop$3};function invokeCallbackWithFallback(t,e,s,n){const i=t[e].call(s,n);return typeof i>"u"?defaultCallbacks[e].call(s,n):i}class Tooltip extends Element$1{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,r=new Animations(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,i=invokeCallbackWithFallback(n,"beforeTitle",this,e),r=invokeCallbackWithFallback(n,"title",this,e),o=invokeCallbackWithFallback(n,"afterTitle",this,e);let a=[];return a=pushOrConcat(a,splitNewlines(i)),a=pushOrConcat(a,splitNewlines(r)),a=pushOrConcat(a,splitNewlines(o)),a}getBeforeBody(e,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,i=[];return each(e,r=>{const o={before:[],lines:[],after:[]},a=overrideCallbacks(n,r);pushOrConcat(o.before,splitNewlines(invokeCallbackWithFallback(a,"beforeLabel",this,r))),pushOrConcat(o.lines,invokeCallbackWithFallback(a,"label",this,r)),pushOrConcat(o.after,splitNewlines(invokeCallbackWithFallback(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(e,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,i=invokeCallbackWithFallback(n,"beforeFooter",this,e),r=invokeCallbackWithFallback(n,"footer",this,e),o=invokeCallbackWithFallback(n,"afterFooter",this,e);let a=[];return a=pushOrConcat(a,splitNewlines(i)),a=pushOrConcat(a,splitNewlines(r)),a=pushOrConcat(a,splitNewlines(o)),a}_createItems(e){const s=this._active,n=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(createTooltipItem(this.chart,s[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,n))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,n))),each(a,u=>{const d=overrideCallbacks(e.callbacks,u);i.push(invokeCallbackWithFallback(d,"labelColor",this,u)),r.push(invokeCallbackWithFallback(d,"labelPointStyle",this,u)),o.push(invokeCallbackWithFallback(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,s){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=positioners[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=getTooltipSize(this,n),c=Object.assign({},a,l),u=determineAlignment(this.chart,n,c),d=getBackgroundPoint(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,i){const r=this.getCaretPosition(e,n,i);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(e,s,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=toTRBLCorners(a),{x:f,y:g}=e,{width:m,height:_}=s;let b,v,S,x,T,A;return r==="center"?(T=g+_/2,i==="left"?(b=f,v=b-o,x=T+o,A=T-o):(b=f+m,v=b+o,x=T-o,A=T+o),S=b):(i==="left"?v=f+Math.max(l,u)+o:i==="right"?v=f+m-Math.max(c,d)-o:v=this.caretX,r==="top"?(x=g,T=x-o,b=v-o,S=v+o):(x=g+_,T=x+o,b=v+o,S=v-o),A=x),{x1:b,x2:v,x3:S,y1:x,y2:T,y3:A}}drawTitle(e,s,n){const i=this.title,r=i.length;let o,a,l;if(r){const c=getRtlAdapter(n.rtl,this.x,this.width);for(e.x=getAlignedX(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=toFont(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(i[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,s,n,i,r){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=r,u=toFont(r.bodyFont),d=getAlignedX(this,"left",r),f=i.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,m=s.y+g;if(r.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,v=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,drawPoint(e,_,b,v),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,drawPoint(e,_,b,v)}else{e.lineWidth=isObject(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),v=toTRBLCorners(o.borderRadius);Object.values(v).some(S=>S!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,addRoundedRectPath(e,{x:_,y:m,w:c,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:b,y:m+1,w:c-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(_,m,c,l),e.strokeRect(_,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(b,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=toFont(n.bodyFont);let f=d.lineHeight,g=0;const m=getRtlAdapter(n.rtl,this.x,this.width),_=function(M){s.fillText(M,m.x(e.x+g),e.y+f/2),e.y+=f+r},b=m.textAlign(o);let v,S,x,T,A,R,C;for(s.textAlign=o,s.textBaseline="middle",s.font=d.string,e.x=getAlignedX(this,b,n),s.fillStyle=n.bodyColor,each(this.beforeBody,_),g=a&&b!=="right"?o==="center"?c/2+u:c+2+u:0,T=0,R=i.length;T<R;++T){for(v=i[T],S=this.labelTextColors[T],s.fillStyle=S,each(v.before,_),x=v.lines,a&&x.length&&(this._drawColorBox(s,e,T,m,n),f=Math.max(d.lineHeight,l)),A=0,C=x.length;A<C;++A)_(x[A]),f=d.lineHeight;each(v.after,_)}g=0,f=d.lineHeight,each(this.afterBody,_),e.y-=r}drawFooter(e,s,n){const i=this.footer,r=i.length;let o,a;if(r){const l=getRtlAdapter(n.rtl,this.x,this.width);for(e.x=getAlignedX(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=toFont(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:m}=toTRBLCorners(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+d,l),o==="top"&&this.drawCaret(e,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(e,s,n,i),s.lineTo(a+c,l+u-m),s.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,s,n,i),s.lineTo(a+g,l+u),s.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&r==="left"&&this.drawCaret(e,s,n,i),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const o=positioners[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=getTooltipSize(this,e),l=Object.assign({},o,this._size),c=determineAlignment(s,e,l),u=getBackgroundPoint(e,l,c,s);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=toPadding(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,s),overrideTextDirection(e,s.textDirection),r.y+=o.top,this.drawTitle(r,e,s),this.drawBody(r,e,s),this.drawFooter(r,e,s),restoreTextDirection(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!_elementsEqual(n,i),o=this._positionChanged(i,s);(r||o)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,s,n),a=this._positionChanged(o,e),l=s||!_elementsEqual(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,n,i){const r=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:i,options:r}=this,o=positioners[r.position].call(this,e,s);return o!==!1&&(n!==o.x||i!==o.y)}}X(Tooltip,"positioners",positioners);var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(t,e,s){s&&(t.tooltip=new Tooltip({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function findOrAddLabel(t,e,s,n){const i=t.indexOf(e);if(i===-1)return addIfString(t,e,s,n);const r=t.lastIndexOf(e);return i!==r?s:i}const validIndex=(t,e)=>t===null?null:_limitValue(Math.round(t),0,e);function _getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class CategoryScale extends Scale{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:r}of s)n[i]===r&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(isNullOrUndef(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:findOrAddLabel(n,e,valueOrDefault(s,e),this._addedLabels),validIndex(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=e===0&&s===r.length-1?r:r.slice(e,s+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)i.push({value:o});return i}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}X(CategoryScale,"id","category"),X(CategoryScale,"defaults",{ticks:{callback:_getLabelForValue}});function generateTicks$1(t,e){const s=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=r||1,m=u-1,{min:_,max:b}=e,v=!isNullOrUndef(o),S=!isNullOrUndef(a),x=!isNullOrUndef(c),T=(b-_)/(d+1);let A=niceNum((b-_)/m/g)*g,R,C,M,k;if(A<1e-14&&!v&&!S)return[{value:_},{value:b}];k=Math.ceil(b/A)-Math.floor(_/A),k>m&&(A=niceNum(k*A/m/g)*g),isNullOrUndef(l)||(R=Math.pow(10,l),A=Math.ceil(A*R)/R),i==="ticks"?(C=Math.floor(_/A)*A,M=Math.ceil(b/A)*A):(C=_,M=b),v&&S&&r&&almostWhole((a-o)/r,A/1e3)?(k=Math.round(Math.min((a-o)/A,u)),A=(a-o)/k,C=o,M=a):x?(C=v?o:C,M=S?a:M,k=c-1,A=(M-C)/k):(k=(M-C)/A,almostEquals(k,Math.round(k),A/1e3)?k=Math.round(k):k=Math.ceil(k));const L=Math.max(_decimalPlaces(A),_decimalPlaces(C));R=Math.pow(10,isNullOrUndef(l)?L:l),C=Math.round(C*R)/R,M=Math.round(M*R)/R;let j=0;for(v&&(f&&C!==o?(s.push({value:o}),C<o&&j++,almostEquals(Math.round((C+j*A)*R)/R,o,relativeLabelSize(o,T,t))&&j++):C<o&&j++);j<k;++j){const N=Math.round((C+j*A)*R)/R;if(S&&N>a)break;s.push({value:N})}return S&&f&&M!==a?s.length&&almostEquals(s[s.length-1].value,a,relativeLabelSize(a,T,t))?s[s.length-1].value=a:s.push({value:a}):(!S||M===a)&&s.push({value:M}),s}function relativeLabelSize(t,e,{horizontal:s,minRotation:n}){const i=toRadians(n),r=(s?Math.sin(i):Math.cos(i))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=s?i:l,a=l=>r=n?r:l;if(e){const l=sign(i),c=sign(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(i-l)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=generateTicks$1(i,r);return e.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-s)/Math.max(e.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=toRadians(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}X(LinearScale,"id","linear"),X(LinearScale,"defaults",{ticks:{callback:Ticks.formatters.numeric}});const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const s=t._adapter,{parser:n,round:i,isoWeekday:r}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),isNumberFinite(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(i&&(o=i==="week"&&(isNumber(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,i)),+o)}function determineUnitForAutoTicks(t,e,s,n){const i=UNITS.length;for(let r=UNITS.indexOf(t);r<i-1;++r){const o=INTERVALS[UNITS[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(a*o.size))<=n)return UNITS[r]}return UNITS[i-1]}function determineUnitForFormatting(t,e,s,n,i){for(let r=UNITS.length-1;r>=UNITS.indexOf(s);r--){const o=UNITS[r];if(INTERVALS[o].common&&t._adapter.diff(i,n,o)>=e-1)return o}return UNITS[s?UNITS.indexOf(s):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,s=UNITS.length;e<s;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:i}=_lookup(s,e),r=s[n]>=e?s[n]:s[i];t[r]=!0}}function setMajorTicks(t,e,s,n){const i=t._adapter,r=+i.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,n))l=s[a],l>=0&&(e[l].major=!0);return e}function ticksFromTimestamps(t,e,s){const n=[],i={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],i[a]=o,n.push({value:a,major:!1});return r===0||!s?n:setMajorTicks(t,n,i,s)}class TimeScale extends Scale{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),i=this._adapter=new adapters._date(e.adapters.date);i.init(s),mergeIf(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=isNumberFinite(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),r=isNumberFinite(r)&&!isNaN(r)?r:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=_filterBetween(i,r,o);return this._unit=s.unit||(n.autoSkip?determineUnitForAutoTicks(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):determineUnitForFormatting(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),ticksFromTimestamps(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,i,r;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?n=r:n=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=_limitValue(s,0,o),n=_limitValue(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||determineUnitForAutoTicks(r.minUnit,s,n,this._getLabelCapacity(s)),a=valueOrDefault(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=isNumber(l)||l===!0,u={};let d=s,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(n,s,o)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<n;f=+e.add(f,a,o),g++)addTick(u,f,m);return(f===n||i.bounds==="ticks"||g===1)&&addTick(u,f,m),Object.keys(u).sort(sorter).map(_=>+_)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,r=this._unit,o=s||i[r];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,i){const r=this.options,o=r.ticks.callback;if(o)return callback(o,[e,s,n],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=n[s],g=c&&d&&f&&f.major;return this._adapter.format(e,i||(g?d:u))}generateTickLabels(e){let s,n,i;for(s=0,n=e.length;s<n;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,i=toRadians(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,r=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)e.push(parse(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}X(TimeScale,"id","time"),X(TimeScale,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function interpolate(t,e,s){let n=0,i=t.length-1,r,o,a,l;s?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=_lookupByKey(t,"pos",e)),{pos:r,time:a}=t[n],{pos:o,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=_lookupByKey(t,"time",e)),{time:r,pos:a}=t[n],{time:o,pos:l}=t[i]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class TimeSeriesScale extends TimeScale{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=interpolate(s,this.min),this._tableRange=interpolate(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,r)=>i-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return interpolate(this._table,n*this._tableRange+this._minPos,!0)}}X(TimeSeriesScale,"id","timeseries"),X(TimeSeriesScale,"defaults",TimeScale.defaults);const CommonProps={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},A11yProps={ariaLabel:{type:String},ariaDescribedby:{type:String}},Props={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...CommonProps,...A11yProps},compatProps=version$5[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function toRawIfProxy(t){return isProxy(t)?toRaw(t):t}function cloneProxy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return isProxy(e)?new Proxy(t,{}):t}function setOptions(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function setLabels(t,e){t.labels=e}function setDatasets(t,e,s){const n=[];t.datasets=e.map(i=>{const r=t.datasets.find(o=>o[s]===i[s]);return!r||!i.data||n.includes(r)?{...i}:(n.push(r),Object.assign(r,i),r)})}function cloneData(t,e){const s={labels:[],datasets:[]};return setLabels(s,t.labels),setDatasets(s,t.datasets,e),s}const Chart=defineComponent({props:Props,setup(t,e){let{expose:s,slots:n}=e;const i=ref(null),r=shallowRef(null);s({chart:r});const o=()=>{if(!i.value)return;const{type:c,data:u,options:d,plugins:f,datasetIdKey:g}=t,m=cloneData(u,g),_=cloneProxy(m,u);r.value=new Chart$1(i.value,{type:c,data:_,options:{...d},plugins:f})},a=()=>{const c=toRaw(r.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},t.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(t.updateMode)};return onMounted(o),onUnmounted(a),watch([()=>t.options,()=>t.data],(c,u)=>{let[d,f]=c,[g,m]=u;const _=toRaw(r.value);if(!_)return;let b=!1;if(d){const v=toRawIfProxy(d),S=toRawIfProxy(g);v&&v!==S&&(setOptions(_,v),b=!0)}if(f){const v=toRawIfProxy(f.labels),S=toRawIfProxy(m.labels),x=toRawIfProxy(f.datasets),T=toRawIfProxy(m.datasets);v!==S&&(setLabels(_.config.data,v),b=!0),x&&x!==T&&(setDatasets(_.config.data,x,t.datasetIdKey),b=!0)}b&&nextTick(()=>{l(_)})},{deep:!0}),()=>h("canvas",{role:"img",ariaLabel:t.ariaLabel,ariaDescribedby:t.ariaDescribedby,ref:i},[h("p",{},[n.default?n.default():""])])}});function createTypedChart(t,e){return Chart$1.register(e),defineComponent({props:CommonProps,setup(s,n){let{expose:i}=n;const r=shallowRef(null),o=a=>{r.value=a==null?void 0:a.chart};return i({chart:r}),()=>h(Chart,compatProps({ref:o},{type:t,...s}))}})}const Bar=createTypedChart("bar",BarController),Pie=createTypedChart("pie",PieController),_hoisted_1$b={class:"chart-wrapper"},_hoisted_2$6={key:0,class:"no-data-message"},_sfc_main$b=defineComponent({__name:"PieChart",props:{dataLabel:{},data:{},labels:{}},setup(t){Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,ArcElement);const e=t,s=computed(()=>({labels:e.labels,datasets:[{label:e.dataLabel,data:e.data,backgroundColor:["#42b883","#3b8eed","#ffc517","#ed3c50","#de41e0","#34495e","#6D214F"],hoverOffset:4}]}));return(n,i)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode(unref(Pie),{data:s.value},null,8,["data"]),e.data.length?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_2$6," No data available "))]))}}),PieChart=_export_sfc(_sfc_main$b,[["__scopeId","data-v-7abaeb67"]]),_hoisted_1$a={class:"chart-wrapper"},_hoisted_2$5={key:0,class:"no-data-message"},_sfc_main$a=defineComponent({__name:"BarGraph",props:{dataLabel:{},data:{},labels:{}},setup(t){Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,BarElement,CategoryScale,LinearScale);const e=t,s=computed(()=>{const i=[];return e.data.length&&i.push({label:e.dataLabel[0],data:e.data[0],backgroundColor:"#42b883",hoverOffset:4}),e.data.length===2&&i.push({label:e.dataLabel[1],data:e.data[1],backgroundColor:"#3489db",hoverOffset:4}),{labels:e.labels,datasets:i}}),n={responsive:!0};return(i,r)=>(openBlock(),createElementBlock("div",_hoisted_1$a,[createVNode(unref(Bar),{id:"my-chart-id",options:n,data:s.value},null,8,["data"]),e.data.length?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_2$5," No data available "))]))}}),BarGraph=_export_sfc(_sfc_main$a,[["__scopeId","data-v-3bfcb99b"]]);var _a;const isClient=typeof window<"u",isFunction=t=>typeof t=="function",isString=t=>typeof t=="string",noop$2=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(t){return typeof t=="function"?t():unref(t)}function createFilterWrapper(t,e){function s(...n){return new Promise((i,r)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(i).catch(r)})}return s}function debounceFilter(t,e={}){let s,n,i=noop$2;const r=a=>{clearTimeout(a),i(),i=noop$2};return a=>{const l=resolveUnref(t),c=resolveUnref(e.maxWait);return s&&r(s),l<=0||c!==void 0&&c<=0?(n&&(r(n),n=null),Promise.resolve(a())):new Promise((u,d)=>{i=e.rejectOnCancel?d:u,c&&!n&&(n=setTimeout(()=>{s&&r(s),n=null,u(a())},c)),s=setTimeout(()=>{n&&r(n),n=null,u(a())},l)})}}function throttleFilter(t,e=!0,s=!0,n=!1){let i=0,r,o=!0,a=noop$2,l;const c=()=>{r&&(clearTimeout(r),r=void 0,a(),a=noop$2)};return d=>{const f=resolveUnref(t),g=Date.now()-i,m=()=>l=d();return c(),f<=0?(i=Date.now(),m()):(g>f&&(s||!o)?(i=Date.now(),m()):e&&(l=new Promise((_,b)=>{a=n?b:_,r=setTimeout(()=>{i=Date.now(),o=!0,_(m()),c()},Math.max(0,f-g))})),!s&&!r&&(r=setTimeout(()=>o=!0,f)),o=!1,l)}}function identity(t){return t}function computedWithControl(t,e){let s,n,i;const r=ref(!0),o=()=>{r.value=!0,i()};watch(t,o,{flush:"sync"});const a=isFunction(e)?e:e.get,l=isFunction(e)?void 0:e.set,c=customRef((u,d)=>(n=u,i=d,{get(){return r.value&&(s=a(),r.value=!1),n(),s},set(f){l==null||l(f)}}));return Object.isExtensible(c)&&(c.trigger=o),c}function tryOnScopeDispose(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}function useDebounceFn(t,e=200,s={}){return createFilterWrapper(debounceFilter(e,s),t)}function useThrottleFn(t,e=200,s=!1,n=!0,i=!1){return createFilterWrapper(throttleFilter(e,s,n,i),t)}function unrefElement(t){var e;const s=resolveUnref(t);return(e=s==null?void 0:s.$el)!=null?e:s}const defaultWindow=isClient?window:void 0;function useEventListener(...t){let e,s,n,i;if(isString(t[0])||Array.isArray(t[0])?([s,n,i]=t,e=defaultWindow):[e,s,n,i]=t,!e)return noop$2;Array.isArray(s)||(s=[s]),Array.isArray(n)||(n=[n]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,d,f,g)=>(u.addEventListener(d,f,g),()=>u.removeEventListener(d,f,g)),l=watch(()=>[unrefElement(e),resolveUnref(i)],([u,d])=>{o(),u&&r.push(...s.flatMap(f=>n.map(g=>a(u,f,g,d))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return tryOnScopeDispose(c),c}let _iOSWorkaround=!1;function onClickOutside(t,e,s={}){const{window:n=defaultWindow,ignore:i=[],capture:r=!0,detectIframe:o=!1}=s;if(!n)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(n.document.body.children).forEach(f=>f.addEventListener("click",noop$2)));let a=!0;const l=f=>i.some(g=>{if(typeof g=="string")return Array.from(n.document.querySelectorAll(g)).some(m=>m===f.target||f.composedPath().includes(m));{const m=unrefElement(g);return m&&(f.target===m||f.composedPath().includes(m))}}),u=[useEventListener(n,"click",f=>{const g=unrefElement(t);if(!(!g||g===f.target||f.composedPath().includes(g))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}e(f)}},{passive:!0,capture:r}),useEventListener(n,"pointerdown",f=>{const g=unrefElement(t);g&&(a=!f.composedPath().includes(g)&&!l(f))},{passive:!0}),o&&useEventListener(n,"blur",f=>{var g;const m=unrefElement(t);((g=n.document.activeElement)==null?void 0:g.tagName)==="IFRAME"&&!(m!=null&&m.contains(n.document.activeElement))&&e(f)})].filter(Boolean);return()=>u.forEach(f=>f())}function useActiveElement(t={}){var e;const{window:s=defaultWindow}=t,n=(e=t.document)!=null?e:s==null?void 0:s.document,i=computedWithControl(()=>null,()=>n==null?void 0:n.activeElement);return s&&(useEventListener(s,"blur",r=>{r.relatedTarget===null&&i.trigger()},!0),useEventListener(s,"focus",i.trigger,!0)),i}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};function useFocusWithin(t,e={}){const s=useActiveElement(e),n=computed(()=>unrefElement(t));return{focused:computed(()=>n.value&&s.value?n.value.contains(s.value):!1)}}const ARRIVED_STATE_THRESHOLD_PIXELS=1;function useScroll(t,e={}){const{throttle:s=0,idle:n=200,onStop:i=noop$2,onScroll:r=noop$2,offset:o={left:0,right:0,top:0,bottom:0},eventListenerOptions:a={capture:!1,passive:!0},behavior:l="auto"}=e,c=ref(0),u=ref(0),d=computed({get(){return c.value},set(T){g(T,void 0)}}),f=computed({get(){return u.value},set(T){g(void 0,T)}});function g(T,A){var R,C,M;const k=resolveUnref(t);k&&((M=k instanceof Document?document.body:k)==null||M.scrollTo({top:(R=resolveUnref(A))!=null?R:f.value,left:(C=resolveUnref(T))!=null?C:d.value,behavior:resolveUnref(l)}))}const m=ref(!1),_=reactive({left:!0,right:!1,top:!0,bottom:!1}),b=reactive({left:!1,right:!1,top:!1,bottom:!1}),v=T=>{m.value&&(m.value=!1,b.left=!1,b.right=!1,b.top=!1,b.bottom=!1,i(T))},S=useDebounceFn(v,s+n),x=T=>{const A=T.target===document?T.target.documentElement:T.target,R=A.scrollLeft;b.left=R<c.value,b.right=R>u.value,_.left=R<=0+(o.left||0),_.right=R+A.clientWidth>=A.scrollWidth-(o.right||0)-ARRIVED_STATE_THRESHOLD_PIXELS,c.value=R;let C=A.scrollTop;T.target===document&&!C&&(C=document.body.scrollTop),b.top=C<u.value,b.bottom=C>u.value,_.top=C<=0+(o.top||0),_.bottom=C+A.clientHeight>=A.scrollHeight-(o.bottom||0)-ARRIVED_STATE_THRESHOLD_PIXELS,u.value=C,m.value=!0,S(T),r(T)};return useEventListener(t,"scroll",s?useThrottleFn(x,s,!0,!1):x,a),useEventListener(t,"scrollend",v,a),{x:d,y:f,isScrolling:m,arrivedState:_,directions:b}}var __defProp$9=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$a=Object.getOwnPropertySymbols,__hasOwnProp$a=Object.prototype.hasOwnProperty,__propIsEnum$a=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(t,e,s)=>e in t?__defProp$9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,__spreadValues$9=(t,e)=>{for(var s in e||(e={}))__hasOwnProp$a.call(e,s)&&__defNormalProp$9(t,s,e[s]);if(__getOwnPropSymbols$a)for(var s of __getOwnPropSymbols$a(e))__propIsEnum$a.call(e,s)&&__defNormalProp$9(t,s,e[s]);return t},__spreadProps$2=(t,e)=>__defProps$2(t,__getOwnPropDescs$2(e));function useInfiniteScroll(t,e,s={}){var n,i;const r=(n=s.direction)!=null?n:"bottom",o=reactive(useScroll(t,__spreadProps$2(__spreadValues$9({},s),{offset:__spreadValues$9({[r]:(i=s.distance)!=null?i:0},s.offset)})));watch(()=>o.arrivedState[r],async a=>{var l,c;if(a){const u=resolveUnref(t),d={height:(l=u==null?void 0:u.scrollHeight)!=null?l:0,width:(c=u==null?void 0:u.scrollWidth)!=null?c:0};await e(o),s.preserveScrollPosition&&u&&nextTick(()=>{u.scrollTo({top:u.scrollHeight-d.height,left:u.scrollWidth-d.width})})}})}var SwipeDirection;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,e,s)=>e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,__spreadValues=(t,e)=>{for(var s in e||(e={}))__hasOwnProp.call(e,s)&&__defNormalProp(t,s,e[s]);if(__getOwnPropSymbols)for(var s of __getOwnPropSymbols(e))__propIsEnum.call(e,s)&&__defNormalProp(t,s,e[s]);return t};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);const _hoisted_1$9={class:"drop-down-list"},_hoisted_2$4=["onClick"],_sfc_main$9=defineComponent({__name:"DropDownList",props:{listItems:{default:()=>[]},show:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},emits:["selected"],setup(t,{emit:e}){const s=t,{show:n}=toRefs(s),i=e,r=ref(!0),o=ref(null);watch(n,()=>{if(!o.value)return;const l=window.innerHeight,{top:c}=o.value.getBoundingClientRect(),u=s.listItems.length*32;c+u>l?r.value=!1:r.value=!0});function a(l){s.readonly||i("selected",l)}return(l,c)=>(openBlock(),createElementBlock("div",{ref_key:"listItemWrapper",ref:o},[s.show?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["drop-down-list-wrapper",{bottom:r.value,top:!r.value}])},[createBaseVNode("ul",_hoisted_1$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.listItems,(u,d)=>(openBlock(),createElementBlock("li",{key:`item-${d}`,class:normalizeClass(["drop-down-list-item",{readonly:s.readonly}]),onClick:f=>a(u)},toDisplayString(u),11,_hoisted_2$4))),128))])],2)):createCommentVNode("",!0)],512))}}),DropDownList=_export_sfc(_sfc_main$9,[["__scopeId","data-v-800a17ac"]]),_hoisted_1$8={class:"common-input-wrapper"},_hoisted_2$3=["for"],_hoisted_3$3={key:0,class:"common-input-label common-input-legnth-limit"},_sfc_main$8=defineComponent({__name:"CommonInputWrapper",props:{label:{},lengthLimit:{},length:{},id:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("label",{for:e.id,class:"common-input-label"},toDisplayString(e.label),9,_hoisted_2$3),renderSlot(s.$slots,"default",{class:"flex-1"},void 0),s.lengthLimit?(openBlock(),createElementBlock("span",_hoisted_3$3,toDisplayString(`${s.length}/${s.lengthLimit}`),1)):createCommentVNode("",!0)]))}}),CommonInputWrapper=_export_sfc(_sfc_main$8,[["__scopeId","data-v-dd4ea95b"]]),_hoisted_1$7=["id","placeholder","value"],_sfc_main$7=defineComponent({__name:"SelectInput",props:{label:{},id:{},placeholder:{default:""},modelValue:{},optionsList:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e,i=ref(!1),r=ref(null),o=ref(null),a=computed(()=>!s.modelValue&&o.value?o.value:s.modelValue),l=computed(()=>{if(o.value===null)return s.optionsList;const d=o.value.toLowerCase(),f=s.optionsList.filter(g=>{if(`${g}`.toLowerCase().startsWith(d))return g});return f.length===0?["No match found"]:f});onClickOutside(r,()=>{i.value=!1,o.value=null});function c(d){i.value=!1,o.value=null,n("update:modelValue",d)}function u(d){d.key==="Backspace"&&s.modelValue&&(o.value=null,n("update:modelValue",null))}return(d,f)=>(openBlock(),createBlock(CommonInputWrapper,{label:s.label,id:s.id},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"dropDownWrapper",ref:r,class:"select-input-wrapper"},[createBaseVNode("input",{type:"text",id:s.id,class:"select-input",placeholder:s.placeholder,value:a.value,autocomplete:"off",onFocus:f[0]||(f[0]=g=>i.value=!0),onKeydown:u,onInput:f[1]||(f[1]=g=>o.value=g.target.value)},null,40,_hoisted_1$7),createVNode(DropDownList,{show:i.value,"list-items":l.value,onSelected:c},null,8,["show","list-items"])],512)]),_:1},8,["label","id"]))}}),SelectInput=_export_sfc(_sfc_main$7,[["__scopeId","data-v-0cc015f8"]]),_hoisted_1$6=["id","placeholder","value"],_sfc_main$6=defineComponent({__name:"TxtNumInput",props:{label:{},id:{},placeholder:{default:""},inputType:{default:"text"},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e;function i(o){const a=o.key;if(s.inputType==="number"&&a.length===1){const l=a.charCodeAt(0);l!==46&&!(l<58&&l>47)&&o.preventDefault()}}function r(o){s.inputType==="number"?n("update:modelValue",Number(o)):n("update:modelValue",o)}return(o,a)=>(openBlock(),createBlock(CommonInputWrapper,{label:s.label,id:s.id},{default:withCtx(()=>[createBaseVNode("input",{type:"text",id:s.id,class:"txt-num-input",placeholder:s.placeholder,value:s.modelValue,onKeydown:i,onInput:a[0]||(a[0]=l=>r(l.target.value))},null,40,_hoisted_1$6)]),_:1},8,["label","id"]))}}),TxtNumInput=_export_sfc(_sfc_main$6,[["__scopeId","data-v-c80975c1"]]),_hoisted_1$5=["id","value","readonly"],_sfc_main$5=defineComponent({__name:"DateInput",props:{label:{},id:{},modelValue:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e;return(i,r)=>(openBlock(),createBlock(CommonInputWrapper,{label:s.label,id:s.id},{default:withCtx(()=>[createBaseVNode("input",{type:"date",id:s.id,class:normalizeClass(["date-input",{readonly:s.readonly}]),value:s.modelValue,readonly:s.readonly,onInput:r[0]||(r[0]=o=>n("update:modelValue",o.target.value))},null,42,_hoisted_1$5)]),_:1},8,["label","id"]))}}),DateInput=_export_sfc(_sfc_main$5,[["__scopeId","data-v-e9f9f80f"]]),_hoisted_1$4={key:0,class:"spinner"},_sfc_main$4=defineComponent({__name:"CommonButton",props:{buttonText:{},disable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("button",{type:"submit",class:normalizeClass(["common-button",{"opacity-50 cursor-default":e.disable,loading:e.loading}])},[e.loading?(openBlock(),createElementBlock("span",_hoisted_1$4)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.buttonText),1)],2))}}),CommonButton=_export_sfc(_sfc_main$4,[["__scopeId","data-v-56c56a3f"]]),scriptRel="modulepreload",assetsURL=function(t){return"/Budgety-New/"+t},seen={},__vitePreload=function(e,s,n){let i=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(s.map(l=>{if(l=assetsURL(l),l in seen)return;seen[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":scriptRel,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((f,g)=>{d.addEventListener("load",f),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function r(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&r(a.reason);return e().catch(r)})},resolveFetch$3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>__vitePreload(async()=>{const{default:n}=await Promise.resolve().then(()=>browser);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class FunctionsError extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class FunctionsFetchError extends FunctionsError{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class FunctionsRelayError extends FunctionsError{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class FunctionsHttpError extends FunctionsError{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var FunctionRegion;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));var __awaiter$7=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class FunctionsClient{constructor(e,{headers:s={},customFetch:n,region:i=FunctionRegion.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=resolveFetch$3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return __awaiter$7(this,void 0,void 0,function*(){try{const{headers:i,method:r,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:u}).catch(_=>{throw new FunctionsFetchError(_)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new FunctionsRelayError(d);if(!d.ok)throw new FunctionsHttpError(d);let g=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield d.json():g==="application/octet-stream"?m=yield d.blob():g==="text/event-stream"?m=d:g==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof FunctionsHttpError||i instanceof FunctionsRelayError?i.context:void 0}}})}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),s}var cjs={},PostgrestClient$2={},PostgrestQueryBuilder$2={},PostgrestFilterBuilder$2={},PostgrestTransformBuilder$2={},PostgrestBuilder$2={},getGlobal=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},globalObject=getGlobal();const fetch$1=globalObject.fetch,nodeFetch=globalObject.fetch.bind(globalObject),Headers$1=globalObject.Headers,Request=globalObject.Request,Response$1=globalObject.Response,browser=Object.freeze(Object.defineProperty({__proto__:null,Headers:Headers$1,Request,Response:Response$1,default:nodeFetch,fetch:fetch$1},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(browser);var PostgrestError$2={};Object.defineProperty(PostgrestError$2,"__esModule",{value:!0});let PostgrestError$1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};PostgrestError$2.default=PostgrestError$1;var __importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PostgrestBuilder$2,"__esModule",{value:!0});const node_fetch_1=__importDefault$5(require$$0),PostgrestError_1$1=__importDefault$5(PostgrestError$2);let PostgrestBuilder$1=class{constructor(e){var s,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(s=e.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=node_fetch_1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=new Headers(this.headers),this.headers.set(e,s),this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var o,a,l,c;let u=null,d=null,f=null,g=r.status,m=r.statusText;if(r.ok){if(this.method!=="HEAD"){const S=await r.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=S:d=JSON.parse(S))}const b=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(l=r.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&v&&v.length>1&&(f=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,g=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await r.text();try{u=JSON.parse(b),Array.isArray(u)&&r.status===404&&(d=[],u=null,g=200,m="OK")}catch{r.status===404&&b===""?(g=204,m="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,g=200,m="OK"),u&&this.shouldThrowOnError)throw new PostgrestError_1$1.default(u)}return{error:u,data:d,count:f,status:g,statusText:m}});return this.shouldThrowOnError||(i=i.catch(r=>{var o,a,l;return{error:{message:`${(o=r==null?void 0:r.name)!==null&&o!==void 0?o:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(a=r==null?void 0:r.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r==null?void 0:r.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};PostgrestBuilder$2.default=PostgrestBuilder$1;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PostgrestTransformBuilder$2,"__esModule",{value:!0});const PostgrestBuilder_1$1=__importDefault$4(PostgrestBuilder$2);let PostgrestTransformBuilder$1=class extends PostgrestBuilder_1$1.default{select(e){let s=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:r=i}={}){const o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:i=n}={}){const r=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:r=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};PostgrestTransformBuilder$2.default=PostgrestTransformBuilder$1;var __importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PostgrestFilterBuilder$2,"__esModule",{value:!0});const PostgrestTransformBuilder_1$1=__importDefault$3(PostgrestTransformBuilder$2);let PostgrestFilterBuilder$1=class extends PostgrestTransformBuilder_1$1.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:i}={}){let r="";i==="plain"?r="pl":i==="phrase"?r="ph":i==="websearch"&&(r="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};PostgrestFilterBuilder$2.default=PostgrestFilterBuilder$1;var __importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PostgrestQueryBuilder$2,"__esModule",{value:!0});const PostgrestFilterBuilder_1$2=__importDefault$2(PostgrestFilterBuilder$2);let PostgrestQueryBuilder$1=class{constructor(e,{headers:s={},schema:n,fetch:i}){this.url=e,this.headers=new Headers(s),this.schema=n,this.fetch=i}select(e,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let r=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new PostgrestFilterBuilder_1$2.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:s,defaultToNull:n=!0}={}){var i;const r="POST";if(s&&this.headers.append("Prefer",`count=${s}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:r=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),i&&this.headers.append("Prefer",`count=${i}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new PostgrestFilterBuilder_1$2.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:s}={}){var n;const i="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new PostgrestFilterBuilder_1$2.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var s;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new PostgrestFilterBuilder_1$2.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};PostgrestQueryBuilder$2.default=PostgrestQueryBuilder$1;var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(PostgrestClient$2,"__esModule",{value:!0});const PostgrestQueryBuilder_1$1=__importDefault$1(PostgrestQueryBuilder$2),PostgrestFilterBuilder_1$1=__importDefault$1(PostgrestFilterBuilder$2);let PostgrestClient$1=class Ae{constructor(e,{headers:s={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(s),this.schemaName=n,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new PostgrestQueryBuilder_1$1.default(s,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ae(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:i=!1,count:r}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(s).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=s);const u=new Headers(this.headers);return r&&u.set("Prefer",`count=${r}`),new PostgrestFilterBuilder_1$1.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};PostgrestClient$2.default=PostgrestClient$1;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cjs,"__esModule",{value:!0});cjs.PostgrestError=cjs.PostgrestBuilder=cjs.PostgrestTransformBuilder=cjs.PostgrestFilterBuilder=cjs.PostgrestQueryBuilder=cjs.PostgrestClient=void 0;const PostgrestClient_1=__importDefault(PostgrestClient$2);cjs.PostgrestClient=PostgrestClient_1.default;const PostgrestQueryBuilder_1=__importDefault(PostgrestQueryBuilder$2);cjs.PostgrestQueryBuilder=PostgrestQueryBuilder_1.default;const PostgrestFilterBuilder_1=__importDefault(PostgrestFilterBuilder$2);cjs.PostgrestFilterBuilder=PostgrestFilterBuilder_1.default;const PostgrestTransformBuilder_1=__importDefault(PostgrestTransformBuilder$2);cjs.PostgrestTransformBuilder=PostgrestTransformBuilder_1.default;const PostgrestBuilder_1=__importDefault(PostgrestBuilder$2);cjs.PostgrestBuilder=PostgrestBuilder_1.default;const PostgrestError_1=__importDefault(PostgrestError$2);cjs.PostgrestError=PostgrestError_1.default;var _default=cjs.default={PostgrestClient:PostgrestClient_1.default,PostgrestQueryBuilder:PostgrestQueryBuilder_1.default,PostgrestFilterBuilder:PostgrestFilterBuilder_1.default,PostgrestTransformBuilder:PostgrestTransformBuilder_1.default,PostgrestBuilder:PostgrestBuilder_1.default,PostgrestError:PostgrestError_1.default};const{PostgrestClient,PostgrestQueryBuilder,PostgrestFilterBuilder,PostgrestTransformBuilder,PostgrestBuilder,PostgrestError}=_default;class WebSocketFactory{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const version$3="2.15.4",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN="1.0.0",DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(t){t.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const i=s.getUint8(1),r=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+i));o=o+i;const l=n.decode(e.slice(o,o+r));o=o+r;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Timer{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((r,o)=>(r[o]=convertColumn(o,t,e,i),r),{})},convertColumn=(t,e,s,n)=>{const i=e.find(a=>a.name===t),r=i==null?void 0:i.type,o=s[t];return r&&!n.includes(r)?convertCell(r,o):noop$1(o)},convertCell=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return toArray(e,s)}switch(t){case PostgresTypes.bool:return toBoolean(e);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(e);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(e);case PostgresTypes.timestamp:return toTimestampString(e);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(e);default:return noop$1(e)}},noop$1=t=>t,toBoolean=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},toNumber=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},toJson=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},toArray=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let r;const o=t.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>convertCell(e,a))}return t},toTimestampString=t=>typeof t=="string"?t.replace(" ","T"):t,httpEndpointURL=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Push{constructor(e,s,n={},i=DEFAULT_TIMEOUT){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,i,r,o),this.pendingDiffs.forEach(l=>{this.state=RealtimePresence.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=RealtimePresence.syncDiff(this.state,i,r,o),a())}),this.onJoin((i,r,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:r,newPresences:o})}),this.onLeave((i,r,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const r=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=r[c];if(d){const f=u.map(b=>b.presence_ref),g=d.map(b=>b.presence_ref),m=u.filter(b=>g.indexOf(b.presence_ref)<0),_=d.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(a[c]=m),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},n,i)}static syncDiff(e,s,n,i){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(i,r)=>{this._trigger(this._replyEventName(r),i)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket.setAuth(),g===void 0){e==null||e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,b=(m=_==null?void 0:_.length)!==null&&m!==void 0?m:0,v=[];for(let S=0;S<b;S++){const x=_[S],{filter:{event:T,schema:A,table:R,filter:C}}=x,M=g&&g[S];if(M&&M.event===T&&M.schema===A&&M.table===R&&M.filter===C)v.push(Object.assign(Object.assign({},x),{id:M.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,e==null||e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",g=>{this.state=CHANNEL_STATES.errored,e==null||e(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===CHANNEL_STATES.joined&&e===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,n)}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=CHANNEL_STATES.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Push(this,CHANNEL_EVENTS.leave,{},e),n.receive("ok",()=>{s(),i("ok")}).receive("timeout",()=>{s(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const i=new AbortController,r=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(r),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Push(this,e,s,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=CHANNEL_EVENTS;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var m,_,b;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(_=g.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(r=this.bindings[o])===null||r===void 0||r.filter(g=>{var m,_,b,v,S,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const T=g.id,A=(m=g.filter)===null||m===void 0?void 0:m.event;return T&&((_=s.ids)===null||_===void 0?void 0:_.includes(T))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const T=(S=(v=g==null?void 0:g.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return T==="*"||T===((x=s==null?void 0:s.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:_,table:b,commit_timestamp:v,type:S,errors:x}=m;f=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:v,eventType:S,new:{},old:{},errors:x}),this._getPayloadRecords(m))}g.callback(f,n)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),r={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(r):this.bindings[i]=[r],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var r;return!(((r=i.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===n&&RealtimeChannel.isEqual(i.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(CHANNEL_EVENTS.close,{},e)}_onError(e){this._on(CHANNEL_EVENTS.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=convertChangeData(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=convertChangeData(e.columns,e.old_record)),s}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let r;return i?r=i:typeof fetch>"u"?r=(...o)=>__vitePreload(async()=>{const{default:a}=await Promise.resolve().then(()=>browser);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...o)=>r(...o)},!(!((n=s==null?void 0:s.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VSN}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(r=>r.topic===n);if(i)return i;{const r=new RealtimeChannel(`realtime:${e}`,s,this);return this.channels.push(r),r}}push(e){const{topic:s,event:n,payload:i,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${r})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:r,ref:o}=s,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(i,r,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(CHANNEL_EVENTS.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([WORKER_SCRIPT],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const i={access_token:s,version:DEFAULT_VERSION};s&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(CHANNEL_EVENTS.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,i,r,o,a,l,c,u;if(this.transport=(s=e==null?void 0:e.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(r=e==null?void 0:e.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:noop,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:d=>RECONNECT_INTERVALS[d-1]||DEFAULT_RECONNECT_FALLBACK,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(d,f)=>f(JSON.stringify(d)),this.decode=(u=e==null?void 0:e.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class StorageError extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function isStorageError(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class StorageApiError extends StorageError{constructor(e,s,n){super(e),this.name="StorageApiError",this.status=s,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class StorageUnknownError extends StorageError{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var __awaiter$6=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const resolveFetch$2=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>__vitePreload(async()=>{const{default:n}=await Promise.resolve().then(()=>browser);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},resolveResponse=()=>__awaiter$6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield __vitePreload(()=>Promise.resolve().then(()=>browser),void 0)).Response:Response}),recursiveToCamel=t=>{if(Array.isArray(t))return t.map(s=>recursiveToCamel(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[i]=recursiveToCamel(n)}),e},isPlainObject=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var __awaiter$5=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const _getErrorMessage$1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),handleError$1=(t,e,s)=>__awaiter$5(void 0,void 0,void 0,function*(){const n=yield resolveResponse();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{const r=t.status||500,o=(i==null?void 0:i.statusCode)||r+"";e(new StorageApiError(_getErrorMessage$1(i),r,o))}).catch(i=>{e(new StorageUnknownError(_getErrorMessage$1(i),i))}):e(new StorageUnknownError(_getErrorMessage$1(t),t))}),_getRequestParams$1=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(isPlainObject(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),s))};function _handleRequest$1(t,e,s,n,i,r){return __awaiter$5(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,_getRequestParams$1(e,n,i,r)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>handleError$1(l,a,n))})})}function get(t,e,s,n){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(t,"GET",e,s,n)})}function post(t,e,s,n,i){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(t,"POST",e,n,i,s)})}function put(t,e,s,n,i){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(t,"PUT",e,n,i,s)})}function head(t,e,s,n){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function remove(t,e,s,n,i){return __awaiter$5(this,void 0,void 0,function*(){return _handleRequest$1(t,"DELETE",e,n,i,s)})}var __awaiter$4=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class StorageFileApi{constructor(e,s={},n,i){this.url=e,this.headers=s,this.bucketId=n,this.fetch=resolveFetch$2(i)}uploadOrUpdate(e,s,n,i){return __awaiter$4(this,void 0,void 0,function*(){try{let r;const o=Object.assign(Object.assign({},DEFAULT_FILE_OPTIONS),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",n)):typeof FormData<"u"&&n instanceof FormData?(r=n,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield(e=="PUT"?put:post)(this.fetch,`${this.url}/object/${u}`,r,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(r){if(isStorageError(r))return{data:null,error:r};throw r}})}upload(e,s,n){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,i){return __awaiter$4(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:DEFAULT_FILE_OPTIONS.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield put(this.fetch,a.toString(),l,{headers:u});return{data:{path:r,fullPath:d.Key},error:null}}catch(l){if(isStorageError(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return __awaiter$4(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const r=yield post(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new StorageError("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}update(e,s,n){return __awaiter$4(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}copy(e,s,n){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:{path:(yield post(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,n){return __awaiter$4(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),r=yield post(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,n){return __awaiter$4(this,void 0,void 0,function*(){try{const i=yield post(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}download(e,s){return __awaiter$4(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=r?`?${r}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield get(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(isStorageError(a))return{data:null,error:a};throw a}})}info(e){return __awaiter$4(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield get(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:recursiveToCamel(n),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}exists(e){return __awaiter$4(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield head(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(isStorageError(n)&&n instanceof StorageUnknownError){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),i=[],r=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";r!==""&&i.push(r);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return __awaiter$4(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}list(e,s,n){return __awaiter$4(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},DEFAULT_SEARCH_OPTIONS),s),{prefix:e||""});return{data:yield post(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(isStorageError(i))return{data:null,error:i};throw i}})}listV2(e,s){return __awaiter$4(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield post(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const version$2="2.11.0",DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`};var __awaiter$3=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class StorageBucketApi{constructor(e,s={},n,i){const r=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},DEFAULT_HEADERS$2),s),this.fetch=resolveFetch$2(n)}listBuckets(){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(isStorageError(e))return{data:null,error:e};throw e}})}getBucket(e){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield get(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield put(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(isStorageError(n))return{data:null,error:n};throw n}})}emptyBucket(e){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield post(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}deleteBucket(e){return __awaiter$3(this,void 0,void 0,function*(){try{return{data:yield remove(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(isStorageError(s))return{data:null,error:s};throw s}})}}class StorageClient extends StorageBucketApi{constructor(e,s={},n,i){super(e,s,n,i)}from(e){return new StorageFileApi(this.url,this.headers,e,this.fetch)}}const version$1="2.56.1";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS$1={"X-Client-Info":`supabase-js-${JS_ENV}/${version$1}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS$1},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};var __awaiter$2=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const resolveFetch$1=t=>{let e;return t?e=t:typeof fetch>"u"?e=nodeFetch:e=fetch,(...s)=>e(...s)},resolveHeadersConstructor=()=>typeof Headers>"u"?Headers$1:Headers,fetchWithAuth=(t,e,s)=>{const n=resolveFetch$1(s),i=resolveHeadersConstructor();return(r,o)=>__awaiter$2(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(r,Object.assign(Object.assign({},o),{headers:c}))})};var __awaiter$1=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function ensureTrailingSlash(t){return t.endsWith("/")?t:t+"/"}function applySettingDefaults(t,e){var s,n;const{db:i,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),r),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>__awaiter$1(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const version="2.71.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS={"X-Client-Info":`gotrue-js/${version}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=10*60*1e3;class AuthError extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function isAuthError(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class AuthApiError extends AuthError{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function isAuthApiError(t){return isAuthError(t)&&t.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class CustomAuthError extends AuthError{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(t){return isAuthError(t)&&t.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(t){return isAuthError(t)&&t.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthRetryableFetchError extends CustomAuthError{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function isAuthRetryableFetchError(t){return isAuthError(t)&&t.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class AuthInvalidJwtError extends CustomAuthError{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<IGNORE_BASE64URL.length;e+=1)t[IGNORE_BASE64URL[e].charCodeAt(0)]=-2;for(let e=0;e<TO_BASE64URL.length;e+=1)t[TO_BASE64URL[e].charCodeAt(0)]=e;return t})();function byteToBase64URL(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(TO_BASE64URL[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(TO_BASE64URL[n]),e.queuedBits-=6}}function byteFromBase64URL(t,e,s){const n=FROM_BASE64URL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function stringFromBase64URL(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},r=o=>{stringFromUTF8(o,n,s)};for(let o=0;o<t.length;o+=1)byteFromBase64URL(t.charCodeAt(o),i,r);return e.join("")}function codepointToUTF8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function stringToUTF8(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}codepointToUTF8(n,e)}}function stringFromUTF8(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function base64UrlToUint8Array(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)byteFromBase64URL(t.charCodeAt(i),s,n);return new Uint8Array(e)}function stringToUint8Array(t){const e=[];return stringToUTF8(t,s=>e.push(s)),new Uint8Array(e)}function bytesToBase64URL(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>byteToBase64URL(i,s,n)),byteToBase64URL(null,s,n),e.join("")}function expiresAt(t){return Math.round(Date.now()/1e3)+t}function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,r)=>{e[r]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const resolveFetch=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>__vitePreload(async()=>{const{default:n}=await Promise.resolve().then(()=>browser);return{default:n}},void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},looksLikeFetchResponse=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",setItemAsync=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},getItemAsync=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},removeItemAsync=async(t,e)=>{await t.removeItem(e)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Deferred.promiseConstructor=Promise;function decodeJWT(t){const e=t.split(".");if(e.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!BASE64URL_REGEX.test(e[n]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(e[0])),payload:JSON.parse(stringFromBase64URL(e[1])),signature:base64UrlToUint8Array(e[2]),raw:{header:e[0],payload:e[1]}}}async function sleep(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function retryable(t,e){return new Promise((n,i)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){n(o);return}}catch(o){if(!e(r,o)){i(o);return}}})()})}function dec2hex(t){return("0"+t.toString(16)).substr(-2)}function generatePKCEVerifier(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let r=0;r<56;r++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,dec2hex).join("")}async function sha256(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(r=>String.fromCharCode(r)).join("")}async function generatePKCEChallenge(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await sha256(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(t,e,s=!1){const n=generatePKCEVerifier();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await setItemAsync(t,`${e}-code-verifier`,i);const r=await generatePKCEChallenge(n);return[r,n===r?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(t){const e=t.headers.get(API_VERSION_HEADER_NAME);if(!e||!e.match(API_VERSION_REGEX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function validateExp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function getAlgorithm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(t){if(!UUID_REGEX.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function deepClone(t){return JSON.parse(JSON.stringify(t))}var __rest$1=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const _getErrorMessage=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NETWORK_ERROR_CODES=[502,503,504];async function handleError(t){var e;if(!looksLikeFetchResponse(t))throw new AuthRetryableFetchError(_getErrorMessage(t),0);if(NETWORK_ERROR_CODES.includes(t.status))throw new AuthRetryableFetchError(_getErrorMessage(t),t.status);let s;try{s=await t.json()}catch(r){throw new AuthUnknownError(_getErrorMessage(r),r)}let n;const i=parseResponseAPIVersion(t);if(i&&i.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new AuthSessionMissingError}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(s),t.status,s.weak_password.reasons);throw new AuthApiError(_getErrorMessage(s),t.status||500,n)}const _getRequestParams=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function _request(t,e,s,n){var i;const r=Object.assign({},n==null?void 0:n.headers);r[API_VERSION_HEADER_NAME]||(r[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),n!=null&&n.jwt&&(r.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await _handleRequest(t,e,s+a,{headers:r,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _handleRequest(t,e,s,n,i,r){const o=_getRequestParams(e,n,i,r);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new AuthRetryableFetchError(_getErrorMessage(l),0)}if(a.ok||await handleError(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await handleError(l)}}function _sessionResponse(t){var e;let s=null;hasSession(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=expiresAt(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function _sessionResponsePassword(t){const e=_sessionResponse(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _userResponse(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _ssoResponse(t){return{data:t,error:null}}function _generateLinkResponse(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r}=t,o=__rest$1(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function _noResolveJsonResponse(t){return t}function hasSession(t){return t.access_token&&t.refresh_token&&t.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];var __rest=function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class GoTrueAdminApi{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=resolveFetch(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=__rest(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:_generateLinkResponse,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(isAuthError(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(r=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&r!==void 0?r:""},xform:_noResolveJsonResponse});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(isAuthError(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){validateUUID(e);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){validateUUID(e);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){validateUUID(e);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){validateUUID(e.userId);try{const{data:s,error:n}=await _request(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _deleteFactor(e){validateUUID(e.userId),validateUUID(e.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}}function memoryLocalStorageAdapter(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(t,e,s){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(internals.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function lockNoOp(t,e,s){return await s()}const GLOBAL_JWKS={};class GoTrueClient{constructor(e){var s,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=GoTrueClient.nextInstanceID,GoTrueClient.nextInstanceID+=1,this.instanceID>0&&isBrowser()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},DEFAULT_OPTIONS),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GoTrueAdminApi({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=resolveFetch(i.fetch),this.lock=i.lock||lockNoOp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:isBrowser()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${version}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=parseParametersFromURL(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),isBrowser()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:r}=await this._getSessionFromURL(s,n);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),isAuthImplicitGrantRedirectError(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return isAuthError(s)?{error:s}:{error:new AuthUnknownError("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const r=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:_sessionResponse}),{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(isAuthError(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var s,n,i;try{let r;if("email"in e){const{email:u,password:d,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),r=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:m},xform:_sessionResponse})}else if("phone"in e){const{phone:u,password:d,options:f}=e;r=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(isAuthError(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let s;if("email"in e){const{email:r,password:o,options:a}=e;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in e){const{phone:r,password:o,options:a}=e;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,i,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,n,i,r,o,a,l,c,u,d,f,g;let m,_;if("message"in e)m=e.message,_=e.signature;else{const{chain:b,wallet:v,statement:S,options:x}=e;let T;if(isBrowser())if(typeof v=="object")T=v;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))T=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=v}const A=new URL((s=x==null?void 0:x.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in T&&T.signIn){const R=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),S?{statement:S}:null));let C;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")C=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)C=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)m=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),_=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${A.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((r=x==null?void 0:x.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const R=await T.signMessage(new TextEncoder().encode(m),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=R}}try{const{data:b,error:v}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:bytesToBase64URL(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:_sessionResponse});if(v)throw v;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:v})}catch(b){if(isAuthError(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:r,error:o}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new AuthInvalidTokenResponseError}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:i??null}),error:o})}catch(r){if(isAuthError(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:r,nonce:o}=e,a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:_sessionResponse}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new AuthInvalidTokenResponseError}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,i,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:d}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(a){if(isAuthError(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let i,r;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,r=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:i,xform:_sessionResponse});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(isAuthError(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,n,i;try{let r=null,o=null;return this.flowType==="pkce"&&([r,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:o}),headers:this.headers,xform:_ssoResponse})}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new AuthSessionMissingError;const{error:i}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(isAuthError(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:r}=e,{error:o}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:r}=e,{data:o,error:a}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await getItemAsync(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=userNotAvailableProxy()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_userResponse}):await this._useSession(async s=>{var n,i,r;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0,xform:_userResponse})})}catch(s){if(isAuthError(s))return isAuthSessionMissingError(s)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:r}=n;if(r)throw r;if(!i.session)throw new AuthSessionMissingError;const o=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:c,error:u}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:_userResponse});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new AuthSessionMissingError;const s=Date.now()/1e3;let n=s,i=!0,r=null;const{payload:o}=decodeJWT(e.access_token);if(o.exp&&(n=o.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(s){if(isAuthError(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new AuthSessionMissingError;const{session:i,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(isAuthError(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(e.error||e.error_description||e.error_code)throw new AuthImplicitGrantRedirectError(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:S,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new AuthImplicitGrantRedirectError("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:_,error:b}=await this._getUser(r);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:r,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:e.type},error:null}}catch(n){if(isAuthError(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{error:r};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(isAuthApiError(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=uuid(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:r},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(isAuthError(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:i}=await this._useSession(async r=>{var o,a,l,c,u;const{data:d,error:f}=r;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return isBrowser()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(isAuthError(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)throw o;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await retryable(async i=>(i>0&&await sleep(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_sessionResponse})),(i,r)=>{const o=200*Math.pow(2,i);return r&&isAuthRetryableFetchError(r)&&Date.now()+o-n<AUTO_REFRESH_TICK_DURATION_MS})}catch(n){if(this._debug(s,"error",n),isAuthError(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),isBrowser()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await getItemAsync(this.storage,this.storageKey);if(i&&this.userStorage){let o=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await setItemAsync(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:userNotAvailableProxy()}else if(i&&!i.user&&!i.user){const o=await getItemAsync(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,i)):i.user=userNotAvailableProxy()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const r=((s=i.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(n,`session has${r?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),r){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),isAuthRetryableFetchError(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Deferred;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new AuthSessionMissingError;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={session:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(i,"error",r),isAuthError(r)){const o={session:null,error:r};return isAuthRetryableFetchError(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(r),r}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:s.user});const i=Object.assign({},s);delete i.user;const r=deepClone(i);await setItemAsync(this.storage,this.storageKey,r)}else{const i=deepClone(s);await setItemAsync(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&isBrowser()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),i<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[r,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const r=new URLSearchParams(n.queryParams);i.push(r.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await _request(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:r,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;if(r)return{data:null,error:r};const{data:o,error:a}=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:r}=s;return r?{data:null,error:r}:await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),r=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:i},error:r}=e;if(r)return{data:null,error:r};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=decodeJWT(i.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+JWKS_TTL>i)return n;const{data:r,error:o}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=i,n=r.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};n=g.session.access_token}const{header:i,payload:r,signature:o,raw:{header:a,payload:l}}=decodeJWT(n);s!=null&&s.allowExpired||validateExp(r.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:r,header:i,signature:o},error:null}}const u=getAlgorithm(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,stringToUint8Array(`${a}.${l}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:r,header:i,signature:o},error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}}GoTrueClient.nextInstanceID=0;const AuthClient=GoTrueClient;class SupabaseAuthClient extends AuthClient{constructor(e){super(e)}}var __awaiter=function(t,e,s,n){function i(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?r(u.value):i(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class SupabaseClient{constructor(e,s,n){var i,r,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=ensureTrailingSlash(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},DEFAULT_AUTH_OPTIONS),{storageKey:c}),global:DEFAULT_GLOBAL_OPTIONS},d=applySettingDefaults(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=fetchWithAuth(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new PostgrestClient(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return __awaiter(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:r,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:r,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const createClient=(t,e,s)=>new SupabaseClient(t,e,s);function shouldShowDeprecationWarning(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl="https://dxfiybdlucmchhmurnny.supabase.co",supabaseKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImR4Zml5YmRsdWNtY2hobXVybm55Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3NDY1ODgsImV4cCI6MjA3MjMyMjU4OH0._jcnSJbLth_LD8kWUOGKz3QMhniJIK7jvGPExIKXlBA",supabase=createClient(supabaseUrl,supabaseKey);async function getAllTransactions(){try{let{data:t,error:e}=await supabase.from("transactions").select("*").order("created_at",{ascending:!1});return t}catch{return console.log("Error in getting transactions"),[]}}async function saveNewTransactionInDB(t){try{return await supabase.from("transactions").insert(t),{type:"success",data:t,message:"Saved transaction successfully"}}catch{return console.log("Error in saving transaction"),{type:"fail",message:"Error in saving transaction"}}}async function deleteTransactionFromDB(t){try{return await supabase.from("transactions").delete().eq("transaction_id",t),{type:"success",message:"Deleted transaction successfully"}}catch{return console.log("Error in deleting transaction"),{type:"fail",message:"Error in deleting transaction"}}}const useTransactionStore=defineStore("transactions",()=>{const t=ref([]),e=ref(1),s=ref(10),n=computed(()=>t.value.slice(0,e.value*s.value));function i(){e.value=e.value+1}function r(l,c){const u=new Date(l),d=new Date(c);return t.value.filter(g=>{const m=new Date(g.date);return m>=u&&m<=d})}function o(l,c=!1){if(c){t.value=l;return}t.value.unshift(...l),localStorage.setItem("transactions",JSON.stringify(t.value))}function a(l){const c=t.value.findIndex(u=>u.transaction_id===l);t.value.splice(c,1),localStorage.setItem("transactions",JSON.stringify(t.value))}return{transactions:t,addTransactions:o,deleteTransaction:a,getTransactions:r,visibleTransactions:n,showMoreTransactions:i}});let random=t=>crypto.getRandomValues(new Uint8Array(t)),customRandom=(t,e,s)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*e/t.length);return(r=e)=>{let o="";for(;;){let a=s(i),l=i;for(;l--;)if(o+=t[a[l]&n]||"",o.length===r)return o}}},customAlphabet=(t,e=21)=>customRandom(t,e,random);const _hoisted_1$3={class:"add-new-transaction"},alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",_sfc_main$3=defineComponent({__name:"AddNewTransaction",setup(__props){const nanoid=customAlphabet(alphabet,13),transactionStore=useTransactionStore(),newTransaction=reactive({type:"Debited",description:"",amount:"",tag:"",date:"",transaction_id:""});function clearTransaction(){newTransaction.type="Debited",newTransaction.description="",newTransaction.amount="",newTransaction.tag="",newTransaction.date=""}const addButtonLoader=ref(!1);async function addNewTransaction(){const t={type:newTransaction.type,description:newTransaction.description,amount:Number(newTransaction.amount),tag:newTransaction.tag,transaction_id:nanoid(),date:newTransaction.date};addButtonLoader.value=!0;const e=await saveNewTransactionInDB(t);addButtonLoader.value=!1,!(!e||!e.data)&&(transactionStore.addTransactions([e.data]),clearTransaction())}const amountInputEl=ref(),{focused}=useFocusWithin(amountInputEl);return onMounted(()=>{window.addEventListener("keyup",ev=>{ev.key==="Enter"&&focused.value&&(newTransaction.amount=`${eval(newTransaction.amount)}`)})}),(t,e)=>(openBlock(),createElementBlock("div",_hoisted_1$3,[createVNode(SelectInput,{id:"transaction-type",modelValue:newTransaction.type,"onUpdate:modelValue":e[0]||(e[0]=s=>newTransaction.type=s),"options-list":["Debited","Credited"],label:"Transaction Type",placeholder:"Select"},null,8,["modelValue"]),createVNode(TxtNumInput,{id:"transaction-name",modelValue:newTransaction.description,"onUpdate:modelValue":e[1]||(e[1]=s=>newTransaction.description=s),label:"Name",placeholder:"Enter Description","input-type":"text"},null,8,["modelValue"]),createVNode(TxtNumInput,{ref_key:"amountInputEl",ref:amountInputEl,id:"transaction-amount",modelValue:newTransaction.amount,"onUpdate:modelValue":e[2]||(e[2]=s=>newTransaction.amount=s),label:"Amount",placeholder:"Enter Amount","input-type":"text"},null,8,["modelValue"]),createVNode(SelectInput,{id:"transaction-tag",modelValue:newTransaction.tag,"onUpdate:modelValue":e[3]||(e[3]=s=>newTransaction.tag=s),"options-list":["Food","Rent","Party","Shop","Money","Travel","Medical","Miscellaneous"],label:"Tag",placeholder:"Select"},null,8,["modelValue"]),createVNode(DateInput,{id:"transaction-date",modelValue:newTransaction.date,"onUpdate:modelValue":e[4]||(e[4]=s=>newTransaction.date=s),label:"Date"},null,8,["modelValue"]),createVNode(CommonButton,{"button-text":"Add",loading:addButtonLoader.value,onClick:addNewTransaction},null,8,["loading"])]))}}),AddNewTransaction=_export_sfc(_sfc_main$3,[["__scopeId","data-v-845b5bb1"]]),_hoisted_1$2={key:0,class:"alert-box-background"},_hoisted_2$2={key:0,class:"alert-box"},_hoisted_3$2={class:"alert-box-header"},_hoisted_4$1={class:"alert-box-buttons"},_sfc_main$2=defineComponent({__name:"AlertConfirmModal",setup(t,{expose:e}){const s=ref(!1),n=ref(!1),i=ref(),r=ref(),o=ref(null),a=ref("confirm"),l=computed(()=>a.value==="confirm"?"Yes":"Okay"),c=ref("No");function u(f,g=!1){return o.value=f,g?a.value="alert":a.value="confirm",s.value=!0,n.value=!0,new Promise((m,_)=>{i.value=m,r.value=_})}function d(f){i.value&&(i.value(f),s.value=!1,setTimeout(()=>{n.value=!1},300))}return e({openModal:u}),(f,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["alert-box-wrapper",{active:n.value}])},[createVNode(Transition,{name:"fade",appear:""},{default:withCtx(()=>[s.value?(openBlock(),createElementBlock("div",_hoisted_1$2)):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"fade-scale",appear:""},{default:withCtx(()=>[s.value?(openBlock(),createElementBlock("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,toDisplayString(o.value),1),createBaseVNode("div",_hoisted_4$1,[createVNode(CommonButton,{buttonText:l.value,primary:!0,onClick:g[0]||(g[0]=m=>d(1))},null,8,["buttonText"]),a.value==="confirm"?(openBlock(),createBlock(CommonButton,{key:0,buttonText:c.value,onClick:g[1]||(g[1]=m=>d(0))},null,8,["buttonText"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)]),_:1})],2))}}),AlertConfirmModal=_export_sfc(_sfc_main$2,[["__scopeId","data-v-a97efb02"]]),_hoisted_1$1={class:"common-chart-wrapper"},_hoisted_2$1={class:"common-chart-header"},_hoisted_3$1={class:"common-chart-controller"},_hoisted_4={class:"date-input-wrapper"},_sfc_main$1=defineComponent({__name:"CommonChartWrapper",props:{title:{},datePresetValue:{},datePresetOptions:{},toDate:{},fromDate:{},readonly:{type:Boolean}},emits:["update:datePresetValue","update:toDate","update:fromDate"],setup(t,{emit:e}){const s=t,n=e,i=computed({get(){return s.datePresetValue},set(a){n("update:datePresetValue",a)}}),r=computed({get(){return s.fromDate},set(a){n("update:fromDate",a)}}),o=computed({get(){return s.toDate},set(a){n("update:toDate",a)}});return(a,l)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,toDisplayString(s.title),1),renderSlot(a.$slots,"default",{},void 0),createBaseVNode("div",_hoisted_3$1,[createVNode(SelectInput,{id:"common-chart-preset",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=c=>i.value=c),"options-list":s.datePresetOptions,label:"Time Period",placeholder:"Select"},null,8,["modelValue","options-list"]),createBaseVNode("div",_hoisted_4,[createVNode(DateInput,{id:"common-chart-from-date",modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=c=>r.value=c),label:"From Date",readonly:s.readonly},null,8,["modelValue","readonly"]),createVNode(DateInput,{id:"common-chart-to-date",modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=c=>o.value=c),label:"To Date",readonly:s.readonly},null,8,["modelValue","readonly"])])])]))}}),CommonChartWrapper=_export_sfc(_sfc_main$1,[["__scopeId","data-v-2a495d9e"]]),_hoisted_1={class:"dashboard-view"},_hoisted_2={class:"transactions-view"},_hoisted_3={class:"analytics-view"},_sfc_main=defineComponent({__name:"DashboardView",setup(t){const e=useTransactionStore(),s=computed(()=>e.visibleTransactions),n=ref(null);async function i(m){var b;await((b=n.value)==null?void 0:b.openModal("You sure want to delete the transaction?",!1))&&(await deleteTransactionFromDB(m),e.deleteTransaction(m))}const r=ref("Last 7 days"),o=reactive({toDate:"",fromDate:""});watch(r,m=>{m!=="Custom date"&&(o.toDate=new Date().toISOString().split("T")[0]),m==="Last 7 days"&&(o.fromDate=new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0]),m==="This month"&&(o.fromDate=new Date(new Date().setDate(new Date().getDate()-(new Date().getDate()-1))).toISOString().split("T")[0])},{immediate:!0});const a=computed(()=>{const m=e.getTransactions(o.fromDate,o.toDate),_=new Map,b=[],v=[];for(const S of m)if(_.has(S.tag)&&S.type==="Debited"){let x=Number(_.get(S.tag));_.set(S.tag,x+S.amount)}else S.type==="Debited"&&_.set(S.tag,S.amount);for(const[S,x]of _.entries())v.push(S),b.push(x);return{labels:v,data:b}}),l=ref("In Months"),c=reactive({toDate:"",fromDate:""});c.toDate=new Date().toISOString().split("T")[0],c.fromDate=`${new Date().getFullYear()}-01-01`;const u=computed(()=>{const m=e.getTransactions(c.fromDate,c.toDate);if(!m.length)return{labels:[],data:[]};const _=new Map,b=new Map;for(const v of m){const S=new Date(v.date).toDateString().split(" ")[1];if(v.type==="Debited")if(_.has(S)){const x=Number(_.get(S));_.set(S,x+v.amount)}else _.set(S,v.amount);else if(v.type==="Credited")if(b.has(S)){const x=Number(b.get(S));b.set(S,x+v.amount)}else b.set(S,v.amount)}return{labels:Array.from(_.keys()),data:[Array.from(_.values()),Array.from(b.values())]}});async function d(){const m=await getAllTransactions();e.addTransactions(m,!0)}const f=ref(null);useInfiniteScroll(f,()=>{e.showMoreTransactions()},{distance:10});const g=useActiveElement();return watch(g,m=>{console.log(m)}),onMounted(()=>{d()}),(m,_)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[createVNode(AddNewTransaction),_[6]||(_[6]=createBaseVNode("div",{class:"transaction-divider"},[createBaseVNode("span",{class:"text"},"Transactions")],-1)),createBaseVNode("div",{ref_key:"transactionsWrapper",ref:f,class:"transactions-wrapper"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(b,v)=>(openBlock(),createBlock(TransactionCard,{key:`transaction-${v}`,type:b.type,description:b.description,date:b.date,amount:b.amount,tag:b.tag,onDelete:S=>i(b.transaction_id)},null,8,["type","description","date","amount","tag","onDelete"]))),128))],512)]),createBaseVNode("div",_hoisted_3,[createVNode(CommonChartWrapper,{title:"Expense Ratio","date-preset-value":r.value,"to-date":o.toDate,"from-date":o.fromDate,"date-preset-options":["Last 7 days","This month","Custom date"],readonly:r.value!=="Custom date","onUpdate:datePresetValue":_[0]||(_[0]=b=>r.value=b),"onUpdate:fromDate":_[1]||(_[1]=b=>o.fromDate=b),"onUpdate:toDate":_[2]||(_[2]=b=>o.toDate=b)},{default:withCtx(()=>[createVNode(PieChart,{"data-label":"Expense Distribution",data:a.value.data,labels:a.value.labels},null,8,["data","labels"])]),_:1},8,["date-preset-value","to-date","from-date","readonly"]),createVNode(CommonChartWrapper,{title:"Expenses","date-preset-value":l.value,"to-date":c.toDate,"from-date":c.fromDate,"date-preset-options":["In Months","In Years"],readonly:!1,"onUpdate:datePresetValue":_[3]||(_[3]=b=>l.value=b),"onUpdate:fromDate":_[4]||(_[4]=b=>c.fromDate=b),"onUpdate:toDate":_[5]||(_[5]=b=>c.toDate=b)},{default:withCtx(()=>[createVNode(BarGraph,{"data-label":["Expenses","Income"],data:u.value.data,labels:u.value.labels},null,8,["data","labels"])]),_:1},8,["date-preset-value","to-date","from-date"])])]),(openBlock(),createBlock(Teleport,{to:"#app"},[createVNode(AlertConfirmModal,{ref_key:"confirm",ref:n},null,512)]))],64))}}),Dashboard=_export_sfc(_sfc_main,[["__scopeId","data-v-7c18223e"]]),router=createRouter({history:createWebHistory("/Budgety-New/"),routes:[{path:"/",name:"dashboard",component:Dashboard}]}),app=createApp(App);app.use(createPinia());app.use(router);app.mount("#app");
