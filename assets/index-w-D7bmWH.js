const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginSignupView-BDGONWFR.js","assets/LoginSignupView-BlIhZ77S.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function makeMap(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),isModelListener=t=>t.startsWith("onUpdate:"),extend=Object.assign,remove$1=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},hasOwnProperty$1=Object.prototype.hasOwnProperty,hasOwn=(t,e)=>hasOwnProperty$1.call(t,e),isArray$2=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction$1=t=>typeof t=="function",isString=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$2=t=>t!==null&&typeof t=="object",isPromise=t=>(isObject$2(t)||isFunction$1(t))&&isFunction$1(t.then)&&isFunction$1(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$3=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},camelizeRE=/-\w/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,e=>e.slice(1).toUpperCase())),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize(t)}`:""),hasChanged=(t,e)=>!Object.is(t,e),invokeArrayFns=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},def=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},looseToNumber=t=>{const e=parseFloat(t);return isNaN(e)?t:e},toNumber$1=t=>{const e=isString(t)?Number(t):NaN;return isNaN(e)?t:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(t){if(isArray$2(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=isString(n)?parseStringStyle(n):normalizeStyle(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(isString(t)||isObject$2(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const e={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(s=>{if(s){const n=s.split(propertyDelimiterRE);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function normalizeClass(t){let e="";if(isString(t))e=t;else if(isArray$2(t))for(let s=0;s<t.length;s++){const n=normalizeClass(t[s]);n&&(e+=n+" ")}else if(isObject$2(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}const isRef$1=t=>!!(t&&t.__v_isRef===!0),toDisplayString=t=>isString(t)?t:t==null?"":isArray$2(t)||isObject$2(t)&&(t.toString===objectToString||!isFunction$1(t.toString))?isRef$1(t)?toDisplayString(t.value):JSON.stringify(t,replacer,2):String(t),replacer=(t,e)=>isRef$1(e)?replacer(t,e.value):isMap(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[stringifySymbol(n,i)+" =>"]=r,s),{})}:isSet(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>stringifySymbol(s))}:isSymbol(e)?stringifySymbol(e):isObject$2(e)&&!isArray$2(e)&&!isPlainObject$3(e)?String(e):e,stringifySymbol=(t,e="")=>{var s;return isSymbol(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=s}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function effectScope(t){return new EffectScope(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t,e=!1){activeEffectScope&&activeEffectScope.cleanups.push(t)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const e=activeSub,s=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=e,shouldTrack=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)removeSub(e);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(t,e=!1){if(t.flags|=8,e){t.next=batchedComputed,batchedComputed=t;return}t.next=batchedSub,batchedSub=t}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let e=batchedComputed;for(batchedComputed=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;batchedSub;){let e=batchedSub;for(batchedSub=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function prepareDeps(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function cleanupDeps(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),removeSub(n),removeDep(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function isDirty(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(refreshComputed(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function refreshComputed(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===globalVersion)||(t.globalVersion=globalVersion,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!isDirty(t))))return;t.flags|=2;const e=t.dep,s=activeSub,n=shouldTrack;activeSub=t,shouldTrack=!0;try{prepareDeps(t);const r=t.fn(t._value);(e.version===0||hasChanged(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{activeSub=s,shouldTrack=n,cleanupDeps(t),t.flags&=-3}}function removeSub(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)removeSub(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function removeDep(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function cleanupEffect(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=activeSub;activeSub=void 0;try{e()}finally{activeSub=s}}}let globalVersion=0;class Link{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dep{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==activeSub)s=this.activeLink=new Link(activeSub,this),activeSub.deps?(s.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=s,activeSub.depsTail=s):activeSub.deps=activeSub.depsTail=s,addSub(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=activeSub.depsTail,s.nextDep=void 0,activeSub.depsTail.nextDep=s,activeSub.depsTail=s,activeSub.deps===s&&(activeSub.deps=n)}return s}trigger(e){this.version++,globalVersion++,this.notify(e)}notify(e){startBatch();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{endBatch()}}}function addSub(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)addSub(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(t,e,s){if(shouldTrack&&activeSub){let n=targetMap.get(t);n||targetMap.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new Dep),r.map=n,r.key=s),r.track()}}function trigger(t,e,s,n,r,i){const o=targetMap.get(t);if(!o){globalVersion++;return}const a=l=>{l&&l.trigger()};if(startBatch(),e==="clear")o.forEach(a);else{const l=isArray$2(t),c=l&&isIntegerKey(s);if(l&&s==="length"){const u=Number(n);o.forEach((d,f)=>{(f==="length"||f===ARRAY_ITERATE_KEY||!isSymbol(f)&&f>=u)&&a(d)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(ARRAY_ITERATE_KEY)),e){case"add":l?c&&a(o.get("length")):(a(o.get(ITERATE_KEY)),isMap(t)&&a(o.get(MAP_KEY_ITERATE_KEY)));break;case"delete":l||(a(o.get(ITERATE_KEY)),isMap(t)&&a(o.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&a(o.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(t,e){const s=targetMap.get(t);return s&&s.get(e)}function reactiveReadArray(t){const e=toRaw(t);return e===t?e:(track(e,"iterate",ARRAY_ITERATE_KEY),isShallow(t)?e:e.map(toReactive))}function shallowReadArray(t){return track(t=toRaw(t),"iterate",ARRAY_ITERATE_KEY),t}function toWrapped(t,e){return isReadonly(t)?isReactive(t)?toReadonly(toReactive(e)):toReadonly(e):toReactive(e)}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator(this,Symbol.iterator,t=>toWrapped(this,t))},concat(...t){return reactiveReadArray(this).concat(...t.map(e=>isArray$2(e)?reactiveReadArray(e):e))},entries(){return iterator(this,"entries",t=>(t[1]=toWrapped(this,t[1]),t))},every(t,e){return apply(this,"every",t,e,void 0,arguments)},filter(t,e){return apply(this,"filter",t,e,s=>s.map(n=>toWrapped(this,n)),arguments)},find(t,e){return apply(this,"find",t,e,s=>toWrapped(this,s),arguments)},findIndex(t,e){return apply(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return apply(this,"findLast",t,e,s=>toWrapped(this,s),arguments)},findLastIndex(t,e){return apply(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return apply(this,"forEach",t,e,void 0,arguments)},includes(...t){return searchProxy(this,"includes",t)},indexOf(...t){return searchProxy(this,"indexOf",t)},join(t){return reactiveReadArray(this).join(t)},lastIndexOf(...t){return searchProxy(this,"lastIndexOf",t)},map(t,e){return apply(this,"map",t,e,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...t){return noTracking(this,"push",t)},reduce(t,...e){return reduce(this,"reduce",t,e)},reduceRight(t,...e){return reduce(this,"reduceRight",t,e)},shift(){return noTracking(this,"shift")},some(t,e){return apply(this,"some",t,e,void 0,arguments)},splice(...t){return noTracking(this,"splice",t)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(t){return reactiveReadArray(this).toSorted(t)},toSpliced(...t){return reactiveReadArray(this).toSpliced(...t)},unshift(...t){return noTracking(this,"unshift",t)},values(){return iterator(this,"values",t=>toWrapped(this,t))}};function iterator(t,e,s){const n=shallowReadArray(t),r=n[e]();return n!==t&&!isShallow(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.done||(i.value=s(i.value)),i}),r}const arrayProto=Array.prototype;function apply(t,e,s,n,r,i){const o=shallowReadArray(t),a=o!==t&&!isShallow(t),l=o[e];if(l!==arrayProto[e]){const d=l.apply(t,i);return a?toReactive(d):d}let c=s;o!==t&&(a?c=function(d,f){return s.call(this,toWrapped(t,d),f,t)}:s.length>2&&(c=function(d,f){return s.call(this,d,f,t)}));const u=l.call(o,c,n);return a&&r?r(u):u}function reduce(t,e,s,n){const r=shallowReadArray(t);let i=s;return r!==t&&(isShallow(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,toWrapped(t,a),l,t)}),r[e](i,...n)}function searchProxy(t,e,s){const n=toRaw(t);track(n,"iterate",ARRAY_ITERATE_KEY);const r=n[e](...s);return(r===-1||r===!1)&&isProxy(s[0])?(s[0]=toRaw(s[0]),n[e](...s)):r}function noTracking(t,e,s=[]){pauseTracking(),startBatch();const n=toRaw(t)[e].apply(t,s);return endBatch(),resetTracking(),n}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol));function hasOwnProperty(t){isSymbol(t)||(t=String(t));const e=toRaw(this);return track(e,"has",t),e.hasOwnProperty(t)}class BaseReactiveHandler{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?shallowReadonlyMap:readonlyMap:i?shallowReactiveMap:reactiveMap).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=isArray$2(e);if(!r){let l;if(o&&(l=arrayInstrumentations[s]))return l;if(s==="hasOwnProperty")return hasOwnProperty}const a=Reflect.get(e,s,isRef(e)?e:n);if((isSymbol(s)?builtInSymbols.has(s):isNonTrackableKeys(s))||(r||track(e,"get",s),i))return a;if(isRef(a)){const l=o&&isIntegerKey(s)?a:a.value;return r&&isObject$2(l)?readonly(l):l}return isObject$2(a)?r?readonly(a):reactive(a):a}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];const o=isArray$2(e)&&isIntegerKey(s);if(!this._isShallow){const c=isReadonly(i);if(!isShallow(n)&&!isReadonly(n)&&(i=toRaw(i),n=toRaw(n)),!o&&isRef(i)&&!isRef(n))return c||(i.value=n),!0}const a=o?Number(s)<e.length:hasOwn(e,s),l=Reflect.set(e,s,n,isRef(e)?e:r);return e===toRaw(r)&&(a?hasChanged(n,i)&&trigger(e,"set",s,n):trigger(e,"add",s,n)),l}deleteProperty(e,s){const n=hasOwn(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&trigger(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!isSymbol(s)||!builtInSymbols.has(s))&&track(e,"has",s),n}ownKeys(e){return track(e,"iterate",isArray$2(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function createIterableMethod(t,e,s){return function(...n){const r=this.__v_raw,i=toRaw(r),o=isMap(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...n),u=s?toShallow:e?toReadonly:toReactive;return!e&&track(i,"iterate",l?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function createInstrumentations(t,e){const s={get(r){const i=this.__v_raw,o=toRaw(i),a=toRaw(r);t||(hasChanged(r,a)&&track(o,"get",r),track(o,"get",a));const{has:l}=getProto(o),c=e?toShallow:t?toReadonly:toReactive;if(l.call(o,r))return c(i.get(r));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&track(toRaw(r),"iterate",ITERATE_KEY),r.size},has(r){const i=this.__v_raw,o=toRaw(i),a=toRaw(r);return t||(hasChanged(r,a)&&track(o,"has",r),track(o,"has",a)),r===a?i.has(r):i.has(r)||i.has(a)},forEach(r,i){const o=this,a=o.__v_raw,l=toRaw(a),c=e?toShallow:t?toReadonly:toReactive;return!t&&track(l,"iterate",ITERATE_KEY),a.forEach((u,d)=>r.call(i,c(u),c(d),o))}};return extend(s,t?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(r){!e&&!isShallow(r)&&!isReadonly(r)&&(r=toRaw(r));const i=toRaw(this);return getProto(i).has.call(i,r)||(i.add(r),trigger(i,"add",r,r)),this},set(r,i){!e&&!isShallow(i)&&!isReadonly(i)&&(i=toRaw(i));const o=toRaw(this),{has:a,get:l}=getProto(o);let c=a.call(o,r);c||(r=toRaw(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,i),c?hasChanged(i,u)&&trigger(o,"set",r,i):trigger(o,"add",r,i),this},delete(r){const i=toRaw(this),{has:o,get:a}=getProto(i);let l=o.call(i,r);l||(r=toRaw(r),l=o.call(i,r)),a&&a.call(i,r);const c=i.delete(r);return l&&trigger(i,"delete",r,void 0),c},clear(){const r=toRaw(this),i=r.size!==0,o=r.clear();return i&&trigger(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=createIterableMethod(r,t,e)}),s}function createInstrumentationGetter(t,e){const s=createInstrumentations(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(hasOwn(s,r)&&r in n?s:n,r,i)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,e,s,n,r){if(!isObject$2(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=getTargetType(t);if(i===0)return t;const o=r.get(t);if(o)return o;const a=new Proxy(t,i===2?n:s);return r.set(t,a),a}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return t?!!t.__v_raw:!1}function toRaw(t){const e=t&&t.__v_raw;return e?toRaw(e):t}function markRaw(t){return!hasOwn(t,"__v_skip")&&Object.isExtensible(t)&&def(t,"__v_skip",!0),t}const toReactive=t=>isObject$2(t)?reactive(t):t,toReadonly=t=>isObject$2(t)?readonly(t):t;function isRef(t){return t?t.__v_isRef===!0:!1}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,e){return isRef(t)?t:new RefImpl(t,e)}class RefImpl{constructor(e,s){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:toRaw(e),this._value=s?e:toReactive(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||isShallow(e)||isReadonly(e);e=n?e:toRaw(e),hasChanged(e,s)&&(this._rawValue=e,this._value=n?e:toReactive(e),this.dep.trigger())}}function unref(t){return isRef(t)?t.value:t}function toValue(t){return isFunction$1(t)?t():unref(t)}const shallowUnwrapHandlers={get:(t,e,s)=>e==="__v_raw"?t:unref(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return isRef(r)&&!isRef(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}function toRefs(t){const e=isArray$2(t)?new Array(t.length):{};for(const s in t)e[s]=propertyToRef(t,s);return e}class ObjectRefImpl{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=toRaw(e);let r=!0,i=e;if(!isArray$2(e)||!isIntegerKey(String(s)))do r=!isProxy(i)||isShallow(i);while(r&&(i=i.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=unref(e)),this._value=e===void 0?this._defaultValue:e}set value(e){if(this._shallow&&isRef(this._raw[this._key])){const s=this._object[this._key];if(isRef(s)){s.value=e;return}}this._object[this._key]=e}get dep(){return getDepFromReactive(this._raw,this._key)}}function propertyToRef(t,e,s){return new ObjectRefImpl(t,e,s)}class ComputedRefImpl{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const e=this.dep.track();return refreshComputed(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function computed$1(t,e,s=!1){let n,r;return isFunction$1(t)?n=t:(n=t.get,r=t.set),new ComputedRefImpl(n,r,s)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(t,e=!1,s=activeWatcher){if(s){let n=cleanupMap.get(s);n||cleanupMap.set(s,n=[]),n.push(t)}}function watch$1(t,e,s=EMPTY_OBJ){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:a,call:l}=s,c=E=>r?E:isShallow(E)||r===!1||r===0?traverse(E,1):traverse(E);let u,d,f,g,m=!1,_=!1;if(isRef(t)?(d=()=>t.value,m=isShallow(t)):isReactive(t)?(d=()=>c(t),m=!0):isArray$2(t)?(_=!0,m=t.some(E=>isReactive(E)||isShallow(E)),d=()=>t.map(E=>{if(isRef(E))return E.value;if(isReactive(E))return c(E);if(isFunction$1(E))return l?l(E,2):E()})):isFunction$1(t)?e?d=l?()=>l(t,2):t:d=()=>{if(f){pauseTracking();try{f()}finally{resetTracking()}}const E=activeWatcher;activeWatcher=u;try{return l?l(t,3,[g]):t(g)}finally{activeWatcher=E}}:d=NOOP,e&&r){const E=d,A=r===!0?1/0:r;d=()=>traverse(E(),A)}const y=getCurrentScope(),b=()=>{u.stop(),y&&y.active&&remove$1(y.effects,u)};if(i&&e){const E=e;e=(...A)=>{E(...A),b()}}let v=_?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const S=E=>{if(!(!(u.flags&1)||!u.dirty&&!E))if(e){const A=u.run();if(r||m||(_?A.some((C,R)=>hasChanged(C,v[R])):hasChanged(A,v))){f&&f();const C=activeWatcher;activeWatcher=u;try{const R=[A,v===INITIAL_WATCHER_VALUE?void 0:_&&v[0]===INITIAL_WATCHER_VALUE?[]:v,g];v=A,l?l(e,3,R):e(...R)}finally{activeWatcher=C}}}else u.run()};return a&&a(S),u=new ReactiveEffect(d),u.scheduler=o?()=>o(S,!1):S,g=E=>onWatcherCleanup(E,!1,u),f=u.onStop=()=>{const E=cleanupMap.get(u);if(E){if(l)l(E,4);else for(const A of E)A();cleanupMap.delete(u)}},e?n?S(!0):v=u.run():o?o(S.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function traverse(t,e=1/0,s){if(e<=0||!isObject$2(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,isRef(t))traverse(t.value,e,s);else if(isArray$2(t))for(let n=0;n<t.length;n++)traverse(t[n],e,s);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,e,s)});else if(isPlainObject$3(t)){for(const n in t)traverse(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&traverse(t[n],e,s)}return t}const stack=[];let isWarning=!1;function warn$1(t,...e){if(isWarning)return;isWarning=!0,pauseTracking();const s=stack.length?stack[stack.length-1].component:null,n=s&&s.appContext.config.warnHandler,r=getComponentTrace();if(n)callWithErrorHandling(n,s,11,[t+e.map(i=>{var o,a;return(a=(o=i.toString)==null?void 0:o.call(i))!=null?a:JSON.stringify(i)}).join(""),s&&s.proxy,r.map(({vnode:i})=>`at <${formatComponentName(s,i.type)}>`).join(`
`),r]);else{const i=[`[Vue warn]: ${t}`,...e];r.length&&i.push(`
`,...formatTrace(r)),console.warn(...i)}resetTracking(),isWarning=!1}function getComponentTrace(){let t=stack[stack.length-1];if(!t)return[];const e=[];for(;t;){const s=e[0];s&&s.vnode===t?s.recurseCount++:e.push({vnode:t,recurseCount:0});const n=t.component&&t.component.parent;t=n&&n.vnode}return e}function formatTrace(t){const e=[];return t.forEach((s,n)=>{e.push(...n===0?[]:[`
`],...formatTraceEntry(s))}),e}function formatTraceEntry({vnode:t,recurseCount:e}){const s=e>0?`... (${e} recursive calls)`:"",n=t.component?t.component.parent==null:!1,r=` at <${formatComponentName(t.component,t.type,n)}`,i=">"+s;return t.props?[r,...formatProps(t.props),i]:[r+i]}function formatProps(t){const e=[],s=Object.keys(t);return s.slice(0,3).forEach(n=>{e.push(...formatProp(n,t[n]))}),s.length>3&&e.push(" ..."),e}function formatProp(t,e,s){return isString(e)?(e=JSON.stringify(e),s?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?s?e:[`${t}=${e}`]:isRef(e)?(e=formatProp(t,toRaw(e.value),!0),s?e:[`${t}=Ref<`,e,">"]):isFunction$1(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=toRaw(e),s?e:[`${t}=`,e])}function callWithErrorHandling(t,e,s,n){try{return n?t(...n):t()}catch(r){handleError$3(r,e,s)}}function callWithAsyncErrorHandling(t,e,s,n){if(isFunction$1(t)){const r=callWithErrorHandling(t,e,s,n);return r&&isPromise(r)&&r.catch(i=>{handleError$3(i,e,s)}),r}if(isArray$2(t)){const r=[];for(let i=0;i<t.length;i++)r.push(callWithAsyncErrorHandling(t[i],e,s,n));return r}}function handleError$3(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||EMPTY_OBJ;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](t,l,c)===!1)return}a=a.parent}if(i){pauseTracking(),callWithErrorHandling(i,null,10,[t,l,c]),resetTracking();return}}logError(t,s,r,n,o)}function logError(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const e=currentFlushPromise||resolvedPromise;return t?e.then(this?t.bind(this):t):e}function findInsertionIndex$1(t){let e=flushIndex+1,s=queue.length;for(;e<s;){const n=e+s>>>1,r=queue[n],i=getId(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function queueJob(t){if(!(t.flags&1)){const e=getId(t),s=queue[queue.length-1];!s||!(t.flags&2)&&e>=getId(s)?queue.push(t):queue.splice(findInsertionIndex$1(e),0,t),t.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(t){isArray$2(t)?pendingPostFlushCbs.push(...t):activePostFlushCbs&&t.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,t):t.flags&1||(pendingPostFlushCbs.push(t),t.flags|=1),queueFlush()}function flushPreFlushCbs(t,e,s=flushIndex+1){for(;s<queue.length;s++){const n=queue[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;queue.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)].sort((s,n)=>getId(s)-getId(n));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const s=activePostFlushCbs[postFlushIndex];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?t.flags&2?-1:1/0:t.id;function flushJobs(t){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),callWithErrorHandling(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const e=queue[flushIndex];e&&(e.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const e=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,e}function withCtx(t,e=currentRenderingInstance,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&setBlockTracking(-1);const i=setCurrentRenderingInstance(e);let o;try{o=t(...r)}finally{setCurrentRenderingInstance(i),n._d&&setBlockTracking(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function withDirectives(t,e){if(currentRenderingInstance===null)return t;const s=getComponentPublicInstance(currentRenderingInstance),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,a,l=EMPTY_OBJ]=e[r];i&&(isFunction$1(i)&&(i={mounted:i,updated:i}),i.deep&&traverse(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function invokeDirectiveHook(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(pauseTracking(),callWithAsyncErrorHandling(l,s,8,[t.el,a,t,e]),resetTracking())}}function provide(t,e){if(currentInstance){let s=currentInstance.provides;const n=currentInstance.parent&&currentInstance.parent.provides;n===s&&(s=currentInstance.provides=Object.create(n)),s[t]=e}}function inject(t,e,s=!1){const n=getCurrentInstance();if(n||currentApp){let r=currentApp?currentApp._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&isFunction$1(e)?e.call(n&&n.proxy):e}}function hasInjectionContext(){return!!(getCurrentInstance()||currentApp)}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(t,e){return doWatch(t,null,e)}function watch(t,e,s){return doWatch(t,e,s)}function doWatch(t,e,s=EMPTY_OBJ){const{immediate:n,deep:r,flush:i,once:o}=s,a=extend({},s),l=e&&n||!e&&i!=="post";let c;if(isInSSRComponentSetup){if(i==="sync"){const g=useSSRContext();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=NOOP,g.resume=NOOP,g.pause=NOOP,g}}const u=currentInstance;a.call=(g,m,_)=>callWithAsyncErrorHandling(g,u,m,_);let d=!1;i==="post"?a.scheduler=g=>{queuePostRenderEffect(g,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(g,m)=>{m?g():queueJob(g)}),a.augmentJob=g=>{e&&(g.flags|=4),d&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const f=watch$1(t,e,a);return isInSSRComponentSetup&&(c?c.push(f):l&&f()),f}function instanceWatch(t,e,s){const n=this.proxy,r=isString(t)?t.includes(".")?createPathGetter(n,t):()=>n[t]:t.bind(n,n);let i;isFunction$1(e)?i=e:(i=e.handler,s=e);const o=setCurrentInstance(this),a=doWatch(r,i.bind(n),s);return o(),a}function createPathGetter(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const TeleportEndKey=Symbol("_vte"),isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTeleportDeferred=t=>t&&(t.defer||t.defer===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,isTargetMathML=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,resolveTarget=(t,e)=>{const s=t&&t.to;return isString(s)?e?e(s):null:s},TeleportImpl={name:"Teleport",__isTeleport:!0,process(t,e,s,n,r,i,o,a,l,c){const{mc:u,pc:d,pbc:f,o:{insert:g,querySelector:m,createText:_,createComment:y}}=c,b=isTeleportDisabled(e.props);let{shapeFlag:v,children:S,dynamicChildren:E}=e;if(t==null){const A=e.el=_(""),C=e.anchor=_("");g(A,s,n),g(C,s,n);const R=(x,B)=>{v&16&&u(S,x,B,r,i,o,a,l)},O=()=>{const x=e.target=resolveTarget(e.props,m),B=prepareAnchor(x,e,_,g);x&&(o!=="svg"&&isTargetSVG(x)?o="svg":o!=="mathml"&&isTargetMathML(x)&&(o="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(x),b||(R(x,B),updateCssVars(e,!1)))};b&&(R(s,C),updateCssVars(e,!0)),isTeleportDeferred(e.props)?(e.el.__isMounted=!1,queuePostRenderEffect(()=>{O(),delete e.el.__isMounted},i)):O()}else{if(isTeleportDeferred(e.props)&&t.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(t,e,s,n,r,i,o,a,l,c)},i);return}e.el=t.el,e.targetStart=t.targetStart;const A=e.anchor=t.anchor,C=e.target=t.target,R=e.targetAnchor=t.targetAnchor,O=isTeleportDisabled(t.props),x=O?s:C,B=O?A:R;if(o==="svg"||isTargetSVG(C)?o="svg":(o==="mathml"||isTargetMathML(C))&&(o="mathml"),E?(f(t.dynamicChildren,E,x,r,i,o,a),traverseStaticChildren(t,e,!0)):l||d(t,e,x,B,r,i,o,a,!1),b)O?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):moveTeleport(e,s,A,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const L=e.target=resolveTarget(e.props,m);L&&moveTeleport(e,L,null,c,0)}else O&&moveTeleport(e,C,R,c,1);updateCssVars(e,b)}},remove(t,e,s,{um:n,o:{remove:r}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:d,props:f}=t;if(d&&(r(c),r(u)),i&&r(l),o&16){const g=i||!isTeleportDisabled(f);for(let m=0;m<a.length;m++){const _=a[m];n(_,e,s,g,!!_.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,e,s,{o:{insert:n},m:r},i=2){i===0&&n(t.targetAnchor,e,s);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=t,d=i===2;if(d&&n(o,e,s),(!d||isTeleportDisabled(u))&&l&16)for(let f=0;f<c.length;f++)r(c[f],e,s,2);d&&n(a,e,s)}function hydrateTeleport(t,e,s,n,r,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},d){function f(_,y,b,v){y.anchor=d(o(_),y,a(_),s,n,r,i),y.targetStart=b,y.targetAnchor=v}const g=e.target=resolveTarget(e.props,l),m=isTeleportDisabled(e.props);if(g){const _=g._lpa||g.firstChild;if(e.shapeFlag&16)if(m)f(t,e,_,_&&o(_));else{e.anchor=o(t);let y=_;for(;y;){if(y&&y.nodeType===8){if(y.data==="teleport start anchor")e.targetStart=y;else if(y.data==="teleport anchor"){e.targetAnchor=y,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}y=o(y)}e.targetAnchor||prepareAnchor(g,e,u,c),d(_&&o(_),e,g,s,n,r,i)}updateCssVars(e,m)}else m&&e.shapeFlag&16&&f(t,e,t,o(t));return e.anchor&&o(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(t,e){const s=t.ctx;if(s&&s.ut){let n,r;for(e?(n=t.el,r=t.anchor):(n=t.targetStart,r=t.targetAnchor);n&&n!==r;)n.nodeType===1&&n.setAttribute("data-v-owner",s.uid),n=n.nextSibling;s.ut()}}function prepareAnchor(t,e,s,n){const r=e.targetStart=s(""),i=e.targetAnchor=s("");return r[TeleportEndKey]=i,t&&(n(r,t),n(i,t)),i}const leaveCbKey=Symbol("_leaveCb"),enterCbKey=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=t=>{const e=t.subTree;return e.component?recursiveGetSubtree(e.component):e},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:e}){const s=getCurrentInstance(),n=useTransitionState();return()=>{const r=e.default&&getTransitionRawChildren(e.default(),!0);if(!r||!r.length)return;const i=findNonCommentChild(r),o=toRaw(t),{mode:a}=o;if(n.isLeaving)return emptyPlaceholder(i);const l=getInnerChild$1(i);if(!l)return emptyPlaceholder(i);let c=resolveTransitionHooks(l,o,n,s,d=>c=d);l.type!==Comment&&setTransitionHooks(l,c);let u=s.subTree&&getInnerChild$1(s.subTree);if(u&&u.type!==Comment&&!isSameVNodeType(u,l)&&recursiveGetSubtree(s).type!==Comment){let d=resolveTransitionHooks(u,o,n,s);if(setTransitionHooks(u,d),a==="out-in"&&l.type!==Comment)return n.isLeaving=!0,d.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete d.afterLeave,u=void 0},emptyPlaceholder(i);a==="in-out"&&l.type!==Comment?d.delayLeave=(f,g,m)=>{const _=getLeavingNodesForType(n,u);_[String(u.key)]=u,f[leaveCbKey]=()=>{g(),f[leaveCbKey]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function findNonCommentChild(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==Comment){e=s;break}}return e}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function resolveTransitionHooks(t,e,s,n,r){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:f,onLeave:g,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:y,onAppear:b,onAfterAppear:v,onAppearCancelled:S}=e,E=String(t.key),A=getLeavingNodesForType(s,t),C=(x,B)=>{x&&callWithAsyncErrorHandling(x,n,9,B)},R=(x,B)=>{const L=B[1];C(x,B),isArray$2(x)?x.every(N=>N.length<=1)&&L():x.length<=1&&L()},O={mode:o,persisted:a,beforeEnter(x){let B=l;if(!s.isMounted)if(i)B=y||l;else return;x[leaveCbKey]&&x[leaveCbKey](!0);const L=A[E];L&&isSameVNodeType(t,L)&&L.el[leaveCbKey]&&L.el[leaveCbKey](),C(B,[x])},enter(x){let B=c,L=u,N=d;if(!s.isMounted)if(i)B=b||c,L=v||u,N=S||d;else return;let K=!1;const ee=x[enterCbKey]=G=>{K||(K=!0,G?C(N,[x]):C(L,[x]),O.delayedLeave&&O.delayedLeave(),x[enterCbKey]=void 0)};B?R(B,[x,ee]):ee()},leave(x,B){const L=String(t.key);if(x[enterCbKey]&&x[enterCbKey](!0),s.isUnmounting)return B();C(f,[x]);let N=!1;const K=x[leaveCbKey]=ee=>{N||(N=!0,B(),ee?C(_,[x]):C(m,[x]),x[leaveCbKey]=void 0,A[L]===t&&delete A[L])};A[L]=t,g?R(g,[x,K]):K()},clone(x){const B=resolveTransitionHooks(x,e,s,n,r);return r&&r(B),B}};return O}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getInnerChild$1(t){if(!isKeepAlive(t))return isTeleport(t.type)&&t.children?findNonCommentChild(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&isFunction$1(s.default))return s.default()}}function setTransitionHooks(t,e){t.shapeFlag&6&&t.component?(t.transition=e,setTransitionHooks(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function getTransitionRawChildren(t,e=!1,s){let n=[],r=0;for(let i=0;i<t.length;i++){let o=t[i];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:i);o.type===Fragment?(o.patchFlag&128&&r++,n=n.concat(getTransitionRawChildren(o.children,e,a))):(e||o.type!==Comment)&&n.push(a!=null?cloneVNode(o,{key:a}):o)}if(r>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function defineComponent(t,e){return isFunction$1(t)?extend({name:t.name},e,{setup:t}):t}function markAsyncBoundary(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const pendingSetRefMap=new WeakMap;function setRef(t,e,s,n,r=!1){if(isArray$2(t)){t.forEach((m,_)=>setRef(m,e&&(isArray$2(e)?e[_]:e),s,n,r));return}if(isAsyncWrapper(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&setRef(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?getComponentPublicInstance(n.component):n.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===EMPTY_OBJ?a.refs={}:a.refs,d=a.setupState,f=toRaw(d),g=d===EMPTY_OBJ?NO:m=>hasOwn(f,m);if(c!=null&&c!==l){if(invalidatePendingSetRef(e),isString(c))u[c]=null,g(c)&&(d[c]=null);else if(isRef(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(isFunction$1(l))callWithErrorHandling(l,a,12,[o,u]);else{const m=isString(l),_=isRef(l);if(m||_){const y=()=>{if(t.f){const b=m?g(l)?d[l]:u[l]:l.value;if(r)isArray$2(b)&&remove$1(b,i);else if(isArray$2(b))b.includes(i)||b.push(i);else if(m)u[l]=[i],g(l)&&(d[l]=u[l]);else{const v=[i];l.value=v,t.k&&(u[t.k]=v)}}else m?(u[l]=o,g(l)&&(d[l]=o)):_&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const b=()=>{y(),pendingSetRefMap.delete(t)};b.id=-1,pendingSetRefMap.set(t,b),queuePostRenderEffect(b,s)}else invalidatePendingSetRef(t),y()}}}function invalidatePendingSetRef(t){const e=pendingSetRefMap.get(t);e&&(e.flags|=8,pendingSetRefMap.delete(t))}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,e){registerKeepAliveHook(t,"a",e)}function onDeactivated(t,e){registerKeepAliveHook(t,"da",e)}function registerKeepAliveHook(t,e,s=currentInstance){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(injectHook(e,n,s),s){let r=s.parent;for(;r&&r.parent;)isKeepAlive(r.parent.vnode)&&injectToKeepAliveRoot(n,e,s,r),r=r.parent}}function injectToKeepAliveRoot(t,e,s,n){const r=injectHook(e,t,n,!0);onUnmounted(()=>{remove$1(n[e],r)},s)}function injectHook(t,e,s=currentInstance,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{pauseTracking();const a=setCurrentInstance(s),l=callWithAsyncErrorHandling(e,s,t,o);return a(),resetTracking(),l});return n?r.unshift(i):r.push(i),i}}const createHook=t=>(e,s=currentInstance)=>{(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...n)=>e(...n),s)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,e=currentInstance){injectHook("ec",t,e)}const COMPONENTS="components";function resolveComponent(t,e){return resolveAsset(COMPONENTS,t,!0,e)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveAsset(t,e,s=!0,n=!1){const r=currentRenderingInstance||currentInstance;if(r){const i=r.type;{const a=getComponentName(i,!1);if(a&&(a===e||a===camelize(e)||a===capitalize(camelize(e))))return i}const o=resolve$1(r[t]||i[t],e)||resolve$1(r.appContext[t],e);return!o&&n?i:o}}function resolve$1(t,e){return t&&(t[e]||t[camelize(e)]||t[capitalize(camelize(e))])}function renderList(t,e,s,n){let r;const i=s,o=isArray$2(t);if(o||isString(t)){const a=o&&isReactive(t);let l=!1,c=!1;a&&(l=!isShallow(t),c=isReadonly(t),t=shallowReadArray(t)),r=new Array(t.length);for(let u=0,d=t.length;u<d;u++)r[u]=e(l?c?toReadonly(toReactive(t[u])):toReactive(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){r=new Array(t);for(let a=0;a<t;a++)r[a]=e(a+1,a,void 0,i)}else if(isObject$2(t))if(t[Symbol.iterator])r=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(t[u],u,l,i)}}else r=[];return r}function renderSlot(t,e,s={},n,r){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce){const c=Object.keys(s).length>0;return openBlock(),createBlock(Fragment,null,[createVNode("slot",s,n)],c?-2:64)}let i=t[e];i&&i._c&&(i._d=!1),openBlock();const o=i&&ensureValidVNode(i(s)),a=s.key||o&&o.key,l=createBlock(Fragment,{key:(a&&!isSymbol(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||[],o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),l}function ensureValidVNode(t){return t.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?t:null}const getPublicInstance=t=>t?isStatefulComponent(t)?getComponentPublicInstance(t):getPublicInstance(t.parent):null,publicPropertiesMap=extend(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>{queueJob(t.update)}),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,e)=>t!==EMPTY_OBJ&&!t.__isScriptSetup&&hasOwn(t,e),PublicInstanceProxyHandlers={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(hasSetupBinding(n,e))return o[e]=1,n[e];if(r!==EMPTY_OBJ&&hasOwn(r,e))return o[e]=2,r[e];if(hasOwn(i,e))return o[e]=3,i[e];if(s!==EMPTY_OBJ&&hasOwn(s,e))return o[e]=4,s[e];shouldCacheAccess&&(o[e]=0)}}const c=publicPropertiesMap[e];let u,d;if(c)return e==="$attrs"&&track(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(s!==EMPTY_OBJ&&hasOwn(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,hasOwn(d,e))return d[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return hasSetupBinding(r,e)?(r[e]=s,!0):n!==EMPTY_OBJ&&hasOwn(n,e)?(n[e]=s,!0):hasOwn(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,props:i,type:o}},a){let l;return!!(s[a]||t!==EMPTY_OBJ&&a[0]!=="$"&&hasOwn(t,a)||hasSetupBinding(e,a)||hasOwn(i,a)||hasOwn(n,a)||hasOwn(publicPropertiesMap,a)||hasOwn(r.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:hasOwn(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function normalizePropsOrEmits(t){return isArray$2(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let shouldCacheAccess=!0;function applyOptions(t){const e=resolveMergedOptions(t),s=t.proxy,n=t.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:g,updated:m,activated:_,deactivated:y,beforeDestroy:b,beforeUnmount:v,destroyed:S,unmounted:E,render:A,renderTracked:C,renderTriggered:R,errorCaptured:O,serverPrefetch:x,expose:B,inheritAttrs:L,components:N,directives:K,filters:ee}=e;if(c&&resolveInjections(c,n,null),o)for(const W in o){const Q=o[W];isFunction$1(Q)&&(n[W]=Q.bind(s))}if(r){const W=r.call(s,s);isObject$2(W)&&(t.data=reactive(W))}if(shouldCacheAccess=!0,i)for(const W in i){const Q=i[W],te=isFunction$1(Q)?Q.bind(s,s):isFunction$1(Q.get)?Q.get.bind(s,s):NOOP,le=!isFunction$1(Q)&&isFunction$1(Q.set)?Q.set.bind(s):NOOP,ce=computed({get:te,set:le});Object.defineProperty(n,W,{enumerable:!0,configurable:!0,get:()=>ce.value,set:oe=>ce.value=oe})}if(a)for(const W in a)createWatcher(a[W],n,s,W);if(l){const W=isFunction$1(l)?l.call(s):l;Reflect.ownKeys(W).forEach(Q=>{provide(Q,W[Q])})}u&&callHook$1(u,t,"c");function q(W,Q){isArray$2(Q)?Q.forEach(te=>W(te.bind(s))):Q&&W(Q.bind(s))}if(q(onBeforeMount,d),q(onMounted,f),q(onBeforeUpdate,g),q(onUpdated,m),q(onActivated,_),q(onDeactivated,y),q(onErrorCaptured,O),q(onRenderTracked,C),q(onRenderTriggered,R),q(onBeforeUnmount,v),q(onUnmounted,E),q(onServerPrefetch,x),isArray$2(B))if(B.length){const W=t.exposed||(t.exposed={});B.forEach(Q=>{Object.defineProperty(W,Q,{get:()=>s[Q],set:te=>s[Q]=te,enumerable:!0})})}else t.exposed||(t.exposed={});A&&t.render===NOOP&&(t.render=A),L!=null&&(t.inheritAttrs=L),N&&(t.components=N),K&&(t.directives=K),x&&markAsyncBoundary(t)}function resolveInjections(t,e,s=NOOP){isArray$2(t)&&(t=normalizeInject(t));for(const n in t){const r=t[n];let i;isObject$2(r)?"default"in r?i=inject(r.from||n,r.default,!0):i=inject(r.from||n):i=inject(r),isRef(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function callHook$1(t,e,s){callWithAsyncErrorHandling(isArray$2(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function createWatcher(t,e,s,n){let r=n.includes(".")?createPathGetter(s,n):()=>s[n];if(isString(t)){const i=e[t];isFunction$1(i)&&watch(r,i)}else if(isFunction$1(t))watch(r,t.bind(s));else if(isObject$2(t))if(isArray$2(t))t.forEach(i=>createWatcher(i,e,s,n));else{const i=isFunction$1(t.handler)?t.handler.bind(s):e[t.handler];isFunction$1(i)&&watch(r,i,t)}}function resolveMergedOptions(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(c=>mergeOptions$1(l,c,o,!0)),mergeOptions$1(l,e,o)),isObject$2(e)&&i.set(e,l),l}function mergeOptions$1(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&mergeOptions$1(t,i,s,!0),r&&r.forEach(o=>mergeOptions$1(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=internalOptionMergeStrats[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,e){return e?t?function(){return extend(isFunction$1(t)?t.call(this,this):t,isFunction$1(e)?e.call(this,this):e)}:e:t}function mergeInject(t,e){return mergeObjectOptions(normalizeInject(t),normalizeInject(e))}function normalizeInject(t){if(isArray$2(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function mergeAsArray(t,e){return t?[...new Set([].concat(t,e))]:e}function mergeObjectOptions(t,e){return t?extend(Object.create(null),t,e):e}function mergeEmitsOrPropsOptions(t,e){return t?isArray$2(t)&&isArray$2(e)?[...new Set([...t,...e])]:extend(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(t,e){if(!t)return e;if(!e)return t;const s=extend(Object.create(null),t);for(const n in e)s[n]=mergeAsArray(t[n],e[n]);return s}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,e){return function(n,r=null){isFunction$1(n)||(n=extend({},n)),r!=null&&!isObject$2(r)&&(r=null);const i=createAppContext(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:uid$1++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:version$5,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&isFunction$1(u.install)?(o.add(u),u.install(c,...d)):isFunction$1(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,f){if(!l){const g=c._ceVNode||createVNode(n,r);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),t(g,u,f),l=!0,c._container=u,u.__vue_app__=c,getComponentPublicInstance(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(callWithAsyncErrorHandling(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=currentApp;currentApp=c;try{return u()}finally{currentApp=d}}};return c}}let currentApp=null;const getModelModifiers=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${camelize(e)}Modifiers`]||t[`${hyphenate(e)}Modifiers`];function emit(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||EMPTY_OBJ;let r=s;const i=e.startsWith("update:"),o=i&&getModelModifiers(n,e.slice(7));o&&(o.trim&&(r=s.map(u=>isString(u)?u.trim():u)),o.number&&(r=s.map(looseToNumber)));let a,l=n[a=toHandlerKey(e)]||n[a=toHandlerKey(camelize(e))];!l&&i&&(l=n[a=toHandlerKey(hyphenate(e))]),l&&callWithAsyncErrorHandling(l,t,6,r);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,callWithAsyncErrorHandling(c,t,6,r)}}const mixinEmitsCache=new WeakMap;function normalizeEmitsOptions(t,e,s=!1){const n=s?mixinEmitsCache:e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!isFunction$1(t)){const l=c=>{const u=normalizeEmitsOptions(c,e,!0);u&&(a=!0,extend(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(isObject$2(t)&&n.set(t,null),null):(isArray$2(i)?i.forEach(l=>o[l]=null):extend(o,i),isObject$2(t)&&n.set(t,o),o)}function isEmitListener(t,e){return!t||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn(t,e[0].toLowerCase()+e.slice(1))||hasOwn(t,hyphenate(e))||hasOwn(t,e))}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:g,ctx:m,inheritAttrs:_}=t,y=setCurrentRenderingInstance(t);let b,v;try{if(s.shapeFlag&4){const E=r||n,A=E;b=normalizeVNode(c.call(A,E,u,d,g,f,m)),v=a}else{const E=e;b=normalizeVNode(E.length>1?E(d,{attrs:a,slots:o,emit:l}):E(d,null)),v=e.props?a:getFunctionalFallthrough(a)}}catch(E){blockStack.length=0,handleError$3(E,t,1),b=createVNode(Comment)}let S=b;if(v&&_!==!1){const E=Object.keys(v),{shapeFlag:A}=S;E.length&&A&7&&(i&&E.some(isModelListener)&&(v=filterModelListeners(v,i)),S=cloneVNode(S,v,!1,!0))}return s.dirs&&(S=cloneVNode(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&setTransitionHooks(S,s.transition),b=S,setCurrentRenderingInstance(y),b}const getFunctionalFallthrough=t=>{let e;for(const s in t)(s==="class"||s==="style"||isOn(s))&&((e||(e={}))[s]=t[s]);return e},filterModelListeners=(t,e)=>{const s={};for(const n in t)(!isModelListener(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function shouldUpdateComponent(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?hasPropsChanged(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(o[f]!==n[f]&&!isEmitListener(c,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?hasPropsChanged(n,o,c):!0:!!o;return!1}function hasPropsChanged(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!isEmitListener(s,i))return!0}return!1}function updateHOCHostEl({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=t=>Object.getPrototypeOf(t)===internalObjectProto;function initProps(t,e,s,n=!1){const r={},i=createInternalObject();t.propsDefaults=Object.create(null),setFullProps(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:shallowReactive(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function updateProps(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=toRaw(r),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(isEmitListener(t.emitsOptions,f))continue;const g=e[f];if(l)if(hasOwn(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const m=camelize(f);r[m]=resolvePropValue(l,a,m,g,t,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{setFullProps(t,e,r,i)&&(c=!0);let u;for(const d in a)(!e||!hasOwn(e,d)&&((u=hyphenate(d))===d||!hasOwn(e,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(r[d]=resolvePropValue(l,a,d,void 0,t,!0)):delete r[d]);if(i!==a)for(const d in i)(!e||!hasOwn(e,d))&&(delete i[d],c=!0)}c&&trigger(t.attrs,"set","")}function setFullProps(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(isReservedProp(l))continue;const c=e[l];let u;r&&hasOwn(r,u=camelize(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:isEmitListener(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=toRaw(s),c=a||EMPTY_OBJ;for(let u=0;u<i.length;u++){const d=i[u];s[d]=resolvePropValue(r,l,d,c[d],t,!hasOwn(c,d))}}return o}function resolvePropValue(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=hasOwn(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&isFunction$1(l)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const u=setCurrentInstance(r);n=c[s]=l.call(null,e),u()}}else n=l;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===hyphenate(s))&&(n=!0))}return n}const mixinPropsCache=new WeakMap;function normalizePropsOptions(t,e,s=!1){const n=s?mixinPropsCache:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!isFunction$1(t)){const u=d=>{l=!0;const[f,g]=normalizePropsOptions(d,e,!0);extend(o,f),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return isObject$2(t)&&n.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$2(i))for(let u=0;u<i.length;u++){const d=camelize(i[u]);validatePropName(d)&&(o[d]=EMPTY_OBJ)}else if(i)for(const u in i){const d=camelize(u);if(validatePropName(d)){const f=i[u],g=o[d]=isArray$2(f)||isFunction$1(f)?{type:f}:extend({},f),m=g.type;let _=!1,y=!0;if(isArray$2(m))for(let b=0;b<m.length;++b){const v=m[b],S=isFunction$1(v)&&v.name;if(S==="Boolean"){_=!0;break}else S==="String"&&(y=!1)}else _=isFunction$1(m)&&m.name==="Boolean";g[0]=_,g[1]=y,(_||hasOwn(g,"default"))&&a.push(d)}}const c=[o,a];return isObject$2(t)&&n.set(t,c),c}function validatePropName(t){return t[0]!=="$"&&!isReservedProp(t)}const isInternalKey=t=>t==="_"||t==="_ctx"||t==="$stable",normalizeSlotValue=t=>isArray$2(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,e,s)=>{if(e._n)return e;const n=withCtx((...r)=>normalizeSlotValue(e(...r)),s);return n._c=!1,n},normalizeObjectSlots=(t,e,s)=>{const n=t._ctx;for(const r in t){if(isInternalKey(r))continue;const i=t[r];if(isFunction$1(i))e[r]=normalizeSlot$1(r,i,n);else if(i!=null){const o=normalizeSlotValue(i);e[r]=()=>o}}},normalizeVNodeSlots=(t,e)=>{const s=normalizeSlotValue(e);t.slots.default=()=>s},assignSlots=(t,e,s)=>{for(const n in e)(s||!isInternalKey(n))&&(t[n]=e[n])},initSlots=(t,e,s)=>{const n=t.slots=createInternalObject();if(t.vnode.shapeFlag&32){const r=e._;r?(assignSlots(n,e,s),s&&def(n,"_",r,!0)):normalizeObjectSlots(e,n)}else e&&normalizeVNodeSlots(t,e)},updateSlots=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=EMPTY_OBJ;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:assignSlots(r,e,s):(i=!e.$stable,normalizeObjectSlots(e,r)),o=e}else e&&(normalizeVNodeSlots(t,e),o={default:1});if(i)for(const a in r)!isInternalKey(a)&&o[a]==null&&delete r[a]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,e){const s=getGlobalThis();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:g=NOOP,insertStaticContent:m}=t,_=(w,T,k,P=null,$=null,I=null,V=void 0,j=null,F=!!T.dynamicChildren)=>{if(w===T)return;w&&!isSameVNodeType(w,T)&&(P=D(w),oe(w,$,I,!0),w=null),T.patchFlag===-2&&(F=!1,T.dynamicChildren=null);const{type:M,ref:X,shapeFlag:H}=T;switch(M){case Text:y(w,T,k,P);break;case Comment:b(w,T,k,P);break;case Static:w==null&&v(T,k,P,V);break;case Fragment:N(w,T,k,P,$,I,V,j,F);break;default:H&1?A(w,T,k,P,$,I,V,j,F):H&6?K(w,T,k,P,$,I,V,j,F):(H&64||H&128)&&M.process(w,T,k,P,$,I,V,j,F,Y)}X!=null&&$?setRef(X,w&&w.ref,I,T||w,!T):X==null&&w&&w.ref!=null&&setRef(w.ref,null,I,w,!0)},y=(w,T,k,P)=>{if(w==null)n(T.el=a(T.children),k,P);else{const $=T.el=w.el;T.children!==w.children&&c($,T.children)}},b=(w,T,k,P)=>{w==null?n(T.el=l(T.children||""),k,P):T.el=w.el},v=(w,T,k,P)=>{[w.el,w.anchor]=m(w.children,T,k,P,w.el,w.anchor)},S=({el:w,anchor:T},k,P)=>{let $;for(;w&&w!==T;)$=f(w),n(w,k,P),w=$;n(T,k,P)},E=({el:w,anchor:T})=>{let k;for(;w&&w!==T;)k=f(w),r(w),w=k;r(T)},A=(w,T,k,P,$,I,V,j,F)=>{if(T.type==="svg"?V="svg":T.type==="math"&&(V="mathml"),w==null)C(T,k,P,$,I,V,j,F);else{const M=w.el&&w.el._isVueCE?w.el:null;try{M&&M._beginPatch(),x(w,T,$,I,V,j,F)}finally{M&&M._endPatch()}}},C=(w,T,k,P,$,I,V,j)=>{let F,M;const{props:X,shapeFlag:H,transition:J,dirs:Z}=w;if(F=w.el=o(w.type,I,X&&X.is,X),H&8?u(F,w.children):H&16&&O(w.children,F,null,P,$,resolveChildrenNamespace(w,I),V,j),Z&&invokeDirectiveHook(w,null,P,"created"),R(F,w,w.scopeId,V,P),X){for(const ie in X)ie!=="value"&&!isReservedProp(ie)&&i(F,ie,null,X[ie],I,P);"value"in X&&i(F,"value",null,X.value,I),(M=X.onVnodeBeforeMount)&&invokeVNodeHook(M,P,w)}Z&&invokeDirectiveHook(w,null,P,"beforeMount");const ne=needTransition($,J);ne&&J.beforeEnter(F),n(F,T,k),((M=X&&X.onVnodeMounted)||ne||Z)&&queuePostRenderEffect(()=>{M&&invokeVNodeHook(M,P,w),ne&&J.enter(F),Z&&invokeDirectiveHook(w,null,P,"mounted")},$)},R=(w,T,k,P,$)=>{if(k&&g(w,k),P)for(let I=0;I<P.length;I++)g(w,P[I]);if($){let I=$.subTree;if(T===I||isSuspense(I.type)&&(I.ssContent===T||I.ssFallback===T)){const V=$.vnode;R(w,V,V.scopeId,V.slotScopeIds,$.parent)}}},O=(w,T,k,P,$,I,V,j,F=0)=>{for(let M=F;M<w.length;M++){const X=w[M]=j?cloneIfMounted(w[M]):normalizeVNode(w[M]);_(null,X,T,k,P,$,I,V,j)}},x=(w,T,k,P,$,I,V)=>{const j=T.el=w.el;let{patchFlag:F,dynamicChildren:M,dirs:X}=T;F|=w.patchFlag&16;const H=w.props||EMPTY_OBJ,J=T.props||EMPTY_OBJ;let Z;if(k&&toggleRecurse(k,!1),(Z=J.onVnodeBeforeUpdate)&&invokeVNodeHook(Z,k,T,w),X&&invokeDirectiveHook(T,w,k,"beforeUpdate"),k&&toggleRecurse(k,!0),(H.innerHTML&&J.innerHTML==null||H.textContent&&J.textContent==null)&&u(j,""),M?B(w.dynamicChildren,M,j,k,P,resolveChildrenNamespace(T,$),I):V||Q(w,T,j,null,k,P,resolveChildrenNamespace(T,$),I,!1),F>0){if(F&16)L(j,H,J,k,$);else if(F&2&&H.class!==J.class&&i(j,"class",null,J.class,$),F&4&&i(j,"style",H.style,J.style,$),F&8){const ne=T.dynamicProps;for(let ie=0;ie<ne.length;ie++){const re=ne[ie],he=H[re],de=J[re];(de!==he||re==="value")&&i(j,re,he,de,$,k)}}F&1&&w.children!==T.children&&u(j,T.children)}else!V&&M==null&&L(j,H,J,k,$);((Z=J.onVnodeUpdated)||X)&&queuePostRenderEffect(()=>{Z&&invokeVNodeHook(Z,k,T,w),X&&invokeDirectiveHook(T,w,k,"updated")},P)},B=(w,T,k,P,$,I,V)=>{for(let j=0;j<T.length;j++){const F=w[j],M=T[j],X=F.el&&(F.type===Fragment||!isSameVNodeType(F,M)||F.shapeFlag&198)?d(F.el):k;_(F,M,X,null,P,$,I,V,!0)}},L=(w,T,k,P,$)=>{if(T!==k){if(T!==EMPTY_OBJ)for(const I in T)!isReservedProp(I)&&!(I in k)&&i(w,I,T[I],null,$,P);for(const I in k){if(isReservedProp(I))continue;const V=k[I],j=T[I];V!==j&&I!=="value"&&i(w,I,j,V,$,P)}"value"in k&&i(w,"value",T.value,k.value,$)}},N=(w,T,k,P,$,I,V,j,F)=>{const M=T.el=w?w.el:a(""),X=T.anchor=w?w.anchor:a("");let{patchFlag:H,dynamicChildren:J,slotScopeIds:Z}=T;Z&&(j=j?j.concat(Z):Z),w==null?(n(M,k,P),n(X,k,P),O(T.children||[],k,X,$,I,V,j,F)):H>0&&H&64&&J&&w.dynamicChildren&&w.dynamicChildren.length===J.length?(B(w.dynamicChildren,J,k,$,I,V,j),(T.key!=null||$&&T===$.subTree)&&traverseStaticChildren(w,T,!0)):Q(w,T,k,X,$,I,V,j,F)},K=(w,T,k,P,$,I,V,j,F)=>{T.slotScopeIds=j,w==null?T.shapeFlag&512?$.ctx.activate(T,k,P,V,F):ee(T,k,P,$,I,V,F):G(w,T,F)},ee=(w,T,k,P,$,I,V)=>{const j=w.component=createComponentInstance(w,P,$);if(isKeepAlive(w)&&(j.ctx.renderer=Y),setupComponent(j,!1,V),j.asyncDep){if($&&$.registerDep(j,q,V),!w.el){const F=j.subTree=createVNode(Comment);b(null,F,T,k),w.placeholder=F.el}}else q(j,w,T,k,$,I,V)},G=(w,T,k)=>{const P=T.component=w.component;if(shouldUpdateComponent(w,T,k))if(P.asyncDep&&!P.asyncResolved){W(P,T,k);return}else P.next=T,P.update();else T.el=w.el,P.vnode=T},q=(w,T,k,P,$,I,V)=>{const j=()=>{if(w.isMounted){let{next:H,bu:J,u:Z,parent:ne,vnode:ie}=w;{const _e=locateNonHydratedAsyncRoot(w);if(_e){H&&(H.el=ie.el,W(w,H,V)),_e.asyncDep.then(()=>{w.isUnmounted||j()});return}}let re=H,he;toggleRecurse(w,!1),H?(H.el=ie.el,W(w,H,V)):H=ie,J&&invokeArrayFns(J),(he=H.props&&H.props.onVnodeBeforeUpdate)&&invokeVNodeHook(he,ne,H,ie),toggleRecurse(w,!0);const de=renderComponentRoot(w),me=w.subTree;w.subTree=de,_(me,de,d(me.el),D(me),w,$,I),H.el=de.el,re===null&&updateHOCHostEl(w,de.el),Z&&queuePostRenderEffect(Z,$),(he=H.props&&H.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(he,ne,H,ie),$)}else{let H;const{el:J,props:Z}=T,{bm:ne,m:ie,parent:re,root:he,type:de}=w,me=isAsyncWrapper(T);toggleRecurse(w,!1),ne&&invokeArrayFns(ne),!me&&(H=Z&&Z.onVnodeBeforeMount)&&invokeVNodeHook(H,re,T),toggleRecurse(w,!0);{he.ce&&he.ce._def.shadowRoot!==!1&&he.ce._injectChildStyle(de);const _e=w.subTree=renderComponentRoot(w);_(null,_e,k,P,w,$,I),T.el=_e.el}if(ie&&queuePostRenderEffect(ie,$),!me&&(H=Z&&Z.onVnodeMounted)){const _e=T;queuePostRenderEffect(()=>invokeVNodeHook(H,re,_e),$)}(T.shapeFlag&256||re&&isAsyncWrapper(re.vnode)&&re.vnode.shapeFlag&256)&&w.a&&queuePostRenderEffect(w.a,$),w.isMounted=!0,T=k=P=null}};w.scope.on();const F=w.effect=new ReactiveEffect(j);w.scope.off();const M=w.update=F.run.bind(F),X=w.job=F.runIfDirty.bind(F);X.i=w,X.id=w.uid,F.scheduler=()=>queueJob(X),toggleRecurse(w,!0),M()},W=(w,T,k)=>{T.component=w;const P=w.vnode.props;w.vnode=T,w.next=null,updateProps(w,T.props,P,k),updateSlots(w,T.children,k),pauseTracking(),flushPreFlushCbs(w),resetTracking()},Q=(w,T,k,P,$,I,V,j,F=!1)=>{const M=w&&w.children,X=w?w.shapeFlag:0,H=T.children,{patchFlag:J,shapeFlag:Z}=T;if(J>0){if(J&128){le(M,H,k,P,$,I,V,j,F);return}else if(J&256){te(M,H,k,P,$,I,V,j,F);return}}Z&8?(X&16&&ae(M,$,I),H!==M&&u(k,H)):X&16?Z&16?le(M,H,k,P,$,I,V,j,F):ae(M,$,I,!0):(X&8&&u(k,""),Z&16&&O(H,k,P,$,I,V,j,F))},te=(w,T,k,P,$,I,V,j,F)=>{w=w||EMPTY_ARR,T=T||EMPTY_ARR;const M=w.length,X=T.length,H=Math.min(M,X);let J;for(J=0;J<H;J++){const Z=T[J]=F?cloneIfMounted(T[J]):normalizeVNode(T[J]);_(w[J],Z,k,null,$,I,V,j,F)}M>X?ae(w,$,I,!0,!1,H):O(T,k,P,$,I,V,j,F,H)},le=(w,T,k,P,$,I,V,j,F)=>{let M=0;const X=T.length;let H=w.length-1,J=X-1;for(;M<=H&&M<=J;){const Z=w[M],ne=T[M]=F?cloneIfMounted(T[M]):normalizeVNode(T[M]);if(isSameVNodeType(Z,ne))_(Z,ne,k,null,$,I,V,j,F);else break;M++}for(;M<=H&&M<=J;){const Z=w[H],ne=T[J]=F?cloneIfMounted(T[J]):normalizeVNode(T[J]);if(isSameVNodeType(Z,ne))_(Z,ne,k,null,$,I,V,j,F);else break;H--,J--}if(M>H){if(M<=J){const Z=J+1,ne=Z<X?T[Z].el:P;for(;M<=J;)_(null,T[M]=F?cloneIfMounted(T[M]):normalizeVNode(T[M]),k,ne,$,I,V,j,F),M++}}else if(M>J)for(;M<=H;)oe(w[M],$,I,!0),M++;else{const Z=M,ne=M,ie=new Map;for(M=ne;M<=J;M++){const pe=T[M]=F?cloneIfMounted(T[M]):normalizeVNode(T[M]);pe.key!=null&&ie.set(pe.key,M)}let re,he=0;const de=J-ne+1;let me=!1,_e=0;const be=new Array(de);for(M=0;M<de;M++)be[M]=0;for(M=Z;M<=H;M++){const pe=w[M];if(he>=de){oe(pe,$,I,!0);continue}let ye;if(pe.key!=null)ye=ie.get(pe.key);else for(re=ne;re<=J;re++)if(be[re-ne]===0&&isSameVNodeType(pe,T[re])){ye=re;break}ye===void 0?oe(pe,$,I,!0):(be[ye-ne]=M+1,ye>=_e?_e=ye:me=!0,_(pe,T[ye],k,null,$,I,V,j,F),he++)}const ve=me?getSequence(be):EMPTY_ARR;for(re=ve.length-1,M=de-1;M>=0;M--){const pe=ne+M,ye=T[pe],we=T[pe+1],Se=pe+1<X?we.el||resolveAsyncComponentPlaceholder(we):P;be[M]===0?_(null,ye,k,Se,$,I,V,j,F):me&&(re<0||M!==ve[re]?ce(ye,k,Se,2):re--)}}},ce=(w,T,k,P,$=null)=>{const{el:I,type:V,transition:j,children:F,shapeFlag:M}=w;if(M&6){ce(w.component.subTree,T,k,P);return}if(M&128){w.suspense.move(T,k,P);return}if(M&64){V.move(w,T,k,Y);return}if(V===Fragment){n(I,T,k);for(let H=0;H<F.length;H++)ce(F[H],T,k,P);n(w.anchor,T,k);return}if(V===Static){S(w,T,k);return}if(P!==2&&M&1&&j)if(P===0)j.beforeEnter(I),n(I,T,k),queuePostRenderEffect(()=>j.enter(I),$);else{const{leave:H,delayLeave:J,afterLeave:Z}=j,ne=()=>{w.ctx.isUnmounted?r(I):n(I,T,k)},ie=()=>{I._isLeaving&&I[leaveCbKey](!0),H(I,()=>{ne(),Z&&Z()})};J?J(I,ne,ie):ie()}else n(I,T,k)},oe=(w,T,k,P=!1,$=!1)=>{const{type:I,props:V,ref:j,children:F,dynamicChildren:M,shapeFlag:X,patchFlag:H,dirs:J,cacheIndex:Z}=w;if(H===-2&&($=!1),j!=null&&(pauseTracking(),setRef(j,null,k,w,!0),resetTracking()),Z!=null&&(T.renderCache[Z]=void 0),X&256){T.ctx.deactivate(w);return}const ne=X&1&&J,ie=!isAsyncWrapper(w);let re;if(ie&&(re=V&&V.onVnodeBeforeUnmount)&&invokeVNodeHook(re,T,w),X&6)fe(w.component,k,P);else{if(X&128){w.suspense.unmount(k,P);return}ne&&invokeDirectiveHook(w,null,T,"beforeUnmount"),X&64?w.type.remove(w,T,k,Y,P):M&&!M.hasOnce&&(I!==Fragment||H>0&&H&64)?ae(M,T,k,!1,!0):(I===Fragment&&H&384||!$&&X&16)&&ae(F,T,k),P&&ge(w)}(ie&&(re=V&&V.onVnodeUnmounted)||ne)&&queuePostRenderEffect(()=>{re&&invokeVNodeHook(re,T,w),ne&&invokeDirectiveHook(w,null,T,"unmounted")},k)},ge=w=>{const{type:T,el:k,anchor:P,transition:$}=w;if(T===Fragment){ue(k,P);return}if(T===Static){E(w);return}const I=()=>{r(k),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(w.shapeFlag&1&&$&&!$.persisted){const{leave:V,delayLeave:j}=$,F=()=>V(k,I);j?j(w.el,I,F):F()}else I()},ue=(w,T)=>{let k;for(;w!==T;)k=f(w),r(w),w=k;r(T)},fe=(w,T,k)=>{const{bum:P,scope:$,job:I,subTree:V,um:j,m:F,a:M}=w;invalidateMount(F),invalidateMount(M),P&&invokeArrayFns(P),$.stop(),I&&(I.flags|=8,oe(V,w,T,k)),j&&queuePostRenderEffect(j,T),queuePostRenderEffect(()=>{w.isUnmounted=!0},T)},ae=(w,T,k,P=!1,$=!1,I=0)=>{for(let V=I;V<w.length;V++)oe(w[V],T,k,P,$)},D=w=>{if(w.shapeFlag&6)return D(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const T=f(w.anchor||w.el),k=T&&T[TeleportEndKey];return k?f(k):T};let z=!1;const U=(w,T,k)=>{let P;w==null?T._vnode&&(oe(T._vnode,null,null,!0),P=T._vnode.component):_(T._vnode||null,w,T,null,null,null,k),T._vnode=w,z||(z=!0,flushPreFlushCbs(P),flushPostFlushCbs(),z=!1)},Y={p:_,um:oe,m:ce,r:ge,mt:ee,mc:O,pc:Q,pbc:B,n:D,o:t};return{render:U,hydrate:void 0,createApp:createAppAPI(U)}}function resolveChildrenNamespace({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function toggleRecurse({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function needTransition(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(t,e,s=!1){const n=t.children,r=e.children;if(isArray$2(n)&&isArray$2(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=cloneIfMounted(r[i]),a.el=o.el),!s&&a.patchFlag!==-2&&traverseStaticChildren(o,a)),a.type===Text&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=i+(t.type===Fragment?1:0)),a.type===Comment&&!a.el&&(a.el=o.el)}}function getSequence(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(r=s[s.length-1],t[r]<c){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function locateNonHydratedAsyncRoot(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:locateNonHydratedAsyncRoot(e)}function invalidateMount(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function resolveAsyncComponentPlaceholder(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?resolveAsyncComponentPlaceholder(e.subTree):null}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,e){e&&e.pendingBranch?isArray$2(t)?e.effects.push(...t):e.effects.push(t):queuePostFlushCb(t)}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t,e=!1){isBlockTreeEnabled+=t,t<0&&currentBlock&&e&&(currentBlock.hasOnce=!0)}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,e,s,n,r,i){return setupBlock(createBaseVNode(t,e,s,n,r,i,!0))}function createBlock(t,e,s,n,r){return setupBlock(createVNode(t,e,s,n,r,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,e){return t.type===e.type&&t.key===e.key}const normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?isString(t)||isRef(t)||isFunction$1(t)?{i:currentRenderingInstance,r:t,k:e,f:!!s}:t:null);function createBaseVNode(t,e=null,s=null,n=0,r=null,i=t===Fragment?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return a?(normalizeChildren(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=isString(s)?8:16),isBlockTreeEnabled>0&&!o&&currentBlock&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&currentBlock.push(l),l}const createVNode=_createVNode;function _createVNode(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const a=cloneVNode(t,e,!0);return s&&normalizeChildren(a,s),isBlockTreeEnabled>0&&!i&&currentBlock&&(a.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=a:currentBlock.push(a)),a.patchFlag=-2,a}if(isClassComponent(t)&&(t=t.__vccOpts),e){e=guardReactiveProps(e);let{class:a,style:l}=e;a&&!isString(a)&&(e.class=normalizeClass(a)),isObject$2(l)&&(isProxy(l)&&!isArray$2(l)&&(l=extend({},l)),e.style=normalizeStyle(l))}const o=isString(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$2(t)?4:isFunction$1(t)?2:0;return createBaseVNode(t,e,s,n,r,o,i,!0)}function guardReactiveProps(t){return t?isProxy(t)||isInternalObject(t)?extend({},t):t:null}function cloneVNode(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?mergeProps(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:e&&e.ref?s&&i?isArray$2(i)?i.concat(normalizeRef(e)):[i,normalizeRef(e)]:normalizeRef(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Fragment?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&setTransitionHooks(u,l.clone(u)),u}function createTextVNode(t=" ",e=0){return createVNode(Text,null,t,e)}function createStaticVNode(t,e){const s=createVNode(Static,null,t);return s.staticCount=e,s}function createCommentVNode(t="",e=!1){return e?(openBlock(),createBlock(Comment,null,t)):createVNode(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$2(t)?createVNode(Fragment,null,t.slice()):isVNode(t)?cloneIfMounted(t):createVNode(Text,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(isArray$2(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),normalizeChildren(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!isInternalObject(e)?e._ctx=currentRenderingInstance:r===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else isFunction$1(e)?(e={default:e,_ctx:currentRenderingInstance},s=32):(e=String(e),n&64?(s=16,e=[createTextVNode(e)]):s=8);t.children=e,t.shapeFlag|=s}function mergeProps(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if(r==="style")e.style=normalizeStyle([e.style,n.style]);else if(isOn(r)){const i=e[r],o=n[r];o&&i!==o&&!(isArray$2(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function invokeVNodeHook(t,e,s,n=null){callWithAsyncErrorHandling(t,e,7,[s,n])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||emptyAppContext,i={uid:uid$2++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(n,r),emitsOptions:normalizeEmitsOptions(n,r),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:n.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=emit.bind(null,i),t.ce&&t.ce(i),i}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const t=getGlobalThis(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};internalSetCurrentInstance=e("__VUE_INSTANCE_SETTERS__",s=>currentInstance=s),setInSSRSetupState=e("__VUE_SSR_SETTERS__",s=>isInSSRComponentSetup=s)}const setCurrentInstance=t=>{const e=currentInstance;return internalSetCurrentInstance(t),t.scope.on(),()=>{t.scope.off(),internalSetCurrentInstance(e)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,e=!1,s=!1){e&&setInSSRSetupState(e);const{props:n,children:r}=t.vnode,i=isStatefulComponent(t);initProps(t,n,i,e),initSlots(t,r,s||e);const o=i?setupStatefulComponent(t,e):void 0;return e&&setInSSRSetupState(!1),o}function setupStatefulComponent(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,PublicInstanceProxyHandlers);const{setup:n}=s;if(n){pauseTracking();const r=t.setupContext=n.length>1?createSetupContext(t):null,i=setCurrentInstance(t),o=callWithErrorHandling(n,t,0,[t.props,r]),a=isPromise(o);if(resetTracking(),i(),(a||t.sp)&&!isAsyncWrapper(t)&&markAsyncBoundary(t),a){if(o.then(unsetCurrentInstance,unsetCurrentInstance),e)return o.then(l=>{handleSetupResult(t,l)}).catch(l=>{handleError$3(l,t,0)});t.asyncDep=o}else handleSetupResult(t,o)}else finishComponentSetup(t)}function handleSetupResult(t,e,s){isFunction$1(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:isObject$2(e)&&(t.setupState=proxyRefs(e)),finishComponentSetup(t)}function finishComponentSetup(t,e,s){const n=t.type;t.render||(t.render=n.render||NOOP);{const r=setCurrentInstance(t);pauseTracking();try{applyOptions(t)}finally{resetTracking(),r()}}}const attrsProxyHandlers={get(t,e){return track(t,"get",""),t[e]}};function createSetupContext(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,attrsProxyHandlers),slots:t.slots,emit:t.emit,expose:e}}function getComponentPublicInstance(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in publicPropertiesMap)return publicPropertiesMap[s](t)},has(e,s){return s in e||s in publicPropertiesMap}})):t.proxy}const classifyRE=/(?:^|[-_])\w/g,classify=t=>t.replace(classifyRE,e=>e.toUpperCase()).replace(/[-_]/g,"");function getComponentName(t,e=!0){return isFunction$1(t)?t.displayName||t.name:t.name||e&&t.__name}function formatComponentName(t,e,s=!1){let n=getComponentName(e);if(!n&&e.__file){const r=e.__file.match(/([^/\\]+)\.\w+$/);r&&(n=r[1])}if(!n&&t){const r=i=>{for(const o in i)if(i[o]===e)return o};n=r(t.components)||t.parent&&r(t.parent.type.components)||r(t.appContext.components)}return n?classify(n):s?"App":"Anonymous"}function isClassComponent(t){return isFunction$1(t)&&"__vccOpts"in t}const computed=(t,e)=>computed$1(t,e,isInSSRComponentSetup);function h(t,e,s){try{setBlockTracking(-1);const n=arguments.length;return n===2?isObject$2(e)&&!isArray$2(e)?isVNode(e)?createVNode(t,null,[e]):createVNode(t,e):createVNode(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&isVNode(s)&&(s=[s]),createVNode(t,e,s))}finally{setBlockTracking(1)}}const version$5="3.5.26";let policy;const tt=typeof window<"u"&&window.trustedTypes;if(tt)try{policy=tt.createPolicy("vue",{createHTML:t=>t})}catch{}const unsafeToTrustedHTML=policy?t=>policy.createHTML(t):t=>t,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?doc.createElementNS(svgNS,t):e==="mathml"?doc.createElementNS(mathmlNS,t):s?doc.createElement(t,{is:s}):doc.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=templateContainer.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=t=>(t.displayName="Transition",t.props=TransitionPropsValidators,t),Transition=decorate$1((t,{slots:e})=>h(BaseTransition,resolveTransitionProps(t),e)),callHook=(t,e=[])=>{isArray$2(t)?t.forEach(s=>s(...e)):t&&t(...e)},hasExplicitCallback=t=>t?isArray$2(t)?t.some(e=>e.length>1):t.length>1:!1;function resolveTransitionProps(t){const e={};for(const N in t)N in DOMTransitionPropsValidators||(e[N]=t[N]);if(t.css===!1)return e;const{name:s="v",type:n,duration:r,enterFromClass:i=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:g=`${s}-leave-to`}=t,m=normalizeDuration(r),_=m&&m[0],y=m&&m[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:S,onLeave:E,onLeaveCancelled:A,onBeforeAppear:C=b,onAppear:R=v,onAppearCancelled:O=S}=e,x=(N,K,ee,G)=>{N._enterCancelled=G,removeTransitionClass(N,K?u:a),removeTransitionClass(N,K?c:o),ee&&ee()},B=(N,K)=>{N._isLeaving=!1,removeTransitionClass(N,d),removeTransitionClass(N,g),removeTransitionClass(N,f),K&&K()},L=N=>(K,ee)=>{const G=N?R:v,q=()=>x(K,N,ee);callHook(G,[K,q]),nextFrame(()=>{removeTransitionClass(K,N?l:i),addTransitionClass(K,N?u:a),hasExplicitCallback(G)||whenTransitionEnds(K,n,_,q)})};return extend(e,{onBeforeEnter(N){callHook(b,[N]),addTransitionClass(N,i),addTransitionClass(N,o)},onBeforeAppear(N){callHook(C,[N]),addTransitionClass(N,l),addTransitionClass(N,c)},onEnter:L(!1),onAppear:L(!0),onLeave(N,K){N._isLeaving=!0;const ee=()=>B(N,K);addTransitionClass(N,d),N._enterCancelled?(addTransitionClass(N,f),forceReflow(N)):(forceReflow(N),addTransitionClass(N,f)),nextFrame(()=>{N._isLeaving&&(removeTransitionClass(N,d),addTransitionClass(N,g),hasExplicitCallback(E)||whenTransitionEnds(N,n,y,ee))}),callHook(E,[N,ee])},onEnterCancelled(N){x(N,!1,void 0,!0),callHook(S,[N])},onAppearCancelled(N){x(N,!0,void 0,!0),callHook(O,[N])},onLeaveCancelled(N){B(N),callHook(A,[N])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$2(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const e=NumberOf(t);return[e,e]}}function NumberOf(t){return toNumber$1(t)}function addTransitionClass(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[vtcKey]||(t[vtcKey]=new Set)).add(e)}function removeTransitionClass(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[vtcKey];s&&(s.delete(e),s.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,e,s,n){const r=t._endId=++endId,i=()=>{r===t._endId&&n()};if(s!=null)return setTimeout(i,s);const{type:o,timeout:a,propCount:l}=getTransitionInfo(t,e);if(!o)return n();const c=o+"end";let u=0;const d=()=>{t.removeEventListener(c,f),i()},f=g=>{g.target===t&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),t.addEventListener(c,f)}function getTransitionInfo(t,e){const s=window.getComputedStyle(t),n=m=>(s[m]||"").split(", "),r=n(`${TRANSITION}Delay`),i=n(`${TRANSITION}Duration`),o=getTimeout(r,i),a=n(`${ANIMATION}Delay`),l=n(`${ANIMATION}Duration`),c=getTimeout(a,l);let u=null,d=0,f=0;e===TRANSITION?o>0&&(u=TRANSITION,d=o,f=i.length):e===ANIMATION?c>0&&(u=ANIMATION,d=c,f=l.length):(d=Math.max(o,c),u=d>0?o>c?TRANSITION:ANIMATION:null,f=u?u===TRANSITION?i.length:l.length:0);const g=u===TRANSITION&&/\b(?:transform|all)(?:,|$)/.test(n(`${TRANSITION}Property`).toString());return{type:u,timeout:d,propCount:f,hasTransform:g}}function getTimeout(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>toMs(s)+toMs(t[n])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(t){return(t?t.ownerDocument:document).body.offsetHeight}function patchClass(t,e,s){const n=t[vtcKey];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={name:"show",beforeMount(t,{value:e},{transition:s}){t[vShowOriginalDisplay]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):setDisplay(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),setDisplay(t,!0),n.enter(t)):n.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,e))},beforeUnmount(t,{value:e}){setDisplay(t,e)}};function setDisplay(t,e){t.style.display=e?t[vShowOriginalDisplay]:"none",t[vShowHidden]=!e}const CSS_VAR_TEXT=Symbol(""),displayRE=/(?:^|;)\s*display\s*:/;function patchStyle(t,e,s){const n=t.style,r=isString(s);let i=!1;if(s&&!r){if(e)if(isString(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&setStyle(n,a,"")}else for(const o in e)s[o]==null&&setStyle(n,o,"");for(const o in s)o==="display"&&(i=!0),setStyle(n,o,s[o])}else if(r){if(e!==s){const o=n[CSS_VAR_TEXT];o&&(s+=";"+o),n.cssText=s,i=displayRE.test(s)}}else e&&t.removeAttribute("style");vShowOriginalDisplay in t&&(t[vShowOriginalDisplay]=i?n.display:"",t[vShowHidden]&&(n.display="none"))}const importantRE=/\s*!important$/;function setStyle(t,e,s){if(isArray$2(s))s.forEach(n=>setStyle(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=autoPrefix(t,e);importantRE.test(s)?t.setProperty(hyphenate(n),s.replace(importantRE,""),"important"):t[n]=s}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,e){const s=prefixCache[e];if(s)return s;let n=camelize(e);if(n!=="filter"&&n in t)return prefixCache[e]=n;n=capitalize(n);for(let r=0;r<prefixes.length;r++){const i=prefixes[r]+n;if(i in t)return prefixCache[e]=i}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,e,s,n,r,i=isSpecialBooleanAttr(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(xlinkNS,e.slice(6,e.length)):t.setAttributeNS(xlinkNS,e,s):s==null||i&&!includeBooleanAttr(s)?t.removeAttribute(e):t.setAttribute(e,i?"":isSymbol(s)?String(s):s)}function patchDOMProp(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?unsafeToTrustedHTML(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=includeBooleanAttr(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function addEventListener(t,e,s,n){t.addEventListener(e,s,n)}function removeEventListener(t,e,s,n){t.removeEventListener(e,s,n)}const veiKey=Symbol("_vei");function patchEvent(t,e,s,n,r=null){const i=t[veiKey]||(t[veiKey]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=parseName(e);if(n){const c=i[e]=createInvoker(n,r);addEventListener(t,a,c,l)}else o&&(removeEventListener(t,a,o,l),i[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let e;if(optionsModifierRE.test(t)){e={};let n;for(;n=t.match(optionsModifierRE);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(n,s.value),e,5,[n])};return s.value=t,s.attached=getNow(),s}function patchStopImmediatePropagation(t,e){if(isArray$2(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const isNativeOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,patchProp=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?patchClass(t,n,o):e==="style"?patchStyle(t,s,n):isOn(e)?isModelListener(e)||patchEvent(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(t,e,n,o))?(patchDOMProp(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&patchAttr(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!isString(n))?patchDOMProp(t,camelize(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),patchAttr(t,e,n,o))};function shouldSetAsProp(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&isNativeOn(e)&&isFunction$1(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return isNativeOn(e)&&isString(s)?!1:e in t}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=((...t)=>{const e=ensureRenderer().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=normalizeContainer(n);if(!r)return;const i=e._component;!isFunction$1(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,resolveRootNamespace(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e});function resolveRootNamespace(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function normalizeContainer(t){return isString(t)?document.querySelector(t):t}let activePinia;const setActivePinia=t=>activePinia=t,piniaSymbol=Symbol();function isPlainObject$2(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),e=t.run(()=>ref({}));let s=[],n=[];const r=markRaw({install(i){setActivePinia(r),r._a=i,i.provide(piniaSymbol,r),i.config.globalProperties.$pinia=r,n.forEach(o=>s.push(o)),n=[]},use(i){return this._a?s.push(i):n.push(i),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return r}const noop$5=()=>{};function addSubscription(t,e,s,n=noop$5){t.push(e);const r=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!s&&getCurrentScope()&&onScopeDispose(r),r}function triggerSubscriptions(t,...e){t.slice().forEach(s=>{s(...e)})}const fallbackRunWithContext=t=>t(),ACTION_MARKER=Symbol(),ACTION_NAME=Symbol();function mergeReactiveObjects(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],r=t[s];isPlainObject$2(r)&&isPlainObject$2(n)&&t.hasOwnProperty(s)&&!isRef(n)&&!isReactive(n)?t[s]=mergeReactiveObjects(r,n):t[s]=n}return t}const skipHydrateSymbol=Symbol();function shouldHydrate(t){return!isPlainObject$2(t)||!t.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$1}=Object;function isComputed(t){return!!(isRef(t)&&t.effect)}function createOptionsStore(t,e,s,n){const{state:r,actions:i,getters:o}=e,a=s.state.value[t];let l;function c(){a||(s.state.value[t]=r?r():{});const u=toRefs(s.state.value[t]);return assign$1(u,i,Object.keys(o||{}).reduce((d,f)=>(d[f]=markRaw(computed(()=>{setActivePinia(s);const g=s._s.get(t);return o[f].call(g,g)})),d),{}))}return l=createSetupStore(t,c,e,s,n,!0),l}function createSetupStore(t,e,s={},n,r,i){let o;const a=assign$1({actions:{}},s),l={deep:!0};let c,u,d=[],f=[],g;const m=n.state.value[t];!i&&!m&&(n.state.value[t]={}),ref({});let _;function y(O){let x;c=u=!1,typeof O=="function"?(O(n.state.value[t]),x={type:MutationType.patchFunction,storeId:t,events:g}):(mergeReactiveObjects(n.state.value[t],O),x={type:MutationType.patchObject,payload:O,storeId:t,events:g});const B=_=Symbol();nextTick().then(()=>{_===B&&(c=!0)}),u=!0,triggerSubscriptions(d,x,n.state.value[t])}const b=i?function(){const{state:x}=s,B=x?x():{};this.$patch(L=>{assign$1(L,B)})}:noop$5;function v(){o.stop(),d=[],f=[],n._s.delete(t)}const S=(O,x="")=>{if(ACTION_MARKER in O)return O[ACTION_NAME]=x,O;const B=function(){setActivePinia(n);const L=Array.from(arguments),N=[],K=[];function ee(W){N.push(W)}function G(W){K.push(W)}triggerSubscriptions(f,{args:L,name:B[ACTION_NAME],store:A,after:ee,onError:G});let q;try{q=O.apply(this&&this.$id===t?this:A,L)}catch(W){throw triggerSubscriptions(K,W),W}return q instanceof Promise?q.then(W=>(triggerSubscriptions(N,W),W)).catch(W=>(triggerSubscriptions(K,W),Promise.reject(W))):(triggerSubscriptions(N,q),q)};return B[ACTION_MARKER]=!0,B[ACTION_NAME]=x,B},E={_p:n,$id:t,$onAction:addSubscription.bind(null,f),$patch:y,$reset:b,$subscribe(O,x={}){const B=addSubscription(d,O,x.detached,()=>L()),L=o.run(()=>watch(()=>n.state.value[t],N=>{(x.flush==="sync"?u:c)&&O({storeId:t,type:MutationType.direct,events:g},N)},assign$1({},l,x)));return B},$dispose:v},A=reactive(E);n._s.set(t,A);const R=(n._a&&n._a.runWithContext||fallbackRunWithContext)(()=>n._e.run(()=>(o=effectScope()).run(()=>e({action:S}))));for(const O in R){const x=R[O];if(isRef(x)&&!isComputed(x)||isReactive(x))i||(m&&shouldHydrate(x)&&(isRef(x)?x.value=m[O]:mergeReactiveObjects(x,m[O])),n.state.value[t][O]=x);else if(typeof x=="function"){const B=S(x,O);R[O]=B,a.actions[O]=x}}return assign$1(A,R),assign$1(toRaw(A),R),Object.defineProperty(A,"$state",{get:()=>n.state.value[t],set:O=>{y(x=>{assign$1(x,O)})}}),n._p.forEach(O=>{assign$1(A,o.run(()=>O({store:A,app:n._a,pinia:n,options:a})))}),m&&i&&s.hydrate&&s.hydrate(A.$state,m),c=!0,u=!0,A}function defineStore(t,e,s){let n,r;const i=typeof e=="function";typeof t=="string"?(n=t,r=i?s:e):(r=t,n=t.id);function o(a,l){const c=hasInjectionContext();return a=a||(c?inject(piniaSymbol,null):null),a&&setActivePinia(a),a=activePinia,a._s.has(n)||(i?createSetupStore(n,e,r,a):createOptionsStore(n,r,a)),a._s.get(n)}return o.$id=n,o}const useAppStore=defineStore("app",()=>{const t=ref([]);function e(n,r){const i=Date.now();t.value.push({id:i,message:n,type:r}),setTimeout(()=>{s(i)},5e3)}function s(n){t.value=t.value.filter(r=>r.id!==n)}return{notifications:t,addNotification:e,removeNotification:s}}),_hoisted_1$D={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},_sfc_main$E=defineComponent({__name:"CrossIcon",props:{title:{type:String,default:"Cross"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$D,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M5.293 6.707l5.293 5.293-5.293 5.293c-0.391 0.391-0.391 1.024 0 1.414s1.024 0.391 1.414 0l5.293-5.293 5.293 5.293c0.391 0.391 1.024 0.391 1.414 0s0.391-1.024 0-1.414l-5.293-5.293 5.293-5.293c0.391-0.391 0.391-1.024 0-1.414s-1.024-0.391-1.414 0l-5.293 5.293-5.293-5.293c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414z"},null,-1))]))}}),_hoisted_1$C={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},_sfc_main$D=defineComponent({__name:"CheckCircled",props:{title:{type:String,default:"Check Circled"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$C,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M21 11.080v0.92c-0.001 2.485-1.009 4.733-2.64 6.362s-3.88 2.634-6.365 2.632-4.734-1.009-6.362-2.64-2.634-3.879-2.633-6.365 1.009-4.733 2.64-6.362 3.88-2.634 6.365-2.633c1.33 0.001 2.586 0.289 3.649 0.775 0.502 0.23 1.096 0.008 1.325-0.494s0.008-1.096-0.494-1.325c-1.327-0.606-2.866-0.955-4.479-0.956-3.037-0.002-5.789 1.229-7.78 3.217s-3.224 4.74-3.226 7.777 1.229 5.789 3.217 7.78 4.739 3.225 7.776 3.226 5.789-1.229 7.78-3.217 3.225-4.739 3.227-7.777v-0.92c0-0.552-0.448-1-1-1s-1 0.448-1 1zM21.293 3.293l-9.293 9.302-2.293-2.292c-0.391-0.391-1.024-0.391-1.414 0s-0.391 1.024 0 1.414l3 3c0.391 0.391 1.024 0.39 1.415 0l10-10.010c0.39-0.391 0.39-1.024-0.001-1.414s-1.024-0.39-1.414 0.001z"},null,-1))]))}}),_hoisted_1$B={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},_sfc_main$C=defineComponent({__name:"InfoCircled",props:{title:{type:String,default:"Info Circle"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$B,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M23 12c0-3.037-1.232-5.789-3.222-7.778s-4.741-3.222-7.778-3.222-5.789 1.232-7.778 3.222-3.222 4.741-3.222 7.778 1.232 5.789 3.222 7.778 4.741 3.222 7.778 3.222 5.789-1.232 7.778-3.222 3.222-4.741 3.222-7.778zM21 12c0 2.486-1.006 4.734-2.636 6.364s-3.878 2.636-6.364 2.636-4.734-1.006-6.364-2.636-2.636-3.878-2.636-6.364 1.006-4.734 2.636-6.364 3.878-2.636 6.364-2.636 4.734 1.006 6.364 2.636 2.636 3.878 2.636 6.364zM11 8v4c0 0.552 0.448 1 1 1s1-0.448 1-1v-4c0-0.552-0.448-1-1-1s-1 0.448-1 1zM12 17c0.552 0 1-0.448 1-1s-0.448-1-1-1-1 0.448-1 1 0.448 1 1 1z"},null,-1))]))}}),_hoisted_1$A={class:"notification-wrapper"},_hoisted_2$a={class:"notification-card-text"},_sfc_main$B=defineComponent({__name:"NotificationContainer",setup(t){const e=useAppStore(),s=computed(()=>e.notifications);function n(i){e.removeNotification(i)}const r=i=>i==="success"?_sfc_main$D:_sfc_main$C;return(i,o)=>(openBlock(),createElementBlock("div",_hoisted_1$A,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.value,(a,l)=>(openBlock(),createElementBlock("div",{key:`notification-${l}`,class:normalizeClass(["notification-card",a.type])},[(openBlock(),createBlock(resolveDynamicComponent(r(a.type)),{title:"",class:"notification-card-icon"})),createBaseVNode("span",_hoisted_2$a,toDisplayString(a.message),1),createVNode(_sfc_main$E,{title:"cancel",class:"notification-card-close-icon",onClick:c=>n(a.id)},null,8,["onClick"])],2))),128))]))}}),_export_sfc=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},NotificationContainer=_export_sfc(_sfc_main$B,[["__scopeId","data-v-8f098cf3"]]),_sfc_main$A=defineComponent({__name:"App",setup(t){return(e,s)=>{const n=resolveComponent("RouterView");return openBlock(),createElementBlock(Fragment,null,[createVNode(n),createVNode(NotificationContainer)],64)}}}),scriptRel="modulepreload",assetsURL=function(t){return"/Budgety-New/"+t},seen={},__vitePreload=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");r=l(s.map(c=>{if(c=assetsURL(c),c in seen)return;seen[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":scriptRel,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((g,m)=>{f.addEventListener("load",g),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};const isBrowser$1=typeof document<"u";function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&isRouteComponent(t.default)}const assign=Object.assign;function applyToParams(t,e){const s={};for(const n in e){const r=e[n];s[n]=isArray$1(r)?r.map(t):t(r)}return s}const noop$4=()=>{},isArray$1=Array.isArray;function mergeOptions(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return t==null?"":encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return encodePath(t).replace(SLASH_RE,"%2F")}function decode(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,a>0?a:e.length),r=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=resolveRelativePath(n??e,s),{fullPath:n+i+o,path:n,query:r,hash:decode(o)}}function stringifyURL(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function stripBase(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function isSameRouteLocation(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&isSameRouteRecord(e.matched[n],s.matched[r])&&isSameRouteLocationParams(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function isSameRouteRecord(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function isSameRouteLocationParams(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var s in t)if(!isSameRouteLocationParamsValue(t[s],e[s]))return!1;return!0}function isSameRouteLocationParamsValue(t,e){return isArray$1(t)?isEquivalentArray(t,e):isArray$1(e)?isEquivalentArray(e,t):t?.valueOf()===e?.valueOf()}function isEquivalentArray(t,e){return isArray$1(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function resolveRelativePath(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let NavigationType=(function(t){return t.pop="pop",t.push="push",t})({}),NavigationDirection=(function(t){return t.back="back",t.forward="forward",t.unknown="",t})({});function normalizeBase(t){if(!t)if(isBrowser$1){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,e){return t.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=getElementPosition(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function getScrollKey(t,e){return(history.state?history.state.position-e:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,e){scrollPositions.set(t,e)}function getSavedScrollPosition(t){const e=scrollPositions.get(t);return scrollPositions.delete(t),e}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}let ErrorTypes=(function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t})({});const NavigationFailureSymbol=Symbol("");ErrorTypes.MATCHER_NOT_FOUND+"",ErrorTypes.NAVIGATION_GUARD_REDIRECT+"",ErrorTypes.NAVIGATION_ABORTED+"",ErrorTypes.NAVIGATION_CANCELLED+"",ErrorTypes.NAVIGATION_DUPLICATED+"";function createRouterError(t,e){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(t,e){return t instanceof Error&&NavigationFailureSymbol in t&&(e==null||!!(t.type&e))}const propertiesToLog=["params","query","hash"];function stringifyRoute(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of propertiesToLog)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function parseQuery(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const r=s[n].replace(PLUS_RE," "),i=r.indexOf("="),o=decode(i<0?r:r.slice(0,i)),a=i<0?null:decode(r.slice(i+1));if(o in e){let l=e[o];isArray$1(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function stringifyQuery(t){let e="";for(let s in t){const n=t[s];if(s=encodeQueryKey(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(isArray$1(n)?n.map(r=>r&&encodeQueryValue(r)):[n&&encodeQueryValue(n)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+s,r!=null&&(e+="="+r))})}return e}function normalizeQuery(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=isArray$1(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function guardToPromiseFn(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(createRouterError(ErrorTypes.NAVIGATION_ABORTED,{from:s,to:e})):f instanceof Error?l(f):isRouteLocation(f)?l(createRouterError(ErrorTypes.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&n.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>t.call(n&&n.instances[r],e,s,c));let d=Promise.resolve(u);t.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function extractComponentsGuards(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(isRouteComponent(l)){const c=(l.__vccOpts||l)[e];c&&i.push(guardToPromiseFn(c,s,n,o,a,r))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=isESModule(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const f=(d.__vccOpts||d)[e];return f&&guardToPromiseFn(f,s,n,o,a,r)()}))}}return i}function extractChangingRecords(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>isSameRouteRecord(c,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>isSameRouteRecord(c,l))||r.push(l))}return[s,n,r]}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let o=r.includes(t.slice(i))?t.slice(i).length:1,a=r.slice(o);return a[0]!=="/"&&(a="/"+a),stripBase(a,"")}return stripBase(s,t)+n+r}function useHistoryListeners(t,e,s,n){let r=[],i=[],o=null;const a=({state:f})=>{const g=createCurrentLocation(t,location),m=s.value,_=e.value;let y=0;if(f){if(s.value=g,e.value=f,o&&o===m){o=null;return}y=_?f.position-_.position:0}else n(g);r.forEach(b=>{b(s.value,m,{delta:y,type:NavigationType.pop,direction:y?y>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function l(){o=s.value}function c(f){r.push(f);const g=()=>{const m=r.indexOf(f);m>-1&&r.splice(m,1)};return i.push(g),g}function u(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(assign({},f.state,{scroll:computeScrollPosition()}),"")}}function d(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function buildState(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:e,location:s}=window,n={value:createCurrentLocation(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=t.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?t:t.slice(d))+l:createBaseLocation()+t+l;try{e[u?"replaceState":"pushState"](c,"",f),r.value=c}catch(g){console.error(g),s[u?"replace":"assign"](f)}}function o(l,c){i(l,assign({},e.state,buildState(r.value.back,l,r.value.forward,!0),c,{position:r.value.position}),!0),n.value=l}function a(l,c){const u=assign({},r.value,e.state,{forward:l,scroll:computeScrollPosition()});i(u.current,u,!0),i(l,assign({},buildState(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function createWebHistory(t){t=normalizeBase(t);const e=useHistoryStateNavigation(t),s=useHistoryListeners(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=assign({location:"",base:t,go:n,createHref:createHref.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function createWebHashHistory(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),createWebHistory(t)}let TokenType=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t})({});var TokenizerState=(function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t})(TokenizerState||{});const ROOT_TOKEN={type:TokenType.Static,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${c}": ${g}`)}let s=TokenizerState.Static,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(s===TokenizerState.Static?i.push({type:TokenType.Static,value:c}):s===TokenizerState.Param||s===TokenizerState.ParamRegExp||s===TokenizerState.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:TokenType.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==TokenizerState.ParamRegExp){n=s,s=TokenizerState.EscapeNext;continue}switch(s){case TokenizerState.Static:l==="/"?(c&&d(),o()):l===":"?(d(),s=TokenizerState.Param):f();break;case TokenizerState.EscapeNext:f(),s=n;break;case TokenizerState.Param:l==="("?s=TokenizerState.ParamRegExp:VALID_PARAM_RE.test(l)?f():(d(),s=TokenizerState.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case TokenizerState.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=TokenizerState.ParamRegExpEnd:u+=l;break;case TokenizerState.ParamRegExpEnd:d(),s=TokenizerState.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===TokenizerState.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),r}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0};var PathScore=(function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t})(PathScore||{});const REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,e){const s=assign({},BASE_PATH_PARSER_OPTIONS,e),n=[];let r=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[PathScore.Root];s.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const f=c[d];let g=PathScore.Segment+(s.sensitive?PathScore.BonusCaseSensitive:0);if(f.type===TokenType.Static)d||(r+="/"),r+=f.value.replace(REGEX_CHARS_RE,"\\$&"),g+=PathScore.Static;else if(f.type===TokenType.Param){const{value:m,repeatable:_,optional:y,regexp:b}=f;i.push({name:m,repeatable:_,optional:y});const v=b||BASE_PARAM_PATTERN;if(v!==BASE_PARAM_PATTERN){g+=PathScore.BonusCustomRegExp;try{`${v}`}catch(E){throw new Error(`Invalid custom RegExp for param "${m}" (${v}): `+E.message)}}let S=_?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(S=y&&c.length<2?`(?:/${S})`:"/"+S),y&&(S+="?"),r+=S,g+=PathScore.Dynamic,y&&(g+=PathScore.BonusOptional),_&&(g+=PathScore.BonusRepeatable),v===".*"&&(g+=PathScore.BonusWildcard)}u.push(g)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=PathScore.BonusStrict}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",m=i[f-1];d[m.name]=g&&m.repeatable?g.split("/"):g}return d}function l(c){let u="",d=!1;for(const f of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const g of f)if(g.type===TokenType.Static)u+=g.value;else if(g.type===TokenType.Param){const{value:m,repeatable:_,optional:y}=g,b=m in c?c[m]:"";if(isArray$1(b)&&!_)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const v=isArray$1(b)?b.join("/"):b;if(!v)if(y)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${m}"`);u+=v}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function compareScoreArray(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===PathScore.Static+PathScore.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===PathScore.Static+PathScore.Segment?1:-1:0}function comparePathParserScore(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=compareScoreArray(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(isLastScoreNegative(n))return 1;if(isLastScoreNegative(r))return-1}return r.length-n.length}function isLastScoreNegative(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const PATH_PARSER_OPTIONS_DEFAULTS={strict:!1,end:!0,sensitive:!1};function createRouteRecordMatcher(t,e,s){const n=tokensToParser(tokenizePath(t.path),s),r=assign(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function createRouterMatcher(t,e){const s=[],n=new Map;e=mergeOptions(PATH_PARSER_OPTIONS_DEFAULTS,e);function r(d){return n.get(d)}function i(d,f,g){const m=!g,_=normalizeRouteRecord(d);_.aliasOf=g&&g.record;const y=mergeOptions(e,d),b=[_];if("alias"in d){const E=typeof d.alias=="string"?[d.alias]:d.alias;for(const A of E)b.push(normalizeRouteRecord(assign({},_,{components:g?g.record.components:_.components,path:A,aliasOf:g?g.record:_})))}let v,S;for(const E of b){const{path:A}=E;if(f&&A[0]!=="/"){const C=f.record.path,R=C[C.length-1]==="/"?"":"/";E.path=f.record.path+(A&&R+A)}if(v=createRouteRecordMatcher(E,f,y),g?g.alias.push(v):(S=S||v,S!==v&&S.alias.push(v),m&&d.name&&!isAliasRecord(v)&&o(d.name)),isMatchable(v)&&l(v),_.children){const C=_.children;for(let R=0;R<C.length;R++)i(C[R],v,g&&g.children[R])}g=g||v}return S?()=>{o(S)}:noop$4}function o(d){if(isRouteName(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return s}function l(d){const f=findInsertionIndex(d,s);s.splice(f,0,d),d.record.name&&!isAliasRecord(d)&&n.set(d.record.name,d)}function c(d,f){let g,m={},_,y;if("name"in d&&d.name){if(g=n.get(d.name),!g)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:d});y=g.record.name,m=assign(pickParams(f.params,g.keys.filter(S=>!S.optional).concat(g.parent?g.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&pickParams(d.params,g.keys.map(S=>S.name))),_=g.stringify(m)}else if(d.path!=null)_=d.path,g=s.find(S=>S.re.test(_)),g&&(m=g.parse(_),y=g.record.name);else{if(g=f.name?n.get(f.name):s.find(S=>S.re.test(f.path)),!g)throw createRouterError(ErrorTypes.MATCHER_NOT_FOUND,{location:d,currentLocation:f});y=g.record.name,m=assign({},f.params,d.params),_=g.stringify(m)}const b=[];let v=g;for(;v;)b.unshift(v.record),v=v.parent;return{name:y,path:_,params:m,matched:b,meta:mergeMetaFields(b)}}t.forEach(d=>i(d));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function pickParams(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function normalizeRouteRecord(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function normalizeRecordProps(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((e,s)=>assign(e,s.meta),{})}function findInsertionIndex(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;comparePathParserScore(t,e[i])<0?n=i:s=i+1}const r=getInsertionAncestor(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function getInsertionAncestor(t){let e=t;for(;e=e.parent;)if(isMatchable(e)&&comparePathParserScore(t,e)===0)return e}function isMatchable({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function useLink(t){const e=inject(routerKey),s=inject(routeLocationKey),n=computed(()=>{const l=unref(t.to);return e.resolve(l)}),r=computed(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const f=d.findIndex(isSameRouteRecord.bind(null,u));if(f>-1)return f;const g=getOriginalPath(l[c-2]);return c>1&&getOriginalPath(u)===g&&d[d.length-1].path!==g?d.findIndex(isSameRouteRecord.bind(null,l[c-2])):f}),i=computed(()=>r.value>-1&&includesParams(s.params,n.value.params)),o=computed(()=>r.value>-1&&r.value===s.matched.length-1&&isSameRouteLocationParams(s.params,n.value.params));function a(l={}){if(guardEvent(l)){const c=e[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop$4);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:computed(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function preferSingleVNode(t){return t.length===1?t[0]:t}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(t,{slots:e}){const s=reactive(useLink(t)),{options:n}=inject(routerKey),r=computed(()=>({[getLinkClass(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[getLinkClass(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&preferSingleVNode(e.default(s));return t.custom?i:h("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!isArray$1(r)||r.length!==n.length||n.some((i,o)=>i.valueOf()!==r[o].valueOf()))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,e,s)=>t??e??s,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=inject(routerViewLocationKey),r=computed(()=>t.route||n.value),i=inject(viewDepthKey,0),o=computed(()=>{let c=unref(i);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=computed(()=>r.value.matched[o.value]);provide(viewDepthKey,computed(()=>o.value+1)),provide(matchedRouteKey,a),provide(routerViewLocationKey,r);const l=ref();return watch(()=>[l.value,a.value,t.name],([c,u,d],[f,g,m])=>{u&&(u.instances[d]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!isSameRouteRecord(u,g)||!f)&&(u.enterCallbacks[d]||[]).forEach(_=>_(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,d=a.value,f=d&&d.components[u];if(!f)return normalizeSlot(s.default,{Component:f,route:c});const g=d.props[u],m=g?g===!0?c.params:typeof g=="function"?g(c):g:null,y=h(f,assign({},m,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return normalizeSlot(s.default,{Component:y,route:c})||y}}});function normalizeSlot(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const RouterView=RouterViewImpl;function createRouter(t){const e=createRouterMatcher(t.routes,t),s=t.parseQuery||parseQuery,n=t.stringifyQuery||stringifyQuery,r=t.history,i=useCallbacks(),o=useCallbacks(),a=useCallbacks(),l=shallowRef(START_LOCATION_NORMALIZED);let c=START_LOCATION_NORMALIZED;isBrowser$1&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=applyToParams.bind(null,D=>""+D),d=applyToParams.bind(null,encodeParam),f=applyToParams.bind(null,decode);function g(D,z){let U,Y;return isRouteName(D)?(U=e.getRecordMatcher(D),Y=z):Y=D,e.addRoute(Y,U)}function m(D){const z=e.getRecordMatcher(D);z&&e.removeRoute(z)}function _(){return e.getRoutes().map(D=>D.record)}function y(D){return!!e.getRecordMatcher(D)}function b(D,z){if(z=assign({},z||l.value),typeof D=="string"){const k=parseURL(s,D,z.path),P=e.resolve({path:k.path},z),$=r.createHref(k.fullPath);return assign(k,P,{params:f(P.params),hash:decode(k.hash),redirectedFrom:void 0,href:$})}let U;if(D.path!=null)U=assign({},D,{path:parseURL(s,D.path,z.path).path});else{const k=assign({},D.params);for(const P in k)k[P]==null&&delete k[P];U=assign({},D,{params:d(k)}),z.params=d(z.params)}const Y=e.resolve(U,z),se=D.hash||"";Y.params=u(f(Y.params));const w=stringifyURL(n,assign({},D,{hash:encodeHash(se),path:Y.path})),T=r.createHref(w);return assign({fullPath:w,hash:se,query:n===stringifyQuery?normalizeQuery(D.query):D.query||{}},Y,{redirectedFrom:void 0,href:T})}function v(D){return typeof D=="string"?parseURL(s,D,l.value.path):assign({},D)}function S(D,z){if(c!==D)return createRouterError(ErrorTypes.NAVIGATION_CANCELLED,{from:z,to:D})}function E(D){return R(D)}function A(D){return E(assign(v(D),{replace:!0}))}function C(D,z){const U=D.matched[D.matched.length-1];if(U&&U.redirect){const{redirect:Y}=U;let se=typeof Y=="function"?Y(D,z):Y;return typeof se=="string"&&(se=se.includes("?")||se.includes("#")?se=v(se):{path:se},se.params={}),assign({query:D.query,hash:D.hash,params:se.path!=null?{}:D.params},se)}}function R(D,z){const U=c=b(D),Y=l.value,se=D.state,w=D.force,T=D.replace===!0,k=C(U,Y);if(k)return R(assign(v(k),{state:typeof k=="object"?assign({},se,k.state):se,force:w,replace:T}),z||U);const P=U;P.redirectedFrom=z;let $;return!w&&isSameRouteLocation(n,Y,U)&&($=createRouterError(ErrorTypes.NAVIGATION_DUPLICATED,{to:P,from:Y}),ce(Y,Y,!0,!1)),($?Promise.resolve($):B(P,Y)).catch(I=>isNavigationFailure(I)?isNavigationFailure(I,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?I:le(I):Q(I,P,Y)).then(I=>{if(I){if(isNavigationFailure(I,ErrorTypes.NAVIGATION_GUARD_REDIRECT))return R(assign({replace:T},v(I.to),{state:typeof I.to=="object"?assign({},se,I.to.state):se,force:w}),z||P)}else I=N(P,Y,!0,T,se);return L(P,Y,I),I})}function O(D,z){const U=S(D,z);return U?Promise.reject(U):Promise.resolve()}function x(D){const z=ue.values().next().value;return z&&typeof z.runWithContext=="function"?z.runWithContext(D):D()}function B(D,z){let U;const[Y,se,w]=extractChangingRecords(D,z);U=extractComponentsGuards(Y.reverse(),"beforeRouteLeave",D,z);for(const k of Y)k.leaveGuards.forEach(P=>{U.push(guardToPromiseFn(P,D,z))});const T=O.bind(null,D,z);return U.push(T),ae(U).then(()=>{U=[];for(const k of i.list())U.push(guardToPromiseFn(k,D,z));return U.push(T),ae(U)}).then(()=>{U=extractComponentsGuards(se,"beforeRouteUpdate",D,z);for(const k of se)k.updateGuards.forEach(P=>{U.push(guardToPromiseFn(P,D,z))});return U.push(T),ae(U)}).then(()=>{U=[];for(const k of w)if(k.beforeEnter)if(isArray$1(k.beforeEnter))for(const P of k.beforeEnter)U.push(guardToPromiseFn(P,D,z));else U.push(guardToPromiseFn(k.beforeEnter,D,z));return U.push(T),ae(U)}).then(()=>(D.matched.forEach(k=>k.enterCallbacks={}),U=extractComponentsGuards(w,"beforeRouteEnter",D,z,x),U.push(T),ae(U))).then(()=>{U=[];for(const k of o.list())U.push(guardToPromiseFn(k,D,z));return U.push(T),ae(U)}).catch(k=>isNavigationFailure(k,ErrorTypes.NAVIGATION_CANCELLED)?k:Promise.reject(k))}function L(D,z,U){a.list().forEach(Y=>x(()=>Y(D,z,U)))}function N(D,z,U,Y,se){const w=S(D,z);if(w)return w;const T=z===START_LOCATION_NORMALIZED,k=isBrowser$1?history.state:{};U&&(Y||T?r.replace(D.fullPath,assign({scroll:T&&k&&k.scroll},se)):r.push(D.fullPath,se)),l.value=D,ce(D,z,U,T),le()}let K;function ee(){K||(K=r.listen((D,z,U)=>{if(!fe.listening)return;const Y=b(D),se=C(Y,fe.currentRoute.value);if(se){R(assign(se,{replace:!0,force:!0}),Y).catch(noop$4);return}c=Y;const w=l.value;isBrowser$1&&saveScrollPosition(getScrollKey(w.fullPath,U.delta),computeScrollPosition()),B(Y,w).catch(T=>isNavigationFailure(T,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_CANCELLED)?T:isNavigationFailure(T,ErrorTypes.NAVIGATION_GUARD_REDIRECT)?(R(assign(v(T.to),{force:!0}),Y).then(k=>{isNavigationFailure(k,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&!U.delta&&U.type===NavigationType.pop&&r.go(-1,!1)}).catch(noop$4),Promise.reject()):(U.delta&&r.go(-U.delta,!1),Q(T,Y,w))).then(T=>{T=T||N(Y,w,!1),T&&(U.delta&&!isNavigationFailure(T,ErrorTypes.NAVIGATION_CANCELLED)?r.go(-U.delta,!1):U.type===NavigationType.pop&&isNavigationFailure(T,ErrorTypes.NAVIGATION_ABORTED|ErrorTypes.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),L(Y,w,T)}).catch(noop$4)}))}let G=useCallbacks(),q=useCallbacks(),W;function Q(D,z,U){le(D);const Y=q.list();return Y.length?Y.forEach(se=>se(D,z,U)):console.error(D),Promise.reject(D)}function te(){return W&&l.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((D,z)=>{G.add([D,z])})}function le(D){return W||(W=!D,ee(),G.list().forEach(([z,U])=>D?U(D):z()),G.reset()),D}function ce(D,z,U,Y){const{scrollBehavior:se}=t;if(!isBrowser$1||!se)return Promise.resolve();const w=!U&&getSavedScrollPosition(getScrollKey(D.fullPath,0))||(Y||!U)&&history.state&&history.state.scroll||null;return nextTick().then(()=>se(D,z,w)).then(T=>T&&scrollToPosition(T)).catch(T=>Q(T,D,z))}const oe=D=>r.go(D);let ge;const ue=new Set,fe={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:y,getRoutes:_,resolve:b,options:t,push:E,replace:A,go:oe,back:()=>oe(-1),forward:()=>oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:q.add,isReady:te,install(D){D.component("RouterLink",RouterLink),D.component("RouterView",RouterView),D.config.globalProperties.$router=fe,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(l)}),isBrowser$1&&!ge&&l.value===START_LOCATION_NORMALIZED&&(ge=!0,E(r.location).catch(Y=>{}));const z={};for(const Y in START_LOCATION_NORMALIZED)Object.defineProperty(z,Y,{get:()=>l.value[Y],enumerable:!0});D.provide(routerKey,fe),D.provide(routeLocationKey,shallowReactive(z)),D.provide(routerViewLocationKey,l);const U=D.unmount;ue.add(D),D.unmount=function(){ue.delete(D),ue.size<1&&(c=START_LOCATION_NORMALIZED,K&&K(),K=null,l.value=START_LOCATION_NORMALIZED,ge=!1,W=!1),U()}}};function ae(D){return D.reduce((z,U)=>z.then(()=>x(U)),Promise.resolve())}return fe}function useRouter(){return inject(routerKey)}const _hoisted_1$z={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$z=defineComponent({__name:"FoodIcon",props:{title:{type:String,default:"Food"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$z,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M14.859 11.531l-1.453 1.453 6.891 6.891-1.406 1.406-6.891-6.891-6.891 6.891-1.406-1.406 9.75-9.75q-0.563-1.125-0.164-2.625t1.57-2.672q1.453-1.453 3.234-1.664t2.859 0.867 0.867 2.883-1.664 3.258q-1.172 1.172-2.672 1.547t-2.625-0.188zM8.109 13.359l-4.219-4.219q-1.172-1.172-1.172-2.813t1.172-2.813l7.031 6.984z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$y={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$y=defineComponent({__name:"ShopCartIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$y,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M17.016 18q0.797 0 1.383 0.609t0.586 1.406-0.586 1.383-1.383 0.586-1.406-0.586-0.609-1.383 0.609-1.406 1.406-0.609zM0.984 2.016h3.281l0.938 1.969h14.813q0.422 0 0.703 0.305t0.281 0.727q0 0.047-0.141 0.469l-3.563 6.469q-0.563 1.031-1.734 1.031h-7.453l-0.891 1.641-0.047 0.141q0 0.234 0.234 0.234h11.578v2.016h-12q-0.797 0-1.383-0.609t-0.586-1.406q0-0.469 0.234-0.938l1.359-2.484-3.609-7.594h-2.016v-1.969zM6.984 18q0.797 0 1.406 0.609t0.609 1.406-0.609 1.383-1.406 0.586-1.383-0.586-0.586-1.383 0.586-1.406 1.383-0.609z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$x={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$x=defineComponent({__name:"HouseIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$x,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M9.984 9.984h4.031q0-0.797-0.609-1.383t-1.406-0.586-1.406 0.586-0.609 1.383zM18.984 9.281l3 2.719h-3v8.016h-4.969v-6h-4.031v6h-4.969v-8.016h-3l9.984-9 3.984 3.609v-2.625h3v5.297z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$w={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$w=defineComponent({__name:"WineIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$w,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M6 3v6q0 1.5 0.656 2.742t1.781 2.086 2.578 1.078v4.078h-3v2.016h7.969v-2.016h-3v-4.078q1.453-0.234 2.578-1.078t1.781-2.086 0.656-2.742v-6h-12zM15.984 8.016h-7.969v-3h7.969v3z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$v={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$v=defineComponent({__name:"WalletIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$v,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M15.984 13.5q0.609 0 1.055-0.422t0.445-1.078-0.445-1.078-1.055-0.422-1.055 0.422-0.445 1.078 0.445 1.078 1.055 0.422zM12 15.984v-7.969h9.984v7.969h-9.984zM21 18v0.984q0 0.797-0.609 1.406t-1.406 0.609h-13.969q-0.844 0-1.43-0.586t-0.586-1.43v-13.969q0-0.844 0.586-1.43t1.43-0.586h13.969q0.797 0 1.406 0.609t0.609 1.406v0.984h-9q-0.844 0-1.43 0.586t-0.586 1.43v7.969q0 0.844 0.586 1.43t1.43 0.586h9z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$u={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$u=defineComponent({__name:"TaxiIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$u,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M5.016 11.016h13.969l-1.5-4.5h-10.969zM17.484 15.984q0.609 0 1.055-0.445t0.445-1.055-0.445-1.055-1.055-0.445-1.055 0.445-0.445 1.055 0.445 1.055 1.055 0.445zM6.516 15.984q0.609 0 1.055-0.445t0.445-1.055-0.445-1.055-1.055-0.445-1.055 0.445-0.445 1.055 0.445 1.055 1.055 0.445zM18.938 6l2.063 6v8.016q0 0.422-0.281 0.703t-0.703 0.281h-1.031q-0.422 0-0.703-0.281t-0.281-0.703v-1.031h-12v1.031q0 0.422-0.281 0.703t-0.703 0.281h-1.031q-0.422 0-0.703-0.281t-0.281-0.703v-8.016l2.063-6q0.281-0.984 1.453-0.984h2.484v-2.016h6v2.016h2.484q1.172 0 1.453 0.984z"},null,-1))]))}}),_hoisted_1$t={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$t=defineComponent({__name:"MedicalIcon",props:{title:{type:String,default:"Food"}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$t,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M20.016 6h-4.031v-2.016q0-0.797-0.586-1.383t-1.383-0.586h-4.031q-0.797 0-1.383 0.586t-0.586 1.383v2.016h-4.031q-0.797 0-1.383 0.586t-0.586 1.43v12q0 0.797 0.586 1.383t1.383 0.586h16.031q0.797 0 1.383-0.586t0.586-1.383v-12q0-0.844-0.586-1.43t-1.383-0.586zM9.984 3.984h4.031v2.016h-4.031v-2.016zM15.984 15h-3v3h-1.969v-3h-3v-2.016h3v-3h1.969v3h3v2.016z"},null,-1))]))}}),_hoisted_1$s={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$s=defineComponent({__name:"ClothingIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$s,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M18.563 14.016q0.422 0 0.422-0.422 0-0.328-0.234-0.422l-6.75-3-6.75 3q-0.234 0.094-0.234 0.375 0 0.469 0.422 0.469h1.547v-1.031h10.031v1.031h1.547zM19.547 11.344q1.453 0.609 1.453 2.203v0.047q0 1.031-0.703 1.711t-1.734 0.68h-1.547v6h-10.031v-6h-1.547q-1.031 0-1.734-0.68t-0.703-1.711v-0.047q0-1.547 1.453-2.156l6.563-2.953v-0.609q-1.031-0.375-1.594-1.336t-0.375-2.086q0.188-0.891 0.844-1.523t1.547-0.82q1.406-0.234 2.484 0.656t1.078 2.297h-2.016q0-0.422-0.281-0.727t-0.703-0.305-0.703 0.305-0.281 0.727 0.281 0.703 0.703 0.281 0.703 0.281 0.281 0.703v1.453z"},null,-1))]))}}),_hoisted_1$r={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$r=defineComponent({__name:"CreditCardIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$r,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M20.016 8.016v-2.016h-16.031v2.016h16.031zM20.016 18v-6h-16.031v6h16.031zM20.016 3.984q0.844 0 1.406 0.586t0.563 1.43v12q0 0.844-0.563 1.43t-1.406 0.586h-16.031q-0.844 0-1.406-0.586t-0.563-1.43v-12q0-0.844 0.563-1.43t1.406-0.586h16.031z"},null,-1))]))}}),_hoisted_1$q={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$q=defineComponent({__name:"DevicesIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$q,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M21 18v-8.016h-3.984v8.016h3.984zM21.984 8.016q0.375 0 0.703 0.305t0.328 0.68v9.984q0 0.375-0.328 0.703t-0.703 0.328h-6q-0.375 0-0.68-0.328t-0.305-0.703v-9.984q0-0.375 0.305-0.68t0.68-0.305h6zM11.016 17.484q0.609 0 1.055-0.445t0.445-1.055-0.445-1.055-1.055-0.445-1.055 0.445-0.445 1.055 0.445 1.055 1.055 0.445zM12.984 12v1.781q1.031 0.938 1.031 2.203 0 1.313-1.031 2.25v1.781h-3.984v-1.781q-0.984-0.891-0.984-2.25 0-1.313 0.984-2.203v-1.781h3.984zM3 6v12h3.984v2.016h-3.984q-0.797 0-1.406-0.609t-0.609-1.406v-12q0-0.797 0.609-1.406t1.406-0.609h18v2.016h-18z"},null,-1))]))}}),_hoisted_1$p={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$p=defineComponent({__name:"DeleteIcon",props:{title:{type:String,default:""}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$p,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M18.984 3.984v2.016h-13.969v-2.016h3.469l1.031-0.984h4.969l1.031 0.984h3.469zM6 18.984v-12h12v12q0 0.797-0.609 1.406t-1.406 0.609h-7.969q-0.797 0-1.406-0.609t-0.609-1.406z",fill:"currentColor"},null,-1))]))}}),_hoisted_1$o={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$o=defineComponent({__name:"DogPawIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$o,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M17.344 14.859l0.797 0.797t0.398 0.422 0.375 0.445 0.352 0.445 0.305 0.469 0.234 0.516 0.141 0.539 0.047 0.563-0.023 0.586q-0.516 1.969-2.344 2.344-0.328 0.047-2.273-0.188t-3.258-0.234h-0.188q-1.313 0-3.258 0.234t-2.273 0.188q-1.828-0.375-2.344-2.344-0.141-0.938 0.328-1.922t0.867-1.406 1.43-1.453q0.469-0.516 1.242-1.453t1.242-1.453q0.844-1.031 1.734-1.313 0.188-0.094 0.328-0.094 0.281-0.047 0.797-0.047 0.563 0 0.797 0.047 0.141 0 0.328 0.094 0.891 0.281 1.734 1.313 0.422 0.516 1.219 1.453t1.266 1.453zM17.016 9.516q0-1.031 0.727-1.781t1.758-0.75 1.758 0.75 0.727 1.781-0.727 1.758-1.758 0.727-1.758-0.727-0.727-1.758zM12.516 5.484q0-1.031 0.727-1.758t1.758-0.727 1.758 0.727 0.727 1.758-0.727 1.781-1.758 0.75-1.758-0.75-0.727-1.781zM6.516 5.484q0-1.031 0.727-1.758t1.758-0.727 1.758 0.727 0.727 1.758-0.727 1.781-1.758 0.75-1.758-0.75-0.727-1.781zM2.016 9.516q0-1.031 0.727-1.781t1.758-0.75 1.758 0.75 0.727 1.781-0.727 1.758-1.758 0.727-1.758-0.727-0.727-1.758z"},null,-1))]))}}),_hoisted_1$n={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$n=defineComponent({__name:"FlightIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$n,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M22.078 9.656q0.141 0.609-0.164 1.125t-0.914 0.703q-5.813 1.547-9.656 2.578l-5.297 1.406-1.594 0.469-2.625-4.5 1.453-0.375 1.969 1.5 4.969-1.313-4.125-7.172 1.922-0.516 6.891 6.422 5.344-1.406q0.609-0.188 1.148 0.141t0.68 0.938zM2.484 18.984h19.031v2.016h-19.031v-2.016z"},null,-1))]))}}),_hoisted_1$m={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$m=defineComponent({__name:"GamingControllerIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$m,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M19.5 12q0.656 0 1.078-0.422t0.422-1.078-0.422-1.078-1.078-0.422-1.078 0.422-0.422 1.078 0.422 1.078 1.078 0.422zM15.516 15q0.609 0 1.055-0.422t0.445-1.078-0.445-1.078-1.055-0.422-1.055 0.422-0.445 1.078 0.445 1.078 1.055 0.422zM11.016 12.984v-1.969h-3v-3h-2.016v3h-3v1.969h3v3h2.016v-3h3zM21 6q0.797 0 1.406 0.609t0.609 1.406v7.969q0 0.797-0.609 1.406t-1.406 0.609h-18q-0.797 0-1.406-0.609t-0.609-1.406v-7.969q0-0.797 0.609-1.406t1.406-0.609h18z"},null,-1))]))}}),_hoisted_1$l={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$l=defineComponent({__name:"GiftIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$l,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M20.016 14.016v-6h-5.109l2.109 2.813-1.641 1.172q-3-4.078-3.375-4.594-0.375 0.516-3.375 4.594l-1.641-1.172 2.109-2.813h-5.109v6h16.031zM20.016 18.984v-1.969h-16.031v1.969h16.031zM9 3.984q-0.422 0-0.703 0.305t-0.281 0.727 0.281 0.703 0.703 0.281 0.703-0.281 0.281-0.703-0.281-0.727-0.703-0.305zM15 3.984q-0.422 0-0.703 0.305t-0.281 0.727 0.281 0.703 0.703 0.281 0.703-0.281 0.281-0.703-0.281-0.727-0.703-0.305zM20.016 6q0.844 0 1.406 0.586t0.563 1.43v10.969q0 0.844-0.563 1.43t-1.406 0.586h-16.031q-0.844 0-1.406-0.586t-0.563-1.43v-10.969q0-0.844 0.563-1.43t1.406-0.586h2.203q-0.188-0.656-0.188-0.984 0-1.219 0.891-2.109t2.109-0.891q1.547 0 2.484 1.313l0.516 0.703 0.516-0.703q0.328-0.563 1.078-0.938t1.406-0.375q1.219 0 2.109 0.891t0.891 2.109q0 0.328-0.188 0.984h2.203z"},null,-1))]))}}),_hoisted_1$k={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$k=defineComponent({__name:"GroupsIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$k,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M12 12.75q1.219 0 2.297 0.258t1.922 0.633 1.313 1.125 0.469 1.594v1.641h-12v-1.594q0-0.891 0.469-1.641t1.313-1.125 1.922-0.633 2.297-0.258zM3.984 12.984q0.844 0 1.43-0.586t0.586-1.383q0-0.844-0.586-1.43t-1.43-0.586q-0.797 0-1.383 0.586t-0.586 1.43q0 0.797 0.586 1.383t1.383 0.586zM5.109 14.109q-0.234-0.047-0.516-0.070t-0.609-0.023q-0.75 0-1.43 0.141t-1.336 0.422q-0.563 0.234-0.891 0.75t-0.328 1.125v1.547h4.5v-1.594q0-1.219 0.609-2.297zM20.016 12.984q0.797 0 1.383-0.586t0.586-1.383q0-0.844-0.586-1.43t-1.383-0.586q-0.844 0-1.43 0.586t-0.586 1.43q0 0.797 0.586 1.383t1.43 0.586zM24 16.453q0-0.609-0.328-1.125t-0.891-0.75q-0.656-0.281-1.336-0.422t-1.43-0.141q-0.328 0-0.609 0.023t-0.516 0.070q0.609 1.078 0.609 2.297v1.594h4.5v-1.547zM12 6q0.844 0 1.523 0.398t1.078 1.078 0.398 1.523-0.398 1.523-1.078 1.078-1.523 0.398-1.523-0.398-1.078-1.078-0.398-1.523 0.398-1.523 1.078-1.078 1.523-0.398z"},null,-1))]))}}),_hoisted_1$j={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$j=defineComponent({__name:"PersonalCareIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$j,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M20.016 17.016q0.844 0 1.43 0.586t0.586 1.383l-8.016 3-7.031-1.969v-9h1.969l7.266 2.672q0.797 0.328 0.797 1.125 0 0.469-0.352 0.82t-0.867 0.352h-2.813l-1.734-0.656-0.328 0.938 2.063 0.75h7.031zM15.984 3.234q1.078-1.219 2.719-1.219 1.359 0 2.32 0.961t0.961 2.32q0 1.031-0.984 2.461t-1.969 2.391-3.047 2.836q-2.063-1.875-3.047-2.836t-1.969-2.391-0.984-2.461q0-1.359 0.984-2.32t2.344-0.961q1.594 0 2.672 1.219zM0.984 11.016h4.031v10.969h-4.031v-10.969z"},null,-1))]))}}),_hoisted_1$i={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$i=defineComponent({__name:"SupportAgentIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$i,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M21 12.234q0-2.063-0.727-3.75t-1.992-2.93-2.883-1.898-3.398-0.656-3.375 0.656-2.883 1.875-2.016 2.93-0.727 3.82q-0.469 0.234-0.727 0.703t-0.258 1.031v1.969q0 0.844 0.586 1.43t1.383 0.586h1.031v-6.094q0-1.453 0.539-2.719t1.5-2.227 2.227-1.5 2.719-0.539 2.719 0.539 2.227 1.5 1.5 2.227 0.539 2.719v7.078h-7.969v2.016h7.969q0.844 0 1.43-0.586t0.586-1.43v-1.219q0.422-0.234 0.703-0.656t0.281-0.984v-2.297q0-0.516-0.281-0.938t-0.703-0.656zM8.016 12.984q0-0.422 0.281-0.703t0.703-0.281 0.703 0.281 0.281 0.703-0.281 0.727-0.703 0.305-0.703-0.305-0.281-0.727zM14.016 12.984q0-0.422 0.281-0.703t0.703-0.281 0.703 0.281 0.281 0.703-0.281 0.727-0.703 0.305-0.703-0.305-0.281-0.727zM18 11.016q-0.234-1.406-1.078-2.555t-2.109-1.805-2.766-0.656q-1.125 0-2.25 0.445t-2.016 1.289-1.383 2.039-0.398 2.695q1.875-0.797 3.188-2.344t1.688-3.563q0.656 1.313 1.734 2.32t2.461 1.57 2.93 0.563z"},null,-1))]))}}),_hoisted_1$h={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},_sfc_main$h=defineComponent({__name:"UtilitiesIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$h,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M21.656 18.188l-5.297-5.297h-0.984l-2.531 2.531v0.984l5.297 5.297q0.281 0.281 0.703 0.281t0.703-0.281l2.109-2.109q0.328-0.281 0.328-0.703t-0.328-0.703zM17.344 10.172l1.406-1.406 2.109 2.156q0.609-0.609 0.797-1.383t0-1.523-0.797-1.359l-3.516-3.516-1.406 1.406v-2.859l-0.703-0.703-3.563 3.563 0.703 0.703h2.859l-1.406 1.406 1.031 1.078-2.859 2.859-4.172-4.125v-1.406l-3-3-2.813 2.813 3 3.047h1.406l4.125 4.125-0.844 0.844h-2.109l-5.297 5.297q-0.281 0.281-0.281 0.703t0.281 0.703l2.109 2.109q0.328 0.281 0.727 0.281t0.68-0.281l5.297-5.297v-2.109l5.156-5.156z"},null,-1))]))}}),_hoisted_1$g={class:"transaction-card"},_hoisted_2$9={class:"transaction-card-items-wrapper"},_hoisted_3$6={class:"transaction-card-icon-wrapper"},_hoisted_4$5={class:"transaction-card-text-wrapper"},_hoisted_5$3={class:"transaction-card-text-wrapper"},_hoisted_6$3={class:"transaction-card-text-wrapper"},_hoisted_7$1={class:"transaction-card-items-wrapper"},_sfc_main$g=defineComponent({__name:"TransactionCard",props:{type:{},description:{},amount:{},tag:{},date:{}},emits:["delete"],setup(t,{emit:e}){const s=t,n=e,r=computed(()=>s.tag==="Food"?_sfc_main$z:s.tag==="Housing"?_sfc_main$x:s.tag==="Drinks & Ciggs"?_sfc_main$w:s.tag==="Money"||s.tag==="Savings"||s.tag==="Investments"?_sfc_main$v:s.tag==="Transportation"?_sfc_main$u:s.tag==="Health Care"||s.tag==="Insurance"?_sfc_main$t:s.tag==="Miscellaneous"?_sfc_main$y:s.tag==="Clothing"?_sfc_main$s:s.tag==="Technology"?_sfc_main$q:s.tag==="Utilities"?_sfc_main$h:s.tag==="Debt Payments"?_sfc_main$r:s.tag==="Personal Care"?_sfc_main$j:s.tag==="Entertainment"?_sfc_main$m:s.tag==="Child and Dependent Care"?_sfc_main$k:s.tag==="Gifts and Donations"?_sfc_main$l:s.tag==="Travel"?_sfc_main$n:s.tag==="Professional Services"?_sfc_main$i:s.tag==="Pet Care"?_sfc_main$o:null),i=computed(()=>s.amount?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(s.amount):"N/A"),o=computed(()=>new Date(s.date).toDateString());return(a,l)=>(openBlock(),createElementBlock("div",_hoisted_1$g,[createBaseVNode("div",_hoisted_2$9,[createBaseVNode("div",_hoisted_3$6,[r.value?(openBlock(),createBlock(resolveDynamicComponent(r.value),{key:0,title:s.tag,class:"transaction-card-icon"},null,8,["title"])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_4$5,[createBaseVNode("h3",null,toDisplayString(s.description),1),createBaseVNode("span",null,toDisplayString(s.tag),1)])]),createBaseVNode("div",_hoisted_5$3,[createBaseVNode("span",null,toDisplayString(o.value),1)]),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("h4",null,toDisplayString(i.value),1)]),createBaseVNode("div",{class:normalizeClass(["transaction-card-type",{debited:s.type==="Debited",credited:s.type==="Credited"}])},[createBaseVNode("span",null,toDisplayString(s.type),1)],2),createBaseVNode("div",_hoisted_7$1,[createBaseVNode("div",{class:"transaction-card-icon-wrapper secondary",onClick:l[0]||(l[0]=c=>n("delete"))},[createVNode(_sfc_main$p,{class:"transaction-card-icon"})])])]))}}),TransactionCard=_export_sfc(_sfc_main$g,[["__scopeId","data-v-a5d324ff"]]);function round(t){return t+.5|0}const lim=(t,e,s)=>Math.max(Math.min(t,s),e);function p2b(t){return lim(round(t*2.55),0,255)}function n2b(t){return lim(round(t*255),0,255)}function b2n(t){return lim(round(t/2.55)/100,0,1)}function n2p(t){return lim(round(t*100),0,100)}const map$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex=[..."0123456789ABCDEF"],h1=t=>hex[t&15],h2=t=>hex[(t&240)>>4]+hex[t&15],eq=t=>(t&240)>>4===(t&15),isShort=t=>eq(t.r)&&eq(t.g)&&eq(t.b)&&eq(t.a);function hexParse(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&map$1[t[1]]*17,g:255&map$1[t[2]]*17,b:255&map$1[t[3]]*17,a:e===5?map$1[t[4]]*17:255}:(e===7||e===9)&&(s={r:map$1[t[1]]<<4|map$1[t[2]],g:map$1[t[3]]<<4|map$1[t[4]],b:map$1[t[5]]<<4|map$1[t[6]],a:e===9?map$1[t[7]]<<4|map$1[t[8]]:255})),s}const alpha=(t,e)=>t<255?e(t):"";function hexString(t){var e=isShort(t)?h1:h2;return t?"#"+e(t.r)+e(t.g)+e(t.b)+alpha(t.a,e):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(t,e,s){const n=e*Math.min(s,1-s),r=(i,o=(i+t/30)%12)=>s-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function hsv2rgbn(t,e,s){const n=(r,i=(r+t/60)%6)=>s-s*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function hwb2rgbn(t,e,s){const n=hsl2rgbn(t,1,.5);let r;for(e+s>1&&(r=1/(e+s),e*=r,s*=r),r=0;r<3;r++)n[r]*=1-e-s,n[r]+=e;return n}function hueValue(t,e,s,n,r){return t===r?(e-s)/n+(e<s?6:0):e===r?(s-t)/n+2:(t-e)/n+4}function rgb2hsl(t){const s=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(s,n,r),o=Math.min(s,n,r),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=hueValue(s,n,r,u,i),l=l*60+.5),[l|0,c||0,a]}function calln(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(n2b)}function hsl2rgb(t,e,s){return calln(hsl2rgbn,t,e,s)}function hwb2rgb(t,e,s){return calln(hwb2rgbn,t,e,s)}function hsv2rgb(t,e,s){return calln(hsv2rgbn,t,e,s)}function hue(t){return(t%360+360)%360}function hueParse(t){const e=HUE_RE.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?p2b(+e[5]):n2b(+e[5]));const r=hue(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=hwb2rgb(r,i,o):e[1]==="hsv"?n=hsv2rgb(r,i,o):n=hsl2rgb(r,i,o),{r:n[0],g:n[1],b:n[2],a:s}}function rotate(t,e){var s=rgb2hsl(t);s[0]=hue(s[0]+e),s=hsl2rgb(s),t.r=s[0],t.g=s[1],t.b=s[2]}function hslString(t){if(!t)return;const e=rgb2hsl(t),s=e[0],n=n2p(e[1]),r=n2p(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${r}%, ${b2n(t.a)})`:`hsl(${s}, ${n}%, ${r}%)`}const map={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const t={},e=Object.keys(names$1),s=Object.keys(map);let n,r,i,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],r=0;r<s.length;r++)i=s[r],a=a.replace(i,map[i]);i=parseInt(names$1[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}let names;function nameParse(t){names||(names=unpack(),names.transparent=[0,0,0,0]);const e=names[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(t){const e=RGB_RE.exec(t);let s=255,n,r,i;if(e){if(e[7]!==n){const o=+e[7];s=e[8]?p2b(o):lim(o*255,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?p2b(n):lim(n,0,255)),r=255&(e[4]?p2b(r):lim(r,0,255)),i=255&(e[6]?p2b(i):lim(i,0,255)),{r:n,g:r,b:i,a:s}}}function rgbString(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${b2n(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,from=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function interpolate$1(t,e,s){const n=from(b2n(t.r)),r=from(b2n(t.g)),i=from(b2n(t.b));return{r:n2b(to(n+s*(from(b2n(e.r))-n))),g:n2b(to(r+s*(from(b2n(e.g))-r))),b:n2b(to(i+s*(from(b2n(e.b))-i))),a:t.a+s*(e.a-t.a)}}function modHSL(t,e,s){if(t){let n=rgb2hsl(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=hsl2rgb(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function clone$1(t,e){return t&&Object.assign(e||{},t)}function fromObject(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=n2b(t[3]))):(e=clone$1(t,{r:0,g:0,b:0,a:1}),e.a=n2b(e.a)),e}function functionParse(t){return t.charAt(0)==="r"?rgbParse(t):hueParse(t)}class Color{constructor(e){if(e instanceof Color)return e;const s=typeof e;let n;s==="object"?n=fromObject(e):s==="string"&&(n=hexParse(e)||nameParse(e)||functionParse(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=clone$1(this._rgb);return e&&(e.a=b2n(e.a)),e}set rgb(e){this._rgb=fromObject(e)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,r=e.rgb;let i;const o=s===i?.5:s,a=2*o-1,l=n.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,n.r=255&c*n.r+i*r.r+.5,n.g=255&c*n.g+i*r.g+.5,n.b=255&c*n.b+i*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=interpolate$1(this._rgb,e._rgb,s)),this}clone(){return new Color(this.rgb)}alpha(e){return this._rgb.a=n2b(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=round(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return modHSL(this._rgb,2,e),this}darken(e){return modHSL(this._rgb,2,-e),this}saturate(e){return modHSL(this._rgb,1,e),this}desaturate(e){return modHSL(this._rgb,1,-e),this}rotate(e){return rotate(this._rgb,e),this}}function noop$3(){}const uid=(()=>{let t=0;return()=>t++})();function isNullOrUndef(t){return t==null}function isArray(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function isObject$1(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function isNumberFinite(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function finiteOrDefault(t,e){return isNumberFinite(t)?t:e}function valueOrDefault(t,e){return typeof t>"u"?e:t}const toPercentage=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,toDimension=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function callback(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function each(t,e,s,n){let r,i,o;if(isArray(t))for(i=t.length,r=0;r<i;r++)e.call(s,t[r],r);else if(isObject$1(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(s,t[o[r]],o[r])}function _elementsEqual(t,e){let s,n,r,i;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(r=t[s],i=e[s],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function clone(t){if(isArray(t))return t.map(clone);if(isObject$1(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let r=0;for(;r<n;++r)e[s[r]]=clone(t[s[r]]);return e}return t}function isValidKey(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function _merger(t,e,s,n){if(!isValidKey(t))return;const r=e[t],i=s[t];isObject$1(r)&&isObject$1(i)?merge(r,i,n):e[t]=clone(i)}function merge(t,e,s){const n=isArray(e)?e:[e],r=n.length;if(!isObject$1(t))return t;s=s||{};const i=s.merger||_merger;let o;for(let a=0;a<r;++a){if(o=n[a],!isObject$1(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],t,o,s)}return t}function mergeIf(t,e){return merge(t,e,{merger:_mergerIf})}function _mergerIf(t,e,s){if(!isValidKey(t))return;const n=e[t],r=s[t];isObject$1(n)&&isObject$1(r)?mergeIf(n,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=clone(r))}const keyResolvers={"":t=>t,x:t=>t.x,y:t=>t.y};function _splitKey(t){const e=t.split("."),s=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function _getKeyResolver(t){const e=_splitKey(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function resolveObjectKey(t,e){return(keyResolvers[e]||(keyResolvers[e]=_getKeyResolver(e)))(t)}function _capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}const defined=t=>typeof t<"u",isFunction=t=>typeof t=="function",setsEqual=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function _isClickEvent(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign=Math.sign;function almostEquals(t,e,s){return Math.abs(t-e)<s}function niceNum(t){const e=Math.round(t);t=almostEquals(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(log10(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function _factorize(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((r,i)=>r-i).pop(),e}function isNonPrimitive(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function isNumber(t){return!isNonPrimitive(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function almostWhole(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function _setMinAndMaxByKey(t,e,s){let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n][s],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function toRadians(t){return t*(PI/180)}function toDegrees(t){return t*(180/PI)}function _decimalPlaces(t){if(!isNumberFinite(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function getAngleFromPoint(t,e){const s=e.x-t.x,n=e.y-t.y,r=Math.sqrt(s*s+n*n);let i=Math.atan2(n,s);return i<-.5*PI&&(i+=TAU),{angle:i,distance:r}}function distanceBetweenPoints(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function _normalizeAngle(t){return(t%TAU+TAU)%TAU}function _angleBetween(t,e,s,n){const r=_normalizeAngle(t),i=_normalizeAngle(e),o=_normalizeAngle(s),a=_normalizeAngle(i-r),l=_normalizeAngle(o-r),c=_normalizeAngle(r-i),u=_normalizeAngle(r-o);return r===i||r===o||n&&i===o||a>l&&c<u}function _limitValue(t,e,s){return Math.max(e,Math.min(s,t))}function _int16Range(t){return _limitValue(t,-32768,32767)}function _isBetween(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function _lookup(t,e,s){s=s||(o=>t[o]<e);let n=t.length-1,r=0,i;for(;n-r>1;)i=r+n>>1,s(i)?r=i:n=i;return{lo:r,hi:n}}const _lookupByKey=(t,e,s,n)=>_lookup(t,s,n?r=>{const i=t[r][e];return i<s||i===s&&t[r+1][e]===s}:r=>t[r][e]<s),_rlookupByKey=(t,e,s)=>_lookup(t,s,n=>t[n][e]>=s);function _filterBetween(t,e,s){let n=0,r=t.length;for(;n<r&&t[n]<e;)n++;for(;r>n&&t[r-1]>s;)r--;return n>0||r<t.length?t.slice(n,r):t}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),arrayEvents.forEach(s=>{const n="_onData"+_capitalize(s),r=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...i){const o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...i)}),o}})})}function unlistenArrayEvents(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(arrayEvents.forEach(i=>{delete t[i]}),delete t._chartjs)}function _arrayUnique(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const requestAnimFrame=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function throttled(t,e){let s=[],n=!1;return function(...r){s=r,n||(n=!0,requestAnimFrame.call(window,()=>{n=!1,t.apply(e,s)}))}}function debounce(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const _toLeftRightCenter=t=>t==="start"?"left":t==="end"?"right":"center",_alignStartEnd=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,_textX=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e,atEdge=t=>t===0||t===1,elasticIn=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*TAU/s)),elasticOut=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*TAU/s)+1,effects={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*HALF_PI)+1,easeOutSine:t=>Math.sin(t*HALF_PI),easeInOutSine:t=>-.5*(Math.cos(PI*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>atEdge(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>atEdge(t)?t:elasticIn(t,.075,.3),easeOutElastic:t=>atEdge(t)?t:elasticOut(t,.075,.3),easeInOutElastic(t){return atEdge(t)?t:t<.5?.5*elasticIn(t*2,.1125,.45):.5+.5*elasticOut(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-effects.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?effects.easeInBounce(t*2)*.5:effects.easeOutBounce(t*2-1)*.5+.5};function isPatternOrGradient(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function color(t){return isPatternOrGradient(t)?t:new Color(t)}function getHoverColor(t){return isPatternOrGradient(t)?t:new Color(t).saturate(.5).darken(.1).hexString()}const numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function applyLayoutsDefaults(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(t,e){e=e||{};const s=t+JSON.stringify(e);let n=intlCache.get(s);return n||(n=new Intl.NumberFormat(t,e),intlCache.set(s,n)),n}function formatNumber(t,e,s){return getNumberFormat(e,s).format(t)}const formatters={values(t){return isArray(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let r,i=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),i=calculateDelta(t,s)}const o=log10(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),formatNumber(t,n,l)}};function calculateDelta(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var Ticks={formatters};function applyScaleDefaults(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(t,e){if(!e)return t;const s=e.split(".");for(let n=0,r=s.length;n<r;++n){const i=s[n];t=t[i]||(t[i]=Object.create(null))}return t}function set(t,e,s){return typeof e=="string"?merge(getScope$1(t,e),s):merge(getScope$1(t,""),e)}class Defaults{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>getHoverColor(r.backgroundColor),this.hoverBorderColor=(n,r)=>getHoverColor(r.borderColor),this.hoverColor=(n,r)=>getHoverColor(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return set(this,e,s)}get(e){return getScope$1(this,e)}describe(e,s){return set(descriptors,e,s)}override(e,s){return set(overrides,e,s)}route(e,s,n,r){const i=getScope$1(this,e),o=getScope$1(this,n),a="_"+s;Object.defineProperties(i,{[a]:{value:i[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[r];return isObject$1(l)?Object.assign({},c,l):valueOrDefault(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var defaults=new Defaults({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(t){return!t||isNullOrUndef(t.size)||isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function _measureText(t,e,s,n,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,s.push(r)),i>n&&(n=i),n}function _alignPixel(t,e,s){const n=t.currentDevicePixelRatio,r=s!==0?Math.max(s/2,.5):0;return Math.round((e-r)*n)/n+r}function clearCanvas(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function drawPoint(t,e,s,n){drawPointLegend(t,e,s,n,null)}function drawPointLegend(t,e,s,n,r){let i,o,a,l,c,u,d,f;const g=e.pointStyle,m=e.rotation,_=e.radius;let y=(m||0)*RAD_PER_DEG;if(g&&typeof g=="object"&&(i=g.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(y),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(_)||_<=0)){switch(t.beginPath(),g){default:r?t.ellipse(s,n,r/2,_,0,0,TAU):t.arc(s,n,_,0,TAU),t.closePath();break;case"triangle":u=r?r/2:_,t.moveTo(s+Math.sin(y)*u,n-Math.cos(y)*_),y+=TWO_THIRDS_PI,t.lineTo(s+Math.sin(y)*u,n-Math.cos(y)*_),y+=TWO_THIRDS_PI,t.lineTo(s+Math.sin(y)*u,n-Math.cos(y)*_),t.closePath();break;case"rectRounded":c=_*.516,l=_-c,o=Math.cos(y+QUARTER_PI)*l,d=Math.cos(y+QUARTER_PI)*(r?r/2-c:l),a=Math.sin(y+QUARTER_PI)*l,f=Math.sin(y+QUARTER_PI)*(r?r/2-c:l),t.arc(s-d,n-a,c,y-PI,y-HALF_PI),t.arc(s+f,n-o,c,y-HALF_PI,y),t.arc(s+d,n+a,c,y,y+HALF_PI),t.arc(s-f,n+o,c,y+HALF_PI,y+PI),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*_,u=r?r/2:l,t.rect(s-u,n-l,2*u,2*l);break}y+=QUARTER_PI;case"rectRot":d=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,f=Math.sin(y)*(r?r/2:_),t.moveTo(s-d,n-a),t.lineTo(s+f,n-o),t.lineTo(s+d,n+a),t.lineTo(s-f,n+o),t.closePath();break;case"crossRot":y+=QUARTER_PI;case"cross":d=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,f=Math.sin(y)*(r?r/2:_),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"star":d=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,f=Math.sin(y)*(r?r/2:_),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o),y+=QUARTER_PI,d=Math.cos(y)*(r?r/2:_),o=Math.cos(y)*_,a=Math.sin(y)*_,f=Math.sin(y)*(r?r/2:_),t.moveTo(s-d,n-a),t.lineTo(s+d,n+a),t.moveTo(s+f,n-o),t.lineTo(s-f,n+o);break;case"line":o=r?r/2:Math.cos(y)*_,a=Math.sin(y)*_,t.moveTo(s-o,n-a),t.lineTo(s+o,n+a);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(y)*(r?r/2:_),n+Math.sin(y)*_);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function _isPointInArea(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function clipArea(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function unclipArea(t){t.restore()}function setRenderOpts(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),isNullOrUndef(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function decorateText(t,e,s,n,r){if(r.strikethrough||r.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=s-i.actualBoundingBoxAscent,c=s+i.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function drawBackdrop(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function renderText(t,e,s,n,r,i={}){const o=isArray(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(t.save(),t.font=r.string,setRenderOpts(t,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&drawBackdrop(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),isNullOrUndef(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(c,s,n,i.maxWidth)),t.fillText(c,s,n,i.maxWidth),decorateText(t,s,n,c,i),n+=Number(r.lineHeight);t.restore()}function addRoundedRectPath(t,e){const{x:s,y:n,w:r,h:i,radius:o}=e;t.arc(s+o.topLeft,n+o.topLeft,o.topLeft,1.5*PI,PI,!0),t.lineTo(s,n+i-o.bottomLeft),t.arc(s+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,PI,HALF_PI,!0),t.lineTo(s+r-o.bottomRight,n+i),t.arc(s+r-o.bottomRight,n+i-o.bottomRight,o.bottomRight,HALF_PI,0,!0),t.lineTo(s+r,n+o.topRight),t.arc(s+r-o.topRight,n+o.topRight,o.topRight,0,-HALF_PI,!0),t.lineTo(s+o.topLeft,n)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(t,e){const s=(""+t).match(LINE_HEIGHT);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const numberOrZero=t=>+t||0;function _readValueToProps(t,e){const s={},n=isObject$1(e),r=n?Object.keys(e):e,i=isObject$1(t)?n?o=>valueOrDefault(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)s[o]=numberOrZero(i(o));return s}function toTRBL(t){return _readValueToProps(t,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(t){return _readValueToProps(t,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(t){const e=toTRBL(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function toFont(t,e){t=t||{},e=e||defaults.font;let s=valueOrDefault(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=valueOrDefault(t.style,e.style);n&&!(""+n).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:valueOrDefault(t.family,e.family),lineHeight:toLineHeight(valueOrDefault(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:valueOrDefault(t.weight,e.weight),string:""};return r.string=toFontString(r),r}function resolve(t,e,s,n){let r,i,o;for(r=0,i=t.length;r<i;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function _addGrace(t,e,s){const{min:n,max:r}=t,i=toDimension(e,(r-n)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(n,-Math.abs(i)),max:o(r,i)}}function createContext(t,e){return Object.assign(Object.create(t),e)}function _createResolver(t,e=[""],s,n,r=()=>t[0]){const i=s||t;typeof n>"u"&&(n=_resolve("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:a=>_createResolver([a,...t],e,i,n)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return _cached(a,l,()=>_resolveWithPrefixes(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return getKeysFromAllScopes(a).includes(l)},ownKeys(a){return getKeysFromAllScopes(a)},set(a,l,c){const u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function _attachContext(t,e,s,n){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:_descriptors(t,n),setContext:i=>_attachContext(t,i,s,n),override:i=>_attachContext(t.override(i),e,s,n)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return _cached(i,o,()=>_resolveWithContext(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function _descriptors(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:s,indexable:n,isScriptable:isFunction(s)?s:()=>s,isIndexable:isFunction(n)?n:()=>n}}const readKey=(t,e)=>t?t+_capitalize(e):e,needsSubResolver=(t,e)=>isObject$1(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function _cached(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function _resolveWithContext(t,e,s){const{_proxy:n,_context:r,_subProxy:i,_descriptors:o}=t;let a=n[e];return isFunction(a)&&o.isScriptable(e)&&(a=_resolveScriptable(e,a,t,s)),isArray(a)&&a.length&&(a=_resolveArray(e,a,t,o.isIndexable)),needsSubResolver(e,a)&&(a=_attachContext(a,r,i&&i[e],o)),a}function _resolveScriptable(t,e,s,n){const{_proxy:r,_context:i,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(i,o||n);return a.delete(t),needsSubResolver(t,l)&&(l=createSubResolver(r._scopes,r,t,l)),l}function _resolveArray(t,e,s,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=s;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(isObject$1(e[0])){const l=e,c=r._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=createSubResolver(c,r,t,u);e.push(_attachContext(d,i,o&&o[t],a))}}return e}function resolveFallback(t,e,s){return isFunction(t)?t(e,s):t}const getScope=(t,e)=>t===!0?e:typeof t=="string"?resolveObjectKey(e,t):void 0;function addScopes(t,e,s,n,r){for(const i of e){const o=getScope(s,i);if(o){t.add(o);const a=resolveFallback(o._fallback,s,r);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(o===!1&&typeof n<"u"&&s!==n)return null}return!1}function createSubResolver(t,e,s,n){const r=e._rootScopes,i=resolveFallback(e._fallback,s,n),o=[...t,...r],a=new Set;a.add(n);let l=addScopesFromKey(a,o,s,i||s,n);return l===null||typeof i<"u"&&i!==s&&(l=addScopesFromKey(a,o,i,l,n),l===null)?!1:_createResolver(Array.from(a),[""],r,i,()=>subGetTarget(e,s,n))}function addScopesFromKey(t,e,s,n,r){for(;s;)s=addScopes(t,e,s,n,r);return s}function subGetTarget(t,e,s){const n=t._getTarget();e in n||(n[e]={});const r=n[e];return isArray(r)&&isObject$1(s)?s:r||{}}function _resolveWithPrefixes(t,e,s,n){let r;for(const i of e)if(r=_resolve(readKey(i,t),s),typeof r<"u")return needsSubResolver(t,r)?createSubResolver(s,n,t,r):r}function _resolve(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function getKeysFromAllScopes(t){let e=t._keys;return e||(e=t._keys=resolveKeysFromAllScopes(t._scopes)),e}function resolveKeysFromAllScopes(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function parseMaxStyle(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const getComputedStyle=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function getStyle(t,e){return getComputedStyle(t).getPropertyValue(e)}const positions=["top","right","bottom","left"];function getPositionedStyle(t,e,s){const n={};s=s?"-"+s:"";for(let r=0;r<4;r++){const i=positions[r];n[i]=parseFloat(t[e+"-"+i+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const useOffsetPos=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function getCanvasPosition(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:r,offsetY:i}=n;let o=!1,a,l;if(useOffsetPos(r,i,t.target))a=r,l=i;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function getRelativePosition(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,r=getComputedStyle(s),i=r.boxSizing==="border-box",o=getPositionedStyle(r,"padding"),a=getPositionedStyle(r,"border","width"),{x:l,y:c,box:u}=getCanvasPosition(t,s),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:g,height:m}=e;return i&&(g-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-d)/g*s.width/n),y:Math.round((c-f)/m*s.height/n)}}function getContainerSize(t,e,s){let n,r;if(e===void 0||s===void 0){const i=t&&_getParentNode(t);if(!i)e=t.clientWidth,s=t.clientHeight;else{const o=i.getBoundingClientRect(),a=getComputedStyle(i),l=getPositionedStyle(a,"border","width"),c=getPositionedStyle(a,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,n=parseMaxStyle(a.maxWidth,i,"clientWidth"),r=parseMaxStyle(a.maxHeight,i,"clientHeight")}}return{width:e,height:s,maxWidth:n||INFINITY,maxHeight:r||INFINITY}}const round1=t=>Math.round(t*10)/10;function getMaximumSize(t,e,s,n){const r=getComputedStyle(t),i=getPositionedStyle(r,"margin"),o=parseMaxStyle(r.maxWidth,t,"clientWidth")||INFINITY,a=parseMaxStyle(r.maxHeight,t,"clientHeight")||INFINITY,l=getContainerSize(t,e,s);let{width:c,height:u}=l;if(r.boxSizing==="content-box"){const f=getPositionedStyle(r,"border","width"),g=getPositionedStyle(r,"padding");c-=g.width+f.width,u-=g.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,n?c/n:u-i.height),c=round1(Math.min(c,o,l.maxWidth)),u=round1(Math.min(u,a,l.maxHeight)),c&&!u&&(u=round1(c/2)),(e!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=round1(Math.floor(u*n))),{width:c,height:u}}function retinaScale(t,e,s){const n=e||1,r=round1(t.height*n),i=round1(t.width*n);t.height=round1(t.height),t.width=round1(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=n,o.height=r,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const supportsEventListenerOptions=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function readUsedSize(t,e){const s=getStyle(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}const getRightToLeftAdapter=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},getLeftToRightAdapter=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function getRtlAdapter(t,e,s){return t?getRightToLeftAdapter(e,s):getLeftToRightAdapter()}function overrideTextDirection(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function restoreTextDirection(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function getSizeForArea(t,e,s){return t.options.clip?t[s]:e[s]}function getDatasetArea(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:getSizeForArea(s,e,"left"),right:getSizeForArea(s,e,"right"),top:getSizeForArea(n,e,"top"),bottom:getSizeForArea(n,e,"bottom")}:e}function getDatasetClipArea(t,e){const s=e._clip;if(s.disabled)return!1;const n=getDatasetArea(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,r){const i=s.listeners[r],o=s.duration;i.forEach(a=>a({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(n-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),s+=i.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=color(t||transparent),r=n.valid&&color(e||transparent);return r&&r.valid?r.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class Animation{constructor(e,s,n,r){const i=s[n];r=resolve([e.to,r,i,e.from]);const o=resolve([e.from,i,r]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof o],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=resolve([e.to,s,r,e.from]),this._from=resolve([e.from,r,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||s<n),!this._active){this._target[r]=a,this._notify(!0);return}if(s<0){this._target[r]=i;return}l=s/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][s]()}}class Animations{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!isObject$1(e))return;const s=Object.keys(defaults.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!isObject$1(i))return;const o={};for(const a of s)o[a]=i[a];(isArray(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!n.has(a))&&n.set(a,o)})})}_animateOptions(e,s){const n=s.options,r=resolveTargetOptions(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&awaitAll(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,s){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,s));continue}const u=s[c];let d=i[c];const f=n.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new Animation(f,e,c,u),r.push(d)}return r}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return animator.add(this._chart,n),!0}}function awaitAll(t,e){const s=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const i=t[n[r]];i&&i.active()&&s.push(i.wait())}return Promise.all(s)}function resolveTargetOptions(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function scaleClip(t,e){const s=t&&t.options||{},n=s.reverse,r=s.min===void 0?e:0,i=s.max===void 0?e:0;return{start:n?i:r,end:n?r:i}}function defaultClip(t,e,s){if(s===!1)return!1;const n=scaleClip(t,s),r=scaleClip(e,s);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function toClip(t){let e,s,n,r;return isObject$1(t)?(e=t.top,s=t.right,n=t.bottom,r=t.left):e=s=n=r=t,{top:e,right:s,bottom:n,left:r,disabled:t===!1}}function getSortedDatasetIndices(t,e){const s=[],n=t._getSortedDatasetMetas(e);let r,i;for(r=0,i=n.length;r<i;++r)s.push(n[r].index);return s}function applyStack(t,e,s,n={}){const r=t.keys,i=n.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===s){if(u=!0,n.all)continue;break}c=t.values[l],isNumberFinite(c)&&(i||e===0||sign(e)===sign(c))&&(e+=c)}return!u&&!n.all?0:e}function convertObjectDataToArray(t,e){const{iScale:s,vScale:n}=e,r=s.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[r]:u,[i]:t[u]};return a}function isStacked(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function getStackKey(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function getUserBounds(t){const{min:e,max:s,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?s:Number.POSITIVE_INFINITY}}function getOrCreateStack(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function getLastIndexInStack(t,e,s,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const i=t[r.index];if(s&&i>0||!s&&i<0)return r.index}return null}function updateStacks(t,e){const{chart:s,_cachedMeta:n}=t,r=s._stacks||(s._stacks={}),{iScale:i,vScale:o,index:a}=n,l=i.axis,c=o.axis,u=getStackKey(i,o,n),d=e.length;let f;for(let g=0;g<d;++g){const m=e[g],{[l]:_,[c]:y}=m,b=m._stacks||(m._stacks={});f=b[c]=getOrCreateStack(r,u,_),f[a]=y,f._top=getLastIndexInStack(f,o,!0,n.type),f._bottom=getLastIndexInStack(f,o,!1,n.type);const v=f._visualValues||(f._visualValues={});v[a]=y}}function getFirstScaleId(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function createDatasetContext(t,e){return createContext(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function createDataContext(t,e,s){return createContext(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function clearStacks(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const r of e){const i=r._stacks;if(!i||i[n]===void 0||i[n][s]===void 0)return;delete i[n][s],i[n]._visualValues!==void 0&&i[n]._visualValues[s]!==void 0&&delete i[n]._visualValues[s]}}}const isDirectUpdateMode=t=>t==="reset"||t==="none",cloneIfNotShared=(t,e)=>e?t:Object.assign({},t),createStack=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:getSortedDatasetIndices(s,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=isStacked(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),r=(d,f,g,m)=>d==="x"?f:d==="r"?m:g,i=s.xAxisID=valueOrDefault(n.xAxisID,getFirstScaleId(e,"x")),o=s.yAxisID=valueOrDefault(n.yAxisID,getFirstScaleId(e,"y")),a=s.rAxisID=valueOrDefault(n.rAxisID,getFirstScaleId(e,"r")),l=s.indexAxis,c=s.iAxisID=r(l,i,o,a),u=s.vAxisID=r(l,o,i,a);s.xScale=this.getScaleForId(i),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(isObject$1(s)){const r=this._cachedMeta;this._data=convertObjectDataToArray(s,r)}else if(n!==s){if(n){unlistenArrayEvents(n,this);const r=this._cachedMeta;clearStacks(r),r._parsed=[]}s&&Object.isExtensible(s)&&listenArrayEvents(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=s._stacked;s._stacked=isStacked(s.vScale,s),s.stack!==n.stack&&(r=!0,clearStacks(s),s.stack=n.stack),this._resyncElements(e),(r||i!==s._stacked)&&(updateStacks(this,s._parsed),s._stacked=isStacked(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:o}=n,a=i.axis;let l=e===0&&s===r.length?!0:n._sorted,c=e>0&&n._parsed[e-1],u,d,f;if(this._parsing===!1)n._parsed=r,n._sorted=!0,f=r;else{isArray(r[e])?f=this.parseArrayData(n,r,e,s):isObject$1(r[e])?f=this.parseObjectData(n,r,e,s):f=this.parsePrimitiveData(n,r,e,s);const g=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)n._parsed[u+e]=d=f[u],l&&(g()&&(l=!1),c=d);n._sorted=l}o&&updateStacks(this,f)}parsePrimitiveData(e,s,n,r){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(r);let f,g,m;for(f=0,g=r;f<g;++f)m=f+n,d[f]={[a]:u||i.parse(c[m],m),[l]:o.parse(s[m],m)};return d}parseArrayData(e,s,n,r){const{xScale:i,yScale:o}=e,a=new Array(r);let l,c,u,d;for(l=0,c=r;l<c;++l)u=l+n,d=s[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,s,n,r){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(r);let u,d,f,g;for(u=0,d=r;u<d;++u)f=u+n,g=s[f],c[u]={x:i.parse(resolveObjectKey(g,a),f),y:o.parse(resolveObjectKey(g,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const r=this.chart,i=this._cachedMeta,o=s[e.axis],a={keys:getSortedDatasetIndices(r,!0),values:s._stacks[e.axis]._visualValues};return applyStack(a,o,i.index,{mode:n})}updateRangeFromParsed(e,s,n,r){const i=n[s.axis];let o=i===null?NaN:i;const a=r&&n._stacks[s.axis];r&&a&&(r.values=a,o=applyStack(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,o=r.length,a=this._getOtherScale(e),l=createStack(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=getUserBounds(a);let f,g;function m(){g=r[f];const _=g[a.axis];return!isNumberFinite(g[e.axis])||u>_||d<_}for(f=0;f<o&&!(!m()&&(this.updateRangeFromParsed(c,e,g,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,g,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let r,i,o;for(r=0,i=s.length;r<i;++r)o=s[r][e.axis],isNumberFinite(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,r=s.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=toClip(valueOrDefault(this.options.clip,defaultClip(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,r=n.data||[],i=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=r[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=createDataContext(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!s,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const r=s==="active",i=this._cachedDataOpts,o=e+"-"+s,a=i[o],l=this.enableOptionSharing&&defined(n);if(a)return cloneIfNotShared(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),g=Object.keys(defaults.elements[e]),m=()=>this.getContext(n,r,s),_=c.resolveNamedOptions(f,g,m,d);return _.$shared&&(_.$shared=l,i[o]=Object.freeze(cloneIfNotShared(_,l))),_}_resolveAnimations(e,s,n){const r=this.chart,i=this._cachedDataOpts,o=`animation-${s}`,a=i[o];if(a)return a;let l;if(r.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,n,s))}const c=new Animations(r,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||isDirectUpdateMode(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),r=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(s,i)||i!==r;return this.updateSharedOptions(i,s,n),{sharedOptions:i,includeOptions:o}}updateElement(e,s,n,r){isDirectUpdateMode(r)?Object.assign(e,n):this._resolveAnimations(s,r).update(e,n)}updateSharedOptions(e,s,n){e&&!isDirectUpdateMode(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,r){e.active=r;const i=this.getStyle(s,r);this._resolveAnimations(s,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const r=n.length,i=s.length,o=Math.min(i,r);o&&this.parse(0,o),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,s,n=!0){const r=this._cachedMeta,i=r.data,o=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,s),n&&this.updateElements(i,e,s,"reset")}updateElements(e,s,n,r){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,s);n._stacked&&clearStacks(n,r)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,r]=e;this[s](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let r=0,i=s.length;r<i;r++)n=n.concat(s[r].controller.getAllParsedValues(t));t._cache.$bar=_arrayUnique(n.sort((r,i)=>r-i))}return t._cache.$bar}function computeMinSampleSize(t){const e=t.iScale,s=getAllScaleValues(e,t.type);let n=e._length,r,i,o,a;const l=()=>{o===32767||o===-32768||(defined(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,i=s.length;r<i;++r)o=e.getPixelForValue(s[r]),l();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),l();return n}function computeFitCategoryTraits(t,e,s,n){const r=s.barThickness;let i,o;return isNullOrUndef(r)?(i=e.min*s.categoryPercentage,o=s.barPercentage):(i=r*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function computeFlexCategoryTraits(t,e,s,n){const r=e.pixels,i=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=s.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:s.barPercentage,start:c}}function parseFloatBar(t,e,s,n){const r=s.parse(t[0],n),i=s.parse(t[1],n),o=Math.min(r,i),a=Math.max(r,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:i,min:o,max:a}}function parseValue(t,e,s,n){return isArray(t)?parseFloatBar(t,e,s,n):e[s.axis]=s.parse(t,n),e}function parseArrayOrPrimitive(t,e,s,n){const r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,l=[];let c,u,d,f;for(c=s,u=s+n;c<u;++c)f=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(parseValue(f,d,i,c));return l}function isFloatBar(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function barSign(t,e,s){return t!==0?sign(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function borderProps(t){let e,s,n,r,i;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(r="end",i="start"):(r="start",i="end"),{start:s,end:n,reverse:e,top:r,bottom:i}}function setBorderSkipped(t,e,s,n){let r=e.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=borderProps(t);r==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?r=c:(s._bottom||0)===n?r=u:(i[parseEdge(u,o,a,l)]=!0,r=c)),i[parseEdge(r,o,a,l)]=!0,t.borderSkipped=i}function parseEdge(t,e,s,n){return n?(t=swap(t,e,s),t=startEnd(t,s,e)):t=startEnd(t,e,s),t}function swap(t,e,s){return t===e?s:t===s?e:t}function startEnd(t,e,s){return t==="start"?e:t==="end"?s:t}function setInflateAmount(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,n,r){return parseArrayOrPrimitive(e,s,n,r)}parseArrayData(e,s,n,r){return parseArrayOrPrimitive(e,s,n,r)}parseObjectData(e,s,n,r){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,g,m,_;for(f=n,g=n+r;f<g;++f)_=s[f],m={},m[i.axis]=i.parse(resolveObjectKey(_,c),f),d.push(parseValue(resolveObjectKey(_,u),m,o,f));return d}updateRangeFromParsed(e,s,n,r){super.updateRangeFromParsed(e,s,n,r);const i=n._custom;i&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:r}=s,i=this.getParsed(e),o=i._custom,a=isFloatBar(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,r){const i=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(s,r);for(let g=s;g<s+n;g++){const m=this.getParsed(g),_=i||isNullOrUndef(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),y=this._calculateBarIndexPixels(g,u),b=(m._stacks||{})[a.axis],v={horizontal:c,base:_.base,enableBorderRadius:!b||isFloatBar(m._custom)||o===b._top||o===b._bottom,x:c?_.head:y.center,y:c?y.center:_.head,height:c?y.size:Math.abs(_.size),width:c?Math.abs(_.size):y.size};f&&(v.options=d||this.resolveDataElementOptions(g,e[g].active?"active":r));const S=v.options||e[g].options;setBorderSkipped(v,S,b,o),setInflateAmount(v,S,u.ratio),this.updateElement(e[g],g,v,r)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=n.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=u=>{const d=u._parsed.find(g=>g[n.axis]===l),f=d&&d[u.vScale.axis];if(isNullOrUndef(f)||isNaN(f))return!0};for(const u of r)if(!(s!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[valueOrDefault(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,n){const r=this._getStacks(e,n),i=s!==void 0?r.indexOf(s):-1;return i===-1?r.length-1:i}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,r=[];let i,o;for(i=0,o=s.data.length;i<o;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const a=e.barThickness;return{min:a||computeMinSampleSize(s),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:r},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),c=l._custom,u=isFloatBar(c);let d=l[s.axis],f=0,g=n?this.applyStack(s,l,n):d,m,_;g!==d&&(f=g-d,g=d),u&&(d=c.barStart,g=c.barEnd-c.barStart,d!==0&&sign(d)!==sign(c.barEnd)&&(f=0),f+=d);const y=!isNullOrUndef(i)&&!u?i:f;let b=s.getPixelForValue(y);if(this.chart.getDataVisibility(e)?m=s.getPixelForValue(f+g):m=b,_=m-b,Math.abs(_)<o){_=barSign(_,s,a)*o,d===a&&(b-=_/2);const v=s.getPixelForDecimal(0),S=s.getPixelForDecimal(1),E=Math.min(v,S),A=Math.max(v,S);b=Math.max(Math.min(b,A),E),m=b+_,n&&!u&&(l._stacks[s.axis]._visualValues[r]=s.getValueForPixel(m)-s.getValueForPixel(b))}if(b===s.getPixelForValue(a)){const v=sign(_)*s.getLineWidthForValue(a)/2;b+=v,_-=v}return{size:_,base:b,head:m,center:m+_/2}}_calculateBarIndexPixels(e,s){const n=s.scale,r=this.options,i=r.skipNull,o=valueOrDefault(r.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=i?this._getStackCount(e):s.stackCount,d=r.barThickness==="flex"?computeFlexCategoryTraits(e,s,r,u*c):computeFitCategoryTraits(e,s,r,u*c),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,g=this._getAxis().indexOf(valueOrDefault(f,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+g;a=d.start+d.chunk*m+d.chunk/2,l=Math.min(o,d.chunk*d.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(o,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)this.getParsed(i)[s.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}function getRatioAndOffset(t,e,s){let n=1,r=1,i=0,o=0;if(e<TAU){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(S,E,A)=>_angleBetween(S,a,l,!0)?1:Math.max(E,E*s,A,A*s),m=(S,E,A)=>_angleBetween(S,a,l,!0)?-1:Math.min(E,E*s,A,A*s),_=g(0,c,d),y=g(HALF_PI,u,f),b=m(PI,c,d),v=m(PI+HALF_PI,u,f);n=(_-b)/2,r=(y-v)/2,i=-(_+b)/2,o=-(y+v)/2}return{ratioX:n,ratioY:r,offsetX:i,offsetY:o}}class DoughnutController extends DatasetController{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data,{labels:{pointStyle:n,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=e.legend.options;return s.labels.length&&s.datasets.length?s.labels.map((l,c)=>{const d=e.getDatasetMeta(0).controller.getStyle(c);return{text:l,fillStyle:d.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(c),lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:d.borderWidth,strokeStyle:d.borderColor,textAlign:r,pointStyle:n,borderRadius:o&&(a||d.borderRadius),index:c}}):[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}};constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let i=l=>+n[l];if(isObject$1(n[e])){const{key:l="value"}=this._parsing;i=c=>+resolveObjectKey(n[c],l)}let o,a;for(o=e,a=e+s;o<a;++o)r._parsed[o]=i(o)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let e=TAU,s=-TAU;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),o=r._getCircumference();e=Math.min(e,i),s=Math.max(s,i+o)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,r=this._cachedMeta,i=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-o)/2,0),l=Math.min(toPercentage(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:m,offsetY:_}=getRatioAndOffset(d,u,l),y=(n.width-o)/f,b=(n.height-o)/g,v=Math.max(Math.min(y,b)/2,0),S=toDimension(this.options.radius,v),E=Math.max(S*l,0),A=(S-E)/this._getVisibleDatasetWeightTotal();this.offsetX=m*S,this.offsetY=_*S,r.total=this.calculateTotal(),this.outerRadius=S-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,s){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/TAU)}updateElements(e,s,n,r){const i=r==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=i&&c.animateScale,g=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:_,includeOptions:y}=this._getSharedOptions(s,r);let b=this._getRotation(),v;for(v=0;v<s;++v)b+=this._circumference(v,i);for(v=s;v<s+n;++v){const S=this._circumference(v,i),E=e[v],A={x:u+this.offsetX,y:d+this.offsetY,startAngle:b,endAngle:b+S,circumference:S,outerRadius:m,innerRadius:g};y&&(A.options=_||this.resolveDataElementOptions(v,E.active?"active":r)),b+=S,this.updateElement(E,v,A,r)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,r;for(r=0;r<s.length;r++){const i=e._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!s[r].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?TAU*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=formatNumber(s._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let s=0;const n=this.chart;let r,i,o,a,l;if(!e){for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){o=n.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,i=e.length;r<i;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,r=e.length;n<r;++n){const i=this.resolveDataElementOptions(n);s=Math.max(s,i.offset||0,i.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(valueOrDefault(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class PieController extends DoughnutController{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(e){Object.assign(DateAdapterBase.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(t,e,s,n){const{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const c=a._reversePixels?_rlookupByKey:_lookupByKey;if(n){if(r._sharedOptions){const u=i[0],d=typeof u.getRange=="function"&&u.getRange(e);if(d){const f=c(i,e,s-d),g=c(i,e,s+d);return{lo:f.lo,hi:g.hi}}}}else{const u=c(i,e,s);if(l){const{vScale:d}=r._cachedMeta,{_parsed:f}=t,g=f.slice(0,u.lo+1).reverse().findIndex(_=>!isNullOrUndef(_[d.axis]));u.lo-=Math.max(0,g);const m=f.slice(u.hi).findIndex(_=>!isNullOrUndef(_[d.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:i.length-1}}function evaluateInteractionItems(t,e,s,n,r){const i=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=binarySearch(i[a],e,o,r);for(let g=d;g<=f;++g){const m=u[g];m.skip||n(m,c,g)}}}function getDistanceMetricForAxis(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,r){const i=e?Math.abs(n.x-r.x):0,o=s?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function getIntersectItems(t,e,s,n,r){const i=[];return!r&&!t.isPointInArea(e)||evaluateInteractionItems(t,s,e,function(a,l,c){!r&&!_isPointInArea(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function getNearestRadialItems(t,e,s,n){let r=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],n),{angle:d}=getAngleFromPoint(o,{x:e.x,y:e.y});_angleBetween(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return evaluateInteractionItems(t,s,e,i),r}function getNearestCartesianItems(t,e,s,n,r,i){let o=[];const a=getDistanceMetricForAxis(s);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const g=u.inRange(e.x,e.y,r);if(n&&!g)return;const m=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(m))&&!g)return;const y=a(e,m);y<l?(o=[{element:u,datasetIndex:d,index:f}],l=y):y===l&&o.push({element:u,datasetIndex:d,index:f})}return evaluateInteractionItems(t,s,e,c),o}function getNearestItems(t,e,s,n,r,i){return!i&&!t.isPointInArea(e)?[]:s==="r"&&!n?getNearestRadialItems(t,e,s,r):getNearestCartesianItems(t,e,s,n,r,i)}function getAxisItems(t,e,s,n,r){const i=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return evaluateInteractionItems(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],r)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),n&&!a?[]:i}var Interaction={modes:{index(t,e,s,n){const r=getRelativePosition(e,t),i=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?getIntersectItems(t,r,i,n,o):getNearestItems(t,r,i,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,n){const r=getRelativePosition(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?getIntersectItems(t,r,i,n,o):getNearestItems(t,r,i,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,s,n){const r=getRelativePosition(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return getIntersectItems(t,r,i,n,o)},nearest(t,e,s,n){const r=getRelativePosition(e,t),i=s.axis||"xy",o=s.includeInvisible||!1;return getNearestItems(t,r,i,s.intersect,n,o)},x(t,e,s,n){const r=getRelativePosition(e,t);return getAxisItems(t,r,"x",s.intersect,n)},y(t,e,s,n){const r=getRelativePosition(e,t);return getAxisItems(t,r,"y",s.intersect,n)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(t,e){return t.filter(s=>s.pos===e)}function filterDynamicPositionByAxis(t,e){return t.filter(s=>STATIC_POSITIONS.indexOf(s.pos)===-1&&s.box.axis===e)}function sortByWeight(t,e){return t.sort((s,n)=>{const r=e?n:s,i=e?s:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function wrapBoxes(t){const e=[];let s,n,r,i,o,a;for(s=0,n=(t||[]).length;s<n;++s)r=t[s],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:s,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function buildStacks(t){const e={};for(const s of t){const{stack:n,pos:r,stackWeight:i}=s;if(!n||!STATIC_POSITIONS.includes(r))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function setLayoutDims(t,e){const s=buildStacks(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&e.availableWidth,a.height=r):(a.width=n,a.height=u?u*r:l&&e.availableHeight)}return s}function buildLayoutBoxes(t){const e=wrapBoxes(t),s=sortByWeight(e.filter(c=>c.box.fullSize),!0),n=sortByWeight(filterByPosition(e,"left"),!0),r=sortByWeight(filterByPosition(e,"right")),i=sortByWeight(filterByPosition(e,"top"),!0),o=sortByWeight(filterByPosition(e,"bottom")),a=filterDynamicPositionByAxis(e,"x"),l=filterDynamicPositionByAxis(e,"y");return{fullSize:s,leftAndTop:n.concat(i),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:filterByPosition(e,"chartArea"),vertical:n.concat(r).concat(l),horizontal:i.concat(o).concat(a)}}function getCombinedMax(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function updateMaxPadding(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function updateDims(t,e,s,n){const{pos:r,box:i}=s,o=t.maxPadding;if(!isObject$1(r)){s.size&&(t[r]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?i.height:i.width),s.size=d.size/d.count,t[r]+=s.size}i.getPadding&&updateMaxPadding(o,i.getPadding());const a=Math.max(0,e.outerWidth-getCombinedMax(o,t,"left","right")),l=Math.max(0,e.outerHeight-getCombinedMax(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function handleMaxPadding(t){const e=t.maxPadding;function s(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function getMargins(t,e){const s=e.maxPadding;function n(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],s[o])}),i}return n(t?["left","right"]:["top","bottom"])}function fitBoxes(t,e,s,n){const r=[];let i,o,a,l,c,u;for(i=0,o=t.length,c=0;i<o;++i){a=t[i],l=a.box,l.update(a.width||e.w,a.height||e.h,getMargins(a.horizontal,e));const{same:d,other:f}=updateDims(e,s,a,n);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&fitBoxes(r,e,s,n)||u}function setBoxDims(t,e,s,n,r){t.top=s,t.left=e,t.right=e+n,t.bottom=s+r,t.width=n,t.height=r}function placeBoxes(t,e,s,n){const r=s.padding;let{x:i,y:o}=e;for(const a of t){const l=a.box,c=n[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;defined(c.start)&&(o=c.start),l.fullSize?setBoxDims(l,r.left,o,s.outerWidth-r.right-r.left,f):setBoxDims(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;defined(c.start)&&(i=c.start),l.fullSize?setBoxDims(l,i,r.top,f,s.outerHeight-r.bottom-r.top):setBoxDims(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var layouts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const r=toPadding(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(s-r.height,0),a=buildLayoutBoxes(t.boxes),l=a.vertical,c=a.horizontal;each(t.boxes,_=>{typeof _.beforeLayout=="function"&&_.beforeLayout()});const u=l.reduce((_,y)=>y.box.options&&y.box.options.display===!1?_:_+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:s,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);updateMaxPadding(f,toPadding(n));const g=Object.assign({maxPadding:f,w:i,h:o,x:r.left,y:r.top},r),m=setLayoutDims(l.concat(c),d);fitBoxes(a.fullSize,g,d,m),fitBoxes(l,g,d,m),fitBoxes(c,g,d,m)&&fitBoxes(l,g,d,m),handleMaxPadding(g),placeBoxes(a.leftAndTop,g,d,m),g.x+=g.w,g.y+=g.h,placeBoxes(a.rightAndBottom,g,d,m),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},each(a.chartArea,_=>{const y=_.box;Object.assign(y,t.chartArea),y.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,r){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,r?Math.floor(s/r):n)}}isAttached(e){return!0}updateConfig(e){}}class BasicPlatform extends BasePlatform{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=t=>t===null||t==="";function initCanvas(t,e){const s=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[EXPANDO_KEY]={initial:{height:n,width:r,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",isNullOrEmpty(r)){const i=readUsedSize(t,"width");i!==void 0&&(t.width=i)}if(isNullOrEmpty(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=readUsedSize(t,"height");i!==void 0&&(t.height=i)}return t}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener(t,e,s){t&&t.addEventListener(e,s,eventListenerOptions)}function removeListener(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,eventListenerOptions)}function fromNativeEvent(t,e){const s=EVENT_TYPES[t.type]||t.type,{x:n,y:r}=getRelativePosition(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function nodeListContains(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function createAttachObserver(t,e,s){const n=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||nodeListContains(a.addedNodes,n),o=o&&!nodeListContains(a.removedNodes,n);o&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}function createDetachObserver(t,e,s){const n=t.canvas,r=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||nodeListContains(a.removedNodes,n),o=o&&!nodeListContains(a.addedNodes,n);o&&s()});return r.observe(document,{childList:!0,subtree:!0}),r}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const t=window.devicePixelRatio;t!==oldDevicePixelRatio&&(oldDevicePixelRatio=t,drpListeningCharts.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function listenDevicePixelRatioChanges(t,e){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(t,e)}function unlistenDevicePixelRatioChanges(t){drpListeningCharts.delete(t),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(t,e,s){const n=t.canvas,r=n&&_getParentNode(n);if(!r)return;const i=throttled((a,l)=>{const c=r.clientWidth;s(a,l),c<r.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(r),listenDevicePixelRatioChanges(t,i),o}function releaseObserver(t,e,s){s&&s.disconnect(),e==="resize"&&unlistenDevicePixelRatioChanges(t)}function createProxyAndListen(t,e,s){const n=t.canvas,r=throttled(i=>{t.ctx!==null&&s(fromNativeEvent(i,t))},t);return addListener(n,e,r),r}class DomPlatform extends BasePlatform{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(initCanvas(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[EXPANDO_KEY])return!1;const n=s[EXPANDO_KEY].initial;["height","width"].forEach(i=>{const o=n[i];isNullOrUndef(o)?s.removeAttribute(i):s.setAttribute(i,o)});const r=n.style||{};return Object.keys(r).forEach(i=>{s.style[i]=r[i]}),s.width=s.width,delete s[EXPANDO_KEY],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const r=e.$proxies||(e.$proxies={}),o={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[s]||createProxyAndListen;r[s]=o(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),r=n[s];if(!r)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[s]||removeListener)(e,s,r),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,r){return getMaximumSize(e,s,n,r)}isAttached(e){const s=e&&_getParentNode(e);return!!(s&&s.isConnected)}}function _detectPlatform(t){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return isNumber(this.x)&&isNumber(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const r={};return e.forEach(i=>{r[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),r}};function autoSkip(t,e){const s=t.options.ticks,n=determineMaxTicks(t),r=Math.min(s.maxTicksLimit||n,n),i=s.major.enabled?getMajorIndices(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>r)return skipMajors(e,c,i,o/r),c;const u=calculateSpacing(i,e,r);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(skip(e,c,u,isNullOrUndef(g)?0:a-g,a),d=0,f=o-1;d<f;d++)skip(e,c,u,i[d],i[d+1]);return skip(e,c,u,l,isNullOrUndef(g)?e.length:l+g),c}return skip(e,c,u),c}function determineMaxTicks(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),r=t._maxLength/s;return Math.floor(Math.min(n,r))}function calculateSpacing(t,e,s){const n=getEvenSpacing(t),r=e.length/s;if(!n)return Math.max(r,1);const i=_factorize(n);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>r)return l}return Math.max(r,1)}function getMajorIndices(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function skipMajors(t,e,s,n){let r=0,i=s[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=s[r*n])}function skip(t,e,s,n,r){const i=valueOrDefault(n,0),o=Math.min(valueOrDefault(r,t.length),t.length);let a=0,l,c,u;for(s=Math.ceil(s),r&&(l=r-n,s=l/Math.floor(l/s)),u=i;u<0;)a++,u=Math.round(i+a*s);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(i+a*s))}function getEvenSpacing(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const reverseAlign=t=>t==="left"?"right":t==="right"?"left":t,offsetFromEdge=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,getTicksLimit=(t,e)=>Math.min(e||t,t);function sample(t,e){const s=[],n=t.length/e,r=t.length;let i=0;for(;i<r;i+=n)s.push(t[Math.floor(i)]);return s}function getPixelForGridLine(t,e,s){const n=t.ticks.length,r=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),c;if(!(s&&(n===1?c=Math.max(l-i,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<i-a||l>o+a)))return l}function garbageCollect(t,e){each(t,s=>{const n=s.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete s.data[n[i]];n.splice(0,r)}})}function getTickMarkLength(t){return t.drawTicks?t.tickLength:0}function getTitleHeight(t,e){if(!t.display)return 0;const s=toFont(t.font,e),n=toPadding(t.padding);return(isArray(t.text)?t.text.length:1)*s.lineHeight+n.height}function createScaleContext(t,e){return createContext(t,{scale:e,type:"scale"})}function createTickContext(t,e,s){return createContext(t,{tick:s,index:e,type:"tick"})}function titleAlign(t,e,s){let n=_toLeftRightCenter(t);return(s&&e!=="right"||!s&&e==="right")&&(n=reverseAlign(n)),n}function titleArgs(t,e,s,n){const{top:r,left:i,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let d=0,f,g,m;const _=o-r,y=a-i;if(t.isHorizontal()){if(g=_alignStartEnd(n,i,a),isObject$1(s)){const b=Object.keys(s)[0],v=s[b];m=u[b].getPixelForValue(v)+_-e}else s==="center"?m=(c.bottom+c.top)/2+_-e:m=offsetFromEdge(t,s,e);f=a-i}else{if(isObject$1(s)){const b=Object.keys(s)[0],v=s[b];g=u[b].getPixelForValue(v)-y+e}else s==="center"?g=(c.left+c.right)/2-y+e:g=offsetFromEdge(t,s,e);m=_alignStartEnd(n,o,r),d=s==="left"?-HALF_PI:HALF_PI}return{titleX:g,titleY:m,maxWidth:f,rotation:d}}class Scale extends Element$1{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:r}=this;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),s=finiteOrDefault(s,Number.NEGATIVE_INFINITY),n=finiteOrDefault(n,Number.POSITIVE_INFINITY),r=finiteOrDefault(r,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,n),max:finiteOrDefault(s,r),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(s)}}getMinMax(e){let{min:s,max:n,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(s=Math.min(s,o.min)),i||(n=Math.max(n,o.max));return s=i&&s>n?n:s,n=r&&s>n?s:n,{min:finiteOrDefault(s,finiteOrDefault(n,s)),max:finiteOrDefault(n,finiteOrDefault(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?sample(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),callback(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=callback(s.callback,[i.value,n,e],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=getTicksLimit(this.ticks.length,e.ticks.maxTicksLimit),r=s.minRotation||0,i=s.maxRotation;let o=r,a,l,c;if(!this._isVisible()||!s.display||r>=i||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,g=_limitValue(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:g/(n-1),d+6>a&&(a=g/(n-(e.offset?.5:1)),l=this.maxHeight-getTickMarkLength(e.grid)-s.padding-getTitleHeight(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=toDegrees(Math.min(Math.asin(_limitValue((u.highest.height+6)/a,-1,1)),Math.asin(_limitValue(l/c,-1,1))-Math.asin(_limitValue(f/c,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=getTitleHeight(r,s.options.font);if(a?(e.width=this.maxWidth,e.height=getTickMarkLength(i)+l):(e.height=this.maxHeight,e.width=getTickMarkLength(i)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),g=n.padding*2,m=toRadians(this.labelRotation),_=Math.cos(m),y=Math.sin(m);if(a){const b=n.mirror?0:y*d.width+_*f.height;e.height=Math.min(this.maxHeight,e.height+b+g)}else{const b=n.mirror?0:_*d.width+y*f.height;e.width=Math.min(this.maxWidth,e.width+b+g)}this._calculatePadding(c,u,y,_)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,r){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?c?(f=r*e.width,g=n*s.height):(f=n*e.height,g=r*s.width):i==="start"?g=s.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,g=s.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let u=s.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=s.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)isNullOrUndef(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=sample(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:r,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(s/getTicksLimit(s,n));let c=0,u=0,d,f,g,m,_,y,b,v,S,E,A;for(d=0;d<s;d+=l){if(m=e[d].label,_=this._resolveTickFontOptions(d),r.font=y=_.string,b=i[y]=i[y]||{data:{},gc:[]},v=_.lineHeight,S=E=0,!isNullOrUndef(m)&&!isArray(m))S=_measureText(r,b.data,b.gc,S,m),E=v;else if(isArray(m))for(f=0,g=m.length;f<g;++f)A=m[f],!isNullOrUndef(A)&&!isArray(A)&&(S=_measureText(r,b.data,b.gc,S,A),E+=v);o.push(S),a.push(E),c=Math.max(S,c),u=Math.max(E,u)}garbageCollect(i,s);const C=o.indexOf(c),R=a.indexOf(u),O=x=>({width:o[x]||0,height:a[x]||0});return{first:O(0),last:O(s-1),widest:O(C),highest:O(R),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=createTickContext(this.getContext(),e,n))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=toRadians(this.labelRotation),n=Math.abs(Math.cos(s)),r=Math.abs(Math.sin(s)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,r=this.options,{grid:i,position:o,border:a}=r,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=getTickMarkLength(i),g=[],m=a.setContext(this.getContext()),_=m.display?m.width:0,y=_/2,b=function(q){return _alignPixel(n,q,_)};let v,S,E,A,C,R,O,x,B,L,N,K;if(o==="top")v=b(this.bottom),R=this.bottom-f,x=v-y,L=b(e.top)+y,K=e.bottom;else if(o==="bottom")v=b(this.top),L=e.top,K=b(e.bottom)-y,R=v+y,x=this.top+f;else if(o==="left")v=b(this.right),C=this.right-f,O=v-y,B=b(e.left)+y,N=e.right;else if(o==="right")v=b(this.left),B=e.left,N=b(e.right)-y,C=v+y,O=this.left+f;else if(s==="x"){if(o==="center")v=b((e.top+e.bottom)/2+.5);else if(isObject$1(o)){const q=Object.keys(o)[0],W=o[q];v=b(this.chart.scales[q].getPixelForValue(W))}L=e.top,K=e.bottom,R=v+y,x=R+f}else if(s==="y"){if(o==="center")v=b((e.left+e.right)/2);else if(isObject$1(o)){const q=Object.keys(o)[0],W=o[q];v=b(this.chart.scales[q].getPixelForValue(W))}C=v-y,O=C-f,B=e.left,N=e.right}const ee=valueOrDefault(r.ticks.maxTicksLimit,d),G=Math.max(1,Math.ceil(d/ee));for(S=0;S<d;S+=G){const q=this.getContext(S),W=i.setContext(q),Q=a.setContext(q),te=W.lineWidth,le=W.color,ce=Q.dash||[],oe=Q.dashOffset,ge=W.tickWidth,ue=W.tickColor,fe=W.tickBorderDash||[],ae=W.tickBorderDashOffset;E=getPixelForGridLine(this,S,l),E!==void 0&&(A=_alignPixel(n,E,te),c?C=O=B=N=A:R=x=L=K=A,g.push({tx1:C,ty1:R,tx2:O,ty2:x,x1:B,y1:L,x2:N,y2:K,width:te,color:le,borderDash:ce,borderDashOffset:oe,tickWidth:ge,tickColor:ue,tickBorderDash:fe,tickBorderDashOffset:ae}))}return this._ticksLength=d,this._borderValue=v,g}_computeLabelItems(e){const s=this.axis,n=this.options,{position:r,ticks:i}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=getTickMarkLength(n.grid),g=f+u,m=d?-u:g,_=-toRadians(this.labelRotation),y=[];let b,v,S,E,A,C,R,O,x,B,L,N,K="middle";if(r==="top")C=this.bottom-m,R=this._getXAxisLabelAlignment();else if(r==="bottom")C=this.top+m,R=this._getXAxisLabelAlignment();else if(r==="left"){const G=this._getYAxisLabelAlignment(f);R=G.textAlign,A=G.x}else if(r==="right"){const G=this._getYAxisLabelAlignment(f);R=G.textAlign,A=G.x}else if(s==="x"){if(r==="center")C=(e.top+e.bottom)/2+g;else if(isObject$1(r)){const G=Object.keys(r)[0],q=r[G];C=this.chart.scales[G].getPixelForValue(q)+g}R=this._getXAxisLabelAlignment()}else if(s==="y"){if(r==="center")A=(e.left+e.right)/2-g;else if(isObject$1(r)){const G=Object.keys(r)[0],q=r[G];A=this.chart.scales[G].getPixelForValue(q)}R=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?K="top":l==="end"&&(K="bottom"));const ee=this._getLabelSizes();for(b=0,v=a.length;b<v;++b){S=a[b],E=S.label;const G=i.setContext(this.getContext(b));O=this.getPixelForTick(b)+i.labelOffset,x=this._resolveTickFontOptions(b),B=x.lineHeight,L=isArray(E)?E.length:1;const q=L/2,W=G.color,Q=G.textStrokeColor,te=G.textStrokeWidth;let le=R;o?(A=O,R==="inner"&&(b===v-1?le=this.options.reverse?"left":"right":b===0?le=this.options.reverse?"right":"left":le="center"),r==="top"?c==="near"||_!==0?N=-L*B+B/2:c==="center"?N=-ee.highest.height/2-q*B+B:N=-ee.highest.height+B/2:c==="near"||_!==0?N=B/2:c==="center"?N=ee.highest.height/2-q*B:N=ee.highest.height-L*B,d&&(N*=-1),_!==0&&!G.showLabelBackdrop&&(A+=B/2*Math.sin(_))):(C=O,N=(1-L)*B/2);let ce;if(G.showLabelBackdrop){const oe=toPadding(G.backdropPadding),ge=ee.heights[b],ue=ee.widths[b];let fe=N-oe.top,ae=0-oe.left;switch(K){case"middle":fe-=ge/2;break;case"bottom":fe-=ge;break}switch(R){case"center":ae-=ue/2;break;case"right":ae-=ue;break;case"inner":b===v-1?ae-=ue:b>0&&(ae-=ue/2);break}ce={left:ae,top:fe,width:ue+oe.width,height:ge+oe.height,color:G.backdropColor}}y.push({label:E,font:x,textOffset:N,options:{rotation:_,color:W,strokeColor:Q,strokeWidth:te,textAlign:le,textBaseline:K,translation:[A,C],backdrop:ce}})}return y}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-toRadians(this.labelRotation))return e==="top"?"left":"right";let r="center";return s.align==="start"?r="left":s.align==="end"?r="right":s.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return s==="left"?r?(u=this.right+i,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?r?(u=this.left+i,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:r,width:i,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,r,i,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const r=this.ticks.findIndex(i=>i.value===e);return r>=0?s.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(i=0,o=r.length;i<o;++i){const l=r[i];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=_alignPixel(e,this.left,o)-o/2,u=_alignPixel(e,this.right,a)+a/2,d=f=l):(d=_alignPixel(e,this.top,o)-o/2,f=_alignPixel(e,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=i.width,s.strokeStyle=i.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&clipArea(n,r);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;renderText(n,c,0,u,l,a)}r&&unclipArea(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:r}}=this;if(!n.display)return;const i=toFont(n.font),o=toPadding(n.padding),a=n.align;let l=i.lineHeight/2;s==="bottom"||s==="center"||isObject$1(s)?(l+=o.bottom,isArray(n.text)&&(l+=i.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=titleArgs(this,l,s,a);renderText(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:f,textAlign:titleAlign(a,s,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=valueOrDefault(e.grid&&e.grid.z,-1),r=valueOrDefault(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:s,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:s,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,o;for(i=0,o=s.length;i<o;++i){const a=s[i];a[n]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return toFont(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class TypedRegistry{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;isIChartComponent(s)&&(n=this.register(s));const r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,registerDefaults(e,o,n),this.override&&defaults.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,r=this.scope;n in s&&delete s[n],r&&n in defaults[r]&&(delete defaults[r][n],this.override&&delete overrides[n])}}function registerDefaults(t,e,s){const n=merge(Object.create(null),[s?defaults.get(s):{},defaults.get(e),t.defaults]);defaults.set(e,n),t.defaultRoutes&&routeDefaults(e,t.defaultRoutes),t.descriptors&&defaults.describe(e,t.descriptors)}function routeDefaults(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),r=n.pop(),i=[t].concat(n).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");defaults.route(i,r,l,a)})}function isIChartComponent(t){return"id"in t&&"defaults"in t}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(r=>{const i=n||this._getRegistryForType(r);n||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):each(r,o=>{const a=n||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,s,n){const r=_capitalize(e);callback(n["before"+r],[],n),s[e](n),callback(n["after"+r],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const r=s.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var registry=new Registry;class PluginService{constructor(){this._init=void 0}notify(e,s,n,r){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,s,n);return s==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,s,n,r){r=r||{};for(const i of e){const o=i.plugin,a=o[n],l=[s,r,i.options];if(callback(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,r=valueOrDefault(n.options&&n.options.plugins,{}),i=allPlugins(n);return r===!1&&!s?[]:createDescriptors(e,i,r,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,r=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(s,n),e,"stop"),this._notify(r(n,s),e,"start")}}function allPlugins(t){const e={},s=[],n=Object.keys(registry.plugins.items);for(let i=0;i<n.length;i++)s.push(registry.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const o=r[i];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function getOpts(t,e){return!e&&t===!1?null:t===!0?{}:t}function createDescriptors(t,{plugins:e,localIds:s},n,r){const i=[],o=t.getContext();for(const a of e){const l=a.id,c=getOpts(n[l],r);c!==null&&i.push({plugin:a,options:pluginOpts(t.config,{plugin:a,local:s[l]},c,o)})}return i}function pluginOpts(t,{plugin:e,local:s},n,r){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(t,e){const s=defaults.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function getAxisFromDefaultScaleID(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function getDefaultScaleIDFromAxis(t,e){return t===e?"_index_":"_value_"}function idMatchesAxis(t){if(t==="x"||t==="y"||t==="r")return t}function axisFromPosition(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function determineAxis(t,...e){if(idMatchesAxis(t))return t;for(const s of e){const n=s.axis||axisFromPosition(s.position)||t.length>1&&idMatchesAxis(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function retrieveAxisFromDatasets(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return getAxisFromDataset(t,"x",s[0])||getAxisFromDataset(t,"y",s[0])}return{}}function mergeScaleConfig(t,e){const s=overrides[t.type]||{scales:{}},n=e.scales||{},r=getIndexAxis(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!isObject$1(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=determineAxis(o,a,retrieveAxisFromDatasets(o,t),defaults.scales[a.type]),c=getDefaultScaleIDFromAxis(l,r),u=s.scales||{};i[o]=mergeIf(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||getIndexAxis(a,e),u=(overrides[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=getAxisFromDefaultScaleID(d,l),g=o[f+"AxisID"]||f;i[g]=i[g]||Object.create(null),mergeIf(i[g],[{axis:f},n[g],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];mergeIf(a,[defaults.scales[a.type],defaults.scale])}),i}function initOptions(t){const e=t.options||(t.options={});e.plugins=valueOrDefault(e.plugins,{}),e.scales=mergeScaleConfig(t,e)}function initData(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function initConfig(t){return t=t||{},t.data=initData(t.data),initOptions(t),t}const keyCache=new Map,keysCached=new Set;function cachedKeys(t,e){let s=keyCache.get(t);return s||(s=e(),keyCache.set(t,s),keysCached.add(s)),s}const addIfFound=(t,e,s)=>{const n=resolveObjectKey(e,s);n!==void 0&&t.add(n)};class Config{constructor(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=initData(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),initOptions(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cachedKeys(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return cachedKeys(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return cachedKeys(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return cachedKeys(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let r=n.get(e);return(!r||s)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,s,n){const{options:r,type:i}=this,o=this._cachedScopes(e,n),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(d=>addIfFound(l,e,d))),u.forEach(d=>addIfFound(l,r,d)),u.forEach(d=>addIfFound(l,overrides[i]||{},d)),u.forEach(d=>addIfFound(l,defaults,d)),u.forEach(d=>addIfFound(l,descriptors,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),keysCached.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,overrides[s]||{},defaults.datasets[s]||{},{type:s},defaults,descriptors]}resolveNamedOptions(e,s,n,r=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=getResolver(this._resolverCache,e,r);let l=o;if(needContext(o,s)){i.$shared=!1,n=isFunction(n)?n():n;const c=this.createResolver(e,n,a);l=_attachContext(o,n,c)}for(const c of s)i[c]=l[c];return i}createResolver(e,s,n=[""],r){const{resolver:i}=getResolver(this._resolverCache,e,n);return isObject$1(s)?_attachContext(i,s,void 0,r):i}}function getResolver(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const r=s.join();let i=n.get(r);return i||(i={resolver:_createResolver(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,i)),i}const hasFunction=t=>isObject$1(t)&&Object.getOwnPropertyNames(t).some(e=>isFunction(t[e]));function needContext(t,e){const{isScriptable:s,isIndexable:n}=_descriptors(t);for(const r of e){const i=s(r),o=n(r),a=(o||i)&&t[r];if(i&&(isFunction(a)||hasFunction(a))||o&&isArray(a))return!0}return!1}var version$4="4.5.1";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(t,e){return t==="top"||t==="bottom"||KNOWN_POSITIONS.indexOf(t)===-1&&e==="x"}function compare2Level(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function onAnimationsComplete(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),callback(s&&s.onComplete,[t],e)}function onAnimationProgress(t){const e=t.chart,s=e.options.animation;callback(s&&s.onProgress,[t],e)}function getCanvas(t){return _isDomSupported()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const instances={},getChart=t=>{const e=getCanvas(t);return Object.values(instances).filter(s=>s.canvas===e).pop()};function moveNumericKeys(t,e,s){const n=Object.keys(t);for(const r of n){const i=+r;if(i>=e){const o=t[r];delete t[r],(s>0||i>e)&&(t[i+s]=o)}}}function determineLastEvent(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}let Chart$1=class{static defaults=defaults;static instances=instances;static overrides=overrides;static registry=registry;static version=version$4;static getChart=getChart;static register(...e){registry.add(...e),invalidatePlugins()}static unregister(...e){registry.remove(...e),invalidatePlugins()}constructor(e,s){const n=this.config=new Config(s),r=getCanvas(e),i=getChart(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||_detectPlatform(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=uid(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:r,_aspectRatio:i}=this;return isNullOrUndef(e)?s&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(e,s){animator.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,s,i),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,retinaScale(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),callback(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};each(s,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,r=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let i=[];s&&(i=i.concat(Object.keys(s).map(o=>{const a=s[o],l=determineAxis(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),each(i,o=>{const a=o.options,l=a.id,c=determineAxis(l,a),u=valueOrDefault(a.type,o.dtype);(a.position===void 0||positionIsHorizontal(a.position,c)!==positionIsHorizontal(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const f=registry.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,e)}),each(r,(o,a)=>{o||delete n[a]}),each(n,o=>{layouts.configure(this,o,o.options),layouts.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((r,i)=>r.index-i.index),n>s){for(let r=s;r<n;++r)this._destroyDatasetMeta(r);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,r)=>{s.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=s.length;n<r;n++){const i=s[n];let o=this.getDatasetMeta(n);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=i.indexAxis||getIndexAxis(a,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=registry.getController(a),{datasetElementType:c,dataElementType:u}=defaults.datasets[a];Object.assign(l,{dataElementType:registry.getElement(u),datasetElementType:c&&registry.getElement(c)}),o.controller=new l(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){each(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||each(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(compare2Level("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){each(this.scales,e=>{layouts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!setsEqual(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of s){const o=n==="_removeElements"?-i:i;moveNumericKeys(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),r=n(0);for(let i=1;i<s;i++)if(!setsEqual(r,n(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],each(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,isFunction(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(s),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let r,i;for(r=0,i=s.length;r<i;++r){const o=s[r];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=getDatasetClipArea(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&clipArea(s,r),e.controller.draw(),r&&unclipArea(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return _isPointInArea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,r){const i=Interaction.modes[s];return typeof i=="function"?i(this,e,n,r):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let r=n.filter(i=>i&&i._dataset===s).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,r);defined(s)?(i.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),animator.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),clearCanvas(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(i,o)=>{s.addEventListener(this,i,o),e[i]=o},r=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};each(this.options.events,i=>n(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},r=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){each(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},each(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const r=n?"set":"remove";let i,o,a,l;for(s==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!_elementsEqual(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const r=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(s,e),a=n?e:i(e,s);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const i=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:r=[],options:i}=this,o=s,a=this._getActiveElements(e,r,n,o),l=_isClickEvent(e),c=determineLastEvent(e,this._lastEvent,n,l);n&&(this._lastEvent=null,callback(i.onHover,[e,a,this],this),l&&callback(i.onClick,[e,a,this],this));const u=!_elementsEqual(a,r);return(u||s)&&(this._active=a,this._updateHoverStyles(a,r,s)),this._lastEvent=c,u}_getActiveElements(e,s,n,r){if(e.type==="mouseout")return[];if(!n)return s;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}};function invalidatePlugins(){return each(Chart$1.instances,t=>t._plugins.invalidate())}function clipSelf(t,e,s){const{startAngle:n,x:r,y:i,outerRadius:o,innerRadius:a,options:l}=e,{borderWidth:c,borderJoinStyle:u}=l,d=Math.min(c/o,_normalizeAngle(n-s));if(t.beginPath(),t.arc(r,i,o-c/2,n+d/2,s-d/2),a>0){const f=Math.min(c/a,_normalizeAngle(n-s));t.arc(r,i,a+c/2,s-f/2,n+f/2,!0)}else{const f=Math.min(c/2,o*_normalizeAngle(n-s));if(u==="round")t.arc(r,i,f,s-PI/2,n+PI/2,!0);else if(u==="bevel"){const g=2*f*f,m=-g*Math.cos(s+PI/2)+r,_=-g*Math.sin(s+PI/2)+i,y=g*Math.cos(n+PI/2)+r,b=g*Math.sin(n+PI/2)+i;t.lineTo(m,_),t.lineTo(y,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function clipArc(t,e,s){const{startAngle:n,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=r/a;t.beginPath(),t.arc(i,o,a,n-c,s+c),l>r?(c=r/l,t.arc(i,o,l,s+c,n-c,!0)):t.arc(i,o,r,s+HALF_PI,n-HALF_PI),t.closePath(),t.clip()}function toRadiusCorners(t){return _readValueToProps(t,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(t,e,s,n){const r=toRadiusCorners(t.options.borderRadius),i=(s-e)/2,o=Math.min(i,n*e/2),a=l=>{const c=(s-Math.min(i,l))*n/2;return _limitValue(l,0,Math.min(i,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:_limitValue(r.innerStart,0,o),innerEnd:_limitValue(r.innerEnd,0,o)}}function rThetaToXY(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function pathArc(t,e,s,n,r,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+n+s-c,0),f=u>0?u+n+s+c:0;let g=0;const m=r-l;if(n){const G=u>0?u-n:0,q=d>0?d-n:0,W=(G+q)/2,Q=W!==0?m*W/(W+n):m;g=(m-Q)/2}const _=Math.max(.001,m*d-s/PI)/d,y=(m-_)/2,b=l+y+g,v=r-y-g,{outerStart:S,outerEnd:E,innerStart:A,innerEnd:C}=parseBorderRadius$1(e,f,d,v-b),R=d-S,O=d-E,x=b+S/R,B=v-E/O,L=f+A,N=f+C,K=b+A/L,ee=v-C/N;if(t.beginPath(),i){const G=(x+B)/2;if(t.arc(o,a,d,x,G),t.arc(o,a,d,G,B),E>0){const te=rThetaToXY(O,B,o,a);t.arc(te.x,te.y,E,B,v+HALF_PI)}const q=rThetaToXY(N,v,o,a);if(t.lineTo(q.x,q.y),C>0){const te=rThetaToXY(N,ee,o,a);t.arc(te.x,te.y,C,v+HALF_PI,ee+Math.PI)}const W=(v-C/f+(b+A/f))/2;if(t.arc(o,a,f,v-C/f,W,!0),t.arc(o,a,f,W,b+A/f,!0),A>0){const te=rThetaToXY(L,K,o,a);t.arc(te.x,te.y,A,K+Math.PI,b-HALF_PI)}const Q=rThetaToXY(R,b,o,a);if(t.lineTo(Q.x,Q.y),S>0){const te=rThetaToXY(R,x,o,a);t.arc(te.x,te.y,S,b-HALF_PI,x)}}else{t.moveTo(o,a);const G=Math.cos(x)*d+o,q=Math.sin(x)*d+a;t.lineTo(G,q);const W=Math.cos(B)*d+o,Q=Math.sin(B)*d+a;t.lineTo(W,Q)}t.closePath()}function drawArc(t,e,s,n,r){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){pathArc(t,e,s,n,l,r);for(let c=0;c<i;++c)t.fill();isNaN(a)||(l=o+(a%TAU||TAU))}return pathArc(t,e,s,n,l,r),t.fill(),l}function drawBorder(t,e,s,n,r){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f,borderRadius:g}=l,m=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=f,m?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let _=e.endAngle;if(i){pathArc(t,e,s,n,_,r);for(let y=0;y<i;++y)t.stroke();isNaN(a)||(_=o+(a%TAU||TAU))}m&&clipArc(t,e,_),l.selfJoin&&_-o>=PI&&g===0&&u!=="miter"&&clipSelf(t,e,_),i||(pathArc(t,e,s,n,_,r),t.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,n){const r=this.getProps(["x","y"],n),{angle:i,distance:o}=getAngleFromPoint(r,{x:e,y:s}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=(this.options.spacing+this.options.borderWidth)/2,g=valueOrDefault(d,l-a),m=_angleBetween(i,a,l)&&a!==l,_=g>=TAU||m,y=_isBetween(o,c+f,u+f);return _&&y}getCenterPoint(e){const{x:s,y:n,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(r+i)/2,d=(o+a+c+l)/2;return{x:s+Math.cos(u)*d,y:n+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:n}=this,r=(s.offset||0)/4,i=(s.spacing||0)/2,o=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=n>TAU?Math.floor(n/TAU):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);const l=1-Math.sin(Math.min(PI,n||0)),c=r*l;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,drawArc(e,this,c,i,o),drawBorder(e,this,c,i,o),e.restore()}}function getBarBounds(t,e){const{x:s,y:n,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(s,r),l=Math.max(s,r),c=n-d,u=n+d):(d=i/2,a=s-d,l=s+d,c=Math.min(n,r),u=Math.max(n,r)),{left:a,top:c,right:l,bottom:u}}function skipOrLimit(t,e,s,n){return t?0:_limitValue(e,s,n)}function parseBorderWidth(t,e,s){const n=t.options.borderWidth,r=t.borderSkipped,i=toTRBL(n);return{t:skipOrLimit(r.top,i.top,0,s),r:skipOrLimit(r.right,i.right,0,e),b:skipOrLimit(r.bottom,i.bottom,0,s),l:skipOrLimit(r.left,i.left,0,e)}}function parseBorderRadius(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=toTRBLCorners(r),o=Math.min(e,s),a=t.borderSkipped,l=n||isObject$1(r);return{topLeft:skipOrLimit(!l||a.top||a.left,i.topLeft,0,o),topRight:skipOrLimit(!l||a.top||a.right,i.topRight,0,o),bottomLeft:skipOrLimit(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:skipOrLimit(!l||a.bottom||a.right,i.bottomRight,0,o)}}function boundingRects(t){const e=getBarBounds(t),s=e.right-e.left,n=e.bottom-e.top,r=parseBorderWidth(t,s/2,n/2),i=parseBorderRadius(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:s-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function inRange(t,e,s,n){const r=e===null,i=s===null,a=t&&!(r&&i)&&getBarBounds(t,n);return a&&(r||_isBetween(e,a.left,a.right))&&(i||_isBetween(s,a.top,a.bottom))}function hasRadius(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function addNormalRectPath(t,e){t.rect(e.x,e.y,e.w,e.h)}function inflateRect(t,e,s={}){const n=t.x!==s.x?-e:0,r=t.y!==s.y?-e:0,i=(t.x+t.w!==s.x+s.w?e:0)-n,o=(t.y+t.h!==s.y+s.h?e:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:o}=boundingRects(this),a=hasRadius(o.radius)?addRoundedRectPath:addNormalRectPath;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,inflateRect(o,s,i)),e.clip(),a(e,inflateRect(i,-s,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,inflateRect(i,s)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,s,n){return inRange(this,e,s,n)}inXRange(e,s){return inRange(this,e,null,s)}inYRange(e,s){return inRange(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(s+r)/2:s,y:i?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const getBoxSize=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},itemsEqual=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Legend extends Element$1{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=callback(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,r)=>e.sort(n,r,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,r=toFont(n.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=getBoxSize(n,i);let c,u;s.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,r){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,g=-u;return this.legendItems.forEach((m,_)=>{const y=n+s/2+i.measureText(m.text).width;(_===0||c[c.length-1]+y+2*a>o)&&(d+=u,c[c.length-(_>0?0:1)]=0,g+=u,f++),l[_]={left:0,top:g,row:f,width:y,height:r},c[c.length-1]+=y+a}),d}_fitCols(e,s,n,r){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,g=0,m=0,_=0;return this.legendItems.forEach((y,b)=>{const{itemWidth:v,itemHeight:S}=calculateItemSize(n,s,i,y,r);b>0&&g+S+2*a>u&&(d+=f+a,c.push({width:f,height:g}),m+=f+a,_++,f=g=0),l[b]={left:m,top:g,col:_,width:v,height:S},f=Math.max(f,v),g+=S+a}),d+=f,c.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:r},rtl:i}}=this,o=getRtlAdapter(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=_alignStartEnd(n,this.left+r,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=_alignStartEnd(n,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=_alignStartEnd(n,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=_alignStartEnd(n,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;clipArea(e,this),this._draw(),unclipArea(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:r}=this,{align:i,labels:o}=e,a=defaults.color,l=getRtlAdapter(e.rtl,this.left,this.width),c=toFont(o.font),{padding:u}=o,d=c.size,f=d/2;let g;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:m,boxHeight:_,itemHeight:y}=getBoxSize(o,d),b=function(C,R,O){if(isNaN(m)||m<=0||isNaN(_)||_<0)return;r.save();const x=valueOrDefault(O.lineWidth,1);if(r.fillStyle=valueOrDefault(O.fillStyle,a),r.lineCap=valueOrDefault(O.lineCap,"butt"),r.lineDashOffset=valueOrDefault(O.lineDashOffset,0),r.lineJoin=valueOrDefault(O.lineJoin,"miter"),r.lineWidth=x,r.strokeStyle=valueOrDefault(O.strokeStyle,a),r.setLineDash(valueOrDefault(O.lineDash,[])),o.usePointStyle){const B={radius:_*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:x},L=l.xPlus(C,m/2),N=R+f;drawPointLegend(r,B,L,N,o.pointStyleWidth&&m)}else{const B=R+Math.max((d-_)/2,0),L=l.leftForLtr(C,m),N=toTRBLCorners(O.borderRadius);r.beginPath(),Object.values(N).some(K=>K!==0)?addRoundedRectPath(r,{x:L,y:B,w:m,h:_,radius:N}):r.rect(L,B,m,_),r.fill(),x!==0&&r.stroke()}r.restore()},v=function(C,R,O){renderText(r,O.text,C,R+y/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},S=this.isHorizontal(),E=this._computeTitleHeight();S?g={x:_alignStartEnd(i,this.left+u,this.right-n[0]),y:this.top+u+E,line:0}:g={x:this.left+u,y:_alignStartEnd(i,this.top+E+u,this.bottom-s[0].height),line:0},overrideTextDirection(this.ctx,e.textDirection);const A=y+u;this.legendItems.forEach((C,R)=>{r.strokeStyle=C.fontColor,r.fillStyle=C.fontColor;const O=r.measureText(C.text).width,x=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),B=m+f+O;let L=g.x,N=g.y;l.setWidth(this.width),S?R>0&&L+B+u>this.right&&(N=g.y+=A,g.line++,L=g.x=_alignStartEnd(i,this.left+u,this.right-n[g.line])):R>0&&N+A>this.bottom&&(L=g.x=L+s[g.line].width+u,g.line++,N=g.y=_alignStartEnd(i,this.top+E+u,this.bottom-s[g.line].height));const K=l.x(L);if(b(K,N,C),L=_textX(x,L+m+f,S?L+B:this.right,e.rtl),v(l.x(L),N,C),S)g.x+=B+u;else if(typeof C.text!="string"){const ee=c.lineHeight;g.y+=calculateLegendItemHeight(C,ee)+u}else g.y+=A}),restoreTextDirection(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=toFont(s.font),r=toPadding(s.padding);if(!s.display)return;const i=getRtlAdapter(e.rtl,this.left,this.width),o=this.ctx,a=s.position,l=n.size/2,c=r.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=_alignStartEnd(e.align,d,this.right-f);else{const m=this.columnSizes.reduce((_,y)=>Math.max(_,y.height),0);u=c+_alignStartEnd(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const g=_alignStartEnd(a,d,d+f);o.textAlign=i.textAlign(_toLeftRightCenter(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=n.string,renderText(o,s.text,g,u,n)}_computeTitleHeight(){const e=this.options.title,s=toFont(e.font),n=toPadding(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,r,i;if(_isBetween(e,this.left,this.right)&&_isBetween(s,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],_isBetween(e,r.left,r.left+r.width)&&_isBetween(s,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!isListened(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,i=itemsEqual(r,n);r&&!i&&callback(s.onLeave,[e,r,this],this),this._hoveredItem=n,n&&!i&&callback(s.onHover,[e,n,this],this)}else n&&callback(s.onClick,[e,n,this],this)}}function calculateItemSize(t,e,s,n,r){const i=calculateItemWidth(n,t,e,s),o=calculateItemHeight(r,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function calculateItemWidth(t,e,s,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+s.size/2+n.measureText(r).width}function calculateItemHeight(t,e,s){let n=t;return typeof e.text!="string"&&(n=calculateLegendItemHeight(e,s)),n}function calculateLegendItemHeight(t,e){const s=t.text?t.text.length:0;return e*s}function isListened(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var plugin_legend={id:"legend",_element:Legend,start(t,e,s){const n=t.legend=new Legend({ctx:t.ctx,options:s,chart:t});layouts.configure(t,n,s),layouts.addBox(t,n)},stop(t){layouts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;layouts.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,r=s.chart;r.isDatasetVisible(n)?(r.hide(n),e.hidden=!0):(r.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=toPadding(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Title extends Element$1{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const r=isArray(n.text)?n.text.length:1;this._padding=toPadding(n.padding);const i=r*toFont(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:r,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=_alignStartEnd(a,n,i),d=s+e,c=i-n):(o.position==="left"?(u=n+e,d=_alignStartEnd(a,r,s),l=PI*-.5):(u=i-e,d=_alignStartEnd(a,s,r),l=PI*.5),c=r-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=toFont(s.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);renderText(e,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:_toLeftRightCenter(s.align),textBaseline:"middle",translation:[o,a]})}}function createTitle(t,e){const s=new Title({ctx:t.ctx,options:e,chart:t});layouts.configure(t,s,e),layouts.addBox(t,s),t.titleBlock=s}var plugin_title={id:"title",_element:Title,start(t,e,s){createTitle(t,s)},stop(t){const e=t.titleBlock;layouts.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;layouts.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(t){if(!t.length)return!1;let e,s,n=new Set,r=0,i=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),r+=l.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){const l=t[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=distanceBetweenPoints(e,c);u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function pushOrConcat(t,e){return e&&(isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function createTooltipItem(t,e){const{element:s,datasetIndex:n,index:r}=e,i=t.getDatasetMeta(n).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:n,element:s}}function getTooltipSize(t,e){const s=t.chart.ctx,{body:n,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,l=toFont(e.bodyFont),c=toFont(e.titleFont),u=toFont(e.footerFont),d=i.length,f=r.length,g=n.length,m=toPadding(e.padding);let _=m.height,y=0,b=n.reduce((E,A)=>E+A.before.length+A.lines.length+A.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(_+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){const E=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;_+=g*E+(b-g)*l.lineHeight+(b-1)*e.bodySpacing}f&&(_+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let v=0;const S=function(E){y=Math.max(y,s.measureText(E).width+v)};return s.save(),s.font=c.string,each(t.title,S),s.font=l.string,each(t.beforeBody.concat(t.afterBody),S),v=e.displayColors?o+2+e.boxPadding:0,each(n,E=>{each(E.before,S),each(E.lines,S),each(E.after,S)}),v=0,s.font=u.string,each(t.footer,S),s.restore(),y+=m.width,{width:y,height:_}}function determineYAlign(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function doesNotFitWithAlign(t,e,s,n){const{x:r,width:i}=n,o=s.caretSize+s.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function determineXAlign(t,e,s,n){const{x:r,width:i}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=r<=(a+l)/2?"left":"right":r<=i/2?c="left":r>=o-i/2&&(c="right"),doesNotFitWithAlign(c,t,e,s)&&(c="center"),c}function determineAlignment(t,e,s){const n=s.yAlign||e.yAlign||determineYAlign(t,s);return{xAlign:s.xAlign||e.xAlign||determineXAlign(t,e,s,n),yAlign:n}}function alignX(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function alignY(t,e,s){let{y:n,height:r}=t;return e==="top"?n+=s:e==="bottom"?n-=r+s:n-=r/2,n}function getBackgroundPoint(t,e,s,n){const{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=r+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:g}=toTRBLCorners(o);let m=alignX(e,a);const _=alignY(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,f)+r:a==="right"&&(m+=Math.max(d,g)+r),{x:_limitValue(m,0,n.width-e.width),y:_limitValue(_,0,n.height-e.height)}}function getAlignedX(t,e,s){const n=toPadding(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}function createTooltipContext(t,e,s){return createContext(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function overrideCallbacks(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const defaultCallbacks={beforeTitle:noop$3,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:noop$3,beforeBody:noop$3,beforeLabel:noop$3,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return isNullOrUndef(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:noop$3,afterBody:noop$3,beforeFooter:noop$3,footer:noop$3,afterFooter:noop$3};function invokeCallbackWithFallback(t,e,s,n){const r=t[e].call(s,n);return typeof r>"u"?defaultCallbacks[e].call(s,n):r}class Tooltip extends Element$1{static positioners=positioners;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&s.options.animation&&n.animations,i=new Animations(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,r=invokeCallbackWithFallback(n,"beforeTitle",this,e),i=invokeCallbackWithFallback(n,"title",this,e),o=invokeCallbackWithFallback(n,"afterTitle",this,e);let a=[];return a=pushOrConcat(a,splitNewlines(r)),a=pushOrConcat(a,splitNewlines(i)),a=pushOrConcat(a,splitNewlines(o)),a}getBeforeBody(e,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,r=[];return each(e,i=>{const o={before:[],lines:[],after:[]},a=overrideCallbacks(n,i);pushOrConcat(o.before,splitNewlines(invokeCallbackWithFallback(a,"beforeLabel",this,i))),pushOrConcat(o.lines,invokeCallbackWithFallback(a,"label",this,i)),pushOrConcat(o.after,splitNewlines(invokeCallbackWithFallback(a,"afterLabel",this,i))),r.push(o)}),r}getAfterBody(e,s){return getBeforeAfterBodyLines(invokeCallbackWithFallback(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,r=invokeCallbackWithFallback(n,"beforeFooter",this,e),i=invokeCallbackWithFallback(n,"footer",this,e),o=invokeCallbackWithFallback(n,"afterFooter",this,e);let a=[];return a=pushOrConcat(a,splitNewlines(r)),a=pushOrConcat(a,splitNewlines(i)),a=pushOrConcat(a,splitNewlines(o)),a}_createItems(e){const s=this._active,n=this.chart.data,r=[],i=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(createTooltipItem(this.chart,s[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,n))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,n))),each(a,u=>{const d=overrideCallbacks(e.callbacks,u);r.push(invokeCallbackWithFallback(d,"labelColor",this,u)),i.push(invokeCallbackWithFallback(d,"labelPointStyle",this,u)),o.push(invokeCallbackWithFallback(d,"labelTextColor",this,u))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,s){const n=this.options.setContext(this.getContext()),r=this._active;let i,o=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const a=positioners[n.position].call(this,r,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const l=this._size=getTooltipSize(this,n),c=Object.assign({},a,l),u=determineAlignment(this.chart,n,c),d=getBackgroundPoint(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,r){const i=this.getCaretPosition(e,n,r);s.lineTo(i.x1,i.y1),s.lineTo(i.x2,i.y2),s.lineTo(i.x3,i.y3)}getCaretPosition(e,s,n){const{xAlign:r,yAlign:i}=this,{caretSize:o,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=toTRBLCorners(a),{x:f,y:g}=e,{width:m,height:_}=s;let y,b,v,S,E,A;return i==="center"?(E=g+_/2,r==="left"?(y=f,b=y-o,S=E+o,A=E-o):(y=f+m,b=y+o,S=E-o,A=E+o),v=y):(r==="left"?b=f+Math.max(l,u)+o:r==="right"?b=f+m-Math.max(c,d)-o:b=this.caretX,i==="top"?(S=g,E=S-o,y=b-o,v=b+o):(S=g+_,E=S+o,y=b+o,v=b-o),A=S),{x1:y,x2:b,x3:v,y1:S,y2:E,y3:A}}drawTitle(e,s,n){const r=this.title,i=r.length;let o,a,l;if(i){const c=getRtlAdapter(n.rtl,this.x,this.width);for(e.x=getAlignedX(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",o=toFont(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=o.string,l=0;l<i;++l)s.fillText(r[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,s,n,r,i){const o=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=i,u=toFont(i.bodyFont),d=getAlignedX(this,"left",i),f=r.x(d),g=l<u.lineHeight?(u.lineHeight-l)/2:0,m=s.y+g;if(i.usePointStyle){const _={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=r.leftForLtr(f,c)+c/2,b=m+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,drawPoint(e,_,y,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,drawPoint(e,_,y,b)}else{e.lineWidth=isObject$1(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const _=r.leftForLtr(f,c),y=r.leftForLtr(r.xPlus(f,1),c-2),b=toTRBLCorners(o.borderRadius);Object.values(b).some(v=>v!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,addRoundedRectPath(e,{x:_,y:m,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),addRoundedRectPath(e,{x:y,y:m+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(_,m,c,l),e.strokeRect(_,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(y,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:r}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=toFont(n.bodyFont);let f=d.lineHeight,g=0;const m=getRtlAdapter(n.rtl,this.x,this.width),_=function(O){s.fillText(O,m.x(e.x+g),e.y+f/2),e.y+=f+i},y=m.textAlign(o);let b,v,S,E,A,C,R;for(s.textAlign=o,s.textBaseline="middle",s.font=d.string,e.x=getAlignedX(this,y,n),s.fillStyle=n.bodyColor,each(this.beforeBody,_),g=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,E=0,C=r.length;E<C;++E){for(b=r[E],v=this.labelTextColors[E],s.fillStyle=v,each(b.before,_),S=b.lines,a&&S.length&&(this._drawColorBox(s,e,E,m,n),f=Math.max(d.lineHeight,l)),A=0,R=S.length;A<R;++A)_(S[A]),f=d.lineHeight;each(b.after,_)}g=0,f=d.lineHeight,each(this.afterBody,_),e.y-=i}drawFooter(e,s,n){const r=this.footer,i=r.length;let o,a;if(i){const l=getRtlAdapter(n.rtl,this.x,this.width);for(e.x=getAlignedX(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",o=toFont(n.footerFont),s.fillStyle=n.footerColor,s.font=o.string,a=0;a<i;++a)s.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,s,n,r){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=n,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:m}=toTRBLCorners(r.cornerRadius);s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor,s.lineWidth=r.borderWidth,s.beginPath(),s.moveTo(a+d,l),o==="top"&&this.drawCaret(e,s,n,r),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,s,n,r),s.lineTo(a+c,l+u-m),s.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,s,n,r),s.lineTo(a+g,l+u),s.quadraticCurveTo(a,l+u,a,l+u-g),o==="center"&&i==="left"&&this.drawCaret(e,s,n,r),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),r.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const o=positioners[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=getTooltipSize(this,e),l=Object.assign({},o,this._size),c=determineAlignment(s,e,l),u=getBackgroundPoint(e,l,c,s);(r._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=toPadding(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,s),overrideTextDirection(e,s.textDirection),i.y+=o.top,this.drawTitle(i,e,s),this.drawBody(i,e,s),this.drawFooter(i,e,s),restoreTextDirection(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,r=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!_elementsEqual(n,r),o=this._positionChanged(r,s);(i||o)&&(this._active=r,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],o=this._getActiveElements(e,i,s,n),a=this._positionChanged(o,e),l=s||!_elementsEqual(o,i)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,n,r){const i=this.options;if(e.type==="mouseout")return[];if(!r)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:n,caretY:r,options:i}=this,o=positioners[i.position].call(this,e,s);return o!==!1&&(n!==o.x||r!==o.y)}}var plugin_tooltip={id:"tooltip",_element:Tooltip,positioners,afterInit(t,e,s){s&&(t.tooltip=new Tooltip({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function findOrAddLabel(t,e,s,n){const r=t.indexOf(e);if(r===-1)return addIfString(t,e,s,n);const i=t.lastIndexOf(e);return r!==i?s:r}const validIndex=(t,e)=>t===null?null:_limitValue(Math.round(t),0,e);function _getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:r,label:i}of s)n[r]===i&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(isNullOrUndef(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:findOrAddLabel(n,e,valueOrDefault(s,e),this._addedLabels),validIndex(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=e===0&&s===i.length-1?i:i.slice(e,s+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=s;o++)r.push({value:o});return r}getLabelForValue(e){return _getLabelForValue.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(t,e){const s=[],{bounds:r,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=t,g=i||1,m=u-1,{min:_,max:y}=e,b=!isNullOrUndef(o),v=!isNullOrUndef(a),S=!isNullOrUndef(c),E=(y-_)/(d+1);let A=niceNum((y-_)/m/g)*g,C,R,O,x;if(A<1e-14&&!b&&!v)return[{value:_},{value:y}];x=Math.ceil(y/A)-Math.floor(_/A),x>m&&(A=niceNum(x*A/m/g)*g),isNullOrUndef(l)||(C=Math.pow(10,l),A=Math.ceil(A*C)/C),r==="ticks"?(R=Math.floor(_/A)*A,O=Math.ceil(y/A)*A):(R=_,O=y),b&&v&&i&&almostWhole((a-o)/i,A/1e3)?(x=Math.round(Math.min((a-o)/A,u)),A=(a-o)/x,R=o,O=a):S?(R=b?o:R,O=v?a:O,x=c-1,A=(O-R)/x):(x=(O-R)/A,almostEquals(x,Math.round(x),A/1e3)?x=Math.round(x):x=Math.ceil(x));const B=Math.max(_decimalPlaces(A),_decimalPlaces(R));C=Math.pow(10,isNullOrUndef(l)?B:l),R=Math.round(R*C)/C,O=Math.round(O*C)/C;let L=0;for(b&&(f&&R!==o?(s.push({value:o}),R<o&&L++,almostEquals(Math.round((R+L*A)*C)/C,o,relativeLabelSize(o,E,t))&&L++):R<o&&L++);L<x;++L){const N=Math.round((R+L*A)*C)/C;if(v&&N>a)break;s.push({value:N})}return v&&f&&O!==a?s.length&&almostEquals(s[s.length-1].value,a,relativeLabelSize(a,E,t))?s[s.length-1].value=a:s.push({value:a}):(!v||O===a)&&s.push({value:O}),s}function relativeLabelSize(t,e,{horizontal:s,minRotation:n}){const r=toRadians(n),i=(s?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class LinearScaleBase extends Scale{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return isNullOrUndef(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const o=l=>r=s?r:l,a=l=>i=n?i:l;if(e){const l=sign(r),c=sign(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(r-l)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),s=s||11),s&&(r=Math.min(s,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},i=this._range||this,o=generateTicks$1(r,i);return e.bounds==="ticks"&&_setMinAndMaxByKey(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-s)/Math.max(e.length-1,1)/2;s-=r,n+=r}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return formatNumber(e,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=isNumberFinite(e)?e:0,this.max=isNumberFinite(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=toRadians(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(t,e){return t-e}function parse(t,e){if(isNullOrUndef(e))return null;const s=t._adapter,{parser:n,round:r,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),isNumberFinite(o)||(o=typeof n=="string"?s.parse(o,n):s.parse(o)),o===null?null:(r&&(o=r==="week"&&(isNumber(i)||i===!0)?s.startOf(o,"isoWeek",i):s.startOf(o,r)),+o)}function determineUnitForAutoTicks(t,e,s,n){const r=UNITS.length;for(let i=UNITS.indexOf(t);i<r-1;++i){const o=INTERVALS[UNITS[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(a*o.size))<=n)return UNITS[i]}return UNITS[r-1]}function determineUnitForFormatting(t,e,s,n,r){for(let i=UNITS.length-1;i>=UNITS.indexOf(s);i--){const o=UNITS[i];if(INTERVALS[o].common&&t._adapter.diff(r,n,o)>=e-1)return o}return UNITS[s?UNITS.indexOf(s):0]}function determineMajorUnit(t){for(let e=UNITS.indexOf(t)+1,s=UNITS.length;e<s;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function addTick(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:r}=_lookup(s,e),i=s[n]>=e?s[n]:s[r];t[i]=!0}}function setMajorTicks(t,e,s,n){const r=t._adapter,i=+r.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+r.add(a,1,n))l=s[a],l>=0&&(e[l].major=!0);return e}function ticksFromTimestamps(t,e,s){const n=[],r={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,n.push({value:a,major:!1});return i===0||!s?n:setMajorTicks(t,n,r,s)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),r=this._adapter=new adapters._date(e.adapters.date);r.init(s),mergeIf(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:parse(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(r=Math.min(r,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=isNumberFinite(r)&&!isNaN(r)?r:+s.startOf(Date.now(),n),i=isNumberFinite(i)&&!isNaN(i)?i:+s.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,o=this.max,a=_filterBetween(r,i,o);return this._unit=s.unit||(n.autoSkip?determineUnitForAutoTicks(s.minUnit,this.min,this.max,this._getLabelCapacity(i)):determineUnitForFormatting(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),ticksFromTimestamps(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,r,i;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?s=1-r:s=(this.getDecimalForValue(e[1])-r)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=_limitValue(s,0,o),n=_limitValue(n,0,o),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,r=this.options,i=r.time,o=i.unit||determineUnitForAutoTicks(i.minUnit,s,n,this._getLabelCapacity(s)),a=valueOrDefault(r.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=isNumber(l)||l===!0,u={};let d=s,f,g;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(n,s,o)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+o);const m=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<n;f=+e.add(f,a,o),g++)addTick(u,f,m);return(f===n||r.bounds==="ticks"||g===1)&&addTick(u,f,m),Object.keys(u).sort(sorter).map(_=>+_)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const r=this.options.time.displayFormats,i=this._unit,o=s||r[i];return this._adapter.format(e,o)}_tickFormatFunction(e,s,n,r){const i=this.options,o=i.ticks.callback;if(o)return callback(o,[e,s,n],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=n[s],g=c&&d&&f&&f.major;return this._adapter.format(e,r||(g?d:u))}generateTickLabels(e){let s,n,r;for(s=0,n=e.length;s<n;++s)r=e[s],r.label=this._tickFormatFunction(r.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,r=toRadians(this.isHorizontal()?s.maxRotation:s.minRotation),i=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:n*i+a*o,h:n*o+a*i}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,r=n[s.unit]||n.millisecond,i=this._tickFormatFunction(e,0,ticksFromTimestamps(this,[e],this._majorUnit),r),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(s=0,n=r.length;s<n;++s)e=e.concat(r[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const r=this.getLabels();for(s=0,n=r.length;s<n;++s)e.push(parse(this,r[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return _arrayUnique(e.sort(sorter))}}function interpolate(t,e,s){let n=0,r=t.length-1,i,o,a,l;s?(e>=t[n].pos&&e<=t[r].pos&&({lo:n,hi:r}=_lookupByKey(t,"pos",e)),{pos:i,time:a}=t[n],{pos:o,time:l}=t[r]):(e>=t[n].time&&e<=t[r].time&&({lo:n,hi:r}=_lookupByKey(t,"time",e)),{time:i,pos:a}=t[n],{time:o,pos:l}=t[r]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=interpolate(s,this.min),this._tableRange=interpolate(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,r=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=s&&c<=n&&r.push(c);if(r.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(interpolate(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return interpolate(this._table,n*this._tableRange+this._minPos,!0)}}const CommonProps={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},A11yProps={ariaLabel:{type:String},ariaDescribedby:{type:String}},Props={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...CommonProps,...A11yProps},compatProps=version$5[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function toRawIfProxy(t){return isProxy(t)?toRaw(t):t}function cloneProxy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return isProxy(e)?new Proxy(t,{}):t}function setOptions(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function setLabels(t,e){t.labels=e}function setDatasets(t,e,s){const n=[];t.datasets=e.map(r=>{const i=t.datasets.find(o=>o[s]===r[s]);return!i||!r.data||n.includes(i)?{...r}:(n.push(i),Object.assign(i,r),i)})}function cloneData(t,e){const s={labels:[],datasets:[]};return setLabels(s,t.labels),setDatasets(s,t.datasets,e),s}const Chart=defineComponent({props:Props,setup(t,e){let{expose:s,slots:n}=e;const r=ref(null),i=shallowRef(null);s({chart:i});const o=()=>{if(!r.value)return;const{type:c,data:u,options:d,plugins:f,datasetIdKey:g}=t,m=cloneData(u,g),_=cloneProxy(m,u);i.value=new Chart$1(r.value,{type:c,data:_,options:{...d},plugins:f})},a=()=>{const c=toRaw(i.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),i.value=null},t.destroyDelay):(c.destroy(),i.value=null))},l=c=>{c.update(t.updateMode)};return onMounted(o),onUnmounted(a),watch([()=>t.options,()=>t.data],(c,u)=>{let[d,f]=c,[g,m]=u;const _=toRaw(i.value);if(!_)return;let y=!1;if(d){const b=toRawIfProxy(d),v=toRawIfProxy(g);b&&b!==v&&(setOptions(_,b),y=!0)}if(f){const b=toRawIfProxy(f.labels),v=toRawIfProxy(m.labels),S=toRawIfProxy(f.datasets),E=toRawIfProxy(m.datasets);b!==v&&(setLabels(_.config.data,b),y=!0),S&&S!==E&&(setDatasets(_.config.data,S,t.datasetIdKey),y=!0)}y&&nextTick(()=>{l(_)})},{deep:!0}),()=>h("canvas",{role:"img","aria-label":t.ariaLabel,"aria-describedby":t.ariaDescribedby,ref:r},[h("p",{},[n.default?n.default():""])])}});function createTypedChart(t,e){return Chart$1.register(e),defineComponent({props:CommonProps,setup(s,n){let{expose:r}=n;const i=shallowRef(null),o=a=>{i.value=a?.chart};return r({chart:i}),()=>h(Chart,compatProps({ref:o},{type:t,...s}))}})}const Bar=createTypedChart("bar",BarController),Pie=createTypedChart("pie",PieController),_hoisted_1$f={class:"chart-wrapper"},_hoisted_2$8={key:0,class:"no-data-message"},_sfc_main$f=defineComponent({__name:"PieChart",props:{dataLabel:{},data:{},labels:{}},setup(t){Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,ArcElement);const e=t,s=computed(()=>({labels:e.labels,datasets:[{label:e.dataLabel,data:e.data,backgroundColor:["#42b883","#3b8eed","#ffc517","#ed3c50","#de41e0","#34495e","#6D214F"],hoverOffset:4}]}));return(n,r)=>(openBlock(),createElementBlock("div",_hoisted_1$f,[createVNode(unref(Pie),{data:s.value},null,8,["data"]),e.data.length?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_2$8," No data available "))]))}}),PieChart=_export_sfc(_sfc_main$f,[["__scopeId","data-v-7abaeb67"]]),_hoisted_1$e={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},_sfc_main$e=defineComponent({__name:"SettingsIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$e,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M12 15.516q1.453 0 2.484-1.031t1.031-2.484-1.031-2.484-2.484-1.031-2.484 1.031-1.031 2.484 1.031 2.484 2.484 1.031zM19.453 12.984l2.109 1.641q0.328 0.234 0.094 0.656l-2.016 3.469q-0.188 0.328-0.609 0.188l-2.484-0.984q-0.984 0.703-1.688 0.984l-0.375 2.625q-0.094 0.422-0.469 0.422h-4.031q-0.375 0-0.469-0.422l-0.375-2.625q-0.891-0.375-1.688-0.984l-2.484 0.984q-0.422 0.141-0.609-0.188l-2.016-3.469q-0.234-0.422 0.094-0.656l2.109-1.641q-0.047-0.328-0.047-0.984t0.047-0.984l-2.109-1.641q-0.328-0.234-0.094-0.656l2.016-3.469q0.188-0.328 0.609-0.188l2.484 0.984q0.984-0.703 1.688-0.984l0.375-2.625q0.094-0.422 0.469-0.422h4.031q0.375 0 0.469 0.422l0.375 2.625q0.891 0.375 1.688 0.984l2.484-0.984q0.422-0.141 0.609 0.188l2.016 3.469q0.234 0.422-0.094 0.656l-2.109 1.641q0.047 0.328 0.047 0.984t-0.047 0.984z"},null,-1))]))}}),_hoisted_1$d={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor"},_sfc_main$d=defineComponent({__name:"logoutIcon",props:{title:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("svg",_hoisted_1$d,[createBaseVNode("title",null,toDisplayString(e.title),1),n[0]||(n[0]=createBaseVNode("path",{d:"M3.984 5.016v13.969h8.016v2.016h-8.016q-0.797 0-1.383-0.609t-0.586-1.406v-13.969q0-0.797 0.586-1.406t1.383-0.609h8.016v2.016h-8.016zM17.016 6.984l4.969 5.016-4.969 5.016-1.406-1.453 2.578-2.578h-10.172v-1.969h10.172l-2.578-2.625z"},null,-1))]))}});function tryOnScopeDispose(t,e){return getCurrentScope()?(onScopeDispose(t,e),!0):!1}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const notNullish=t=>t!=null,toString=Object.prototype.toString,isObject=t=>toString.call(t)==="[object Object]",noop$2=()=>{};function createFilterWrapper(t,e){function s(...n){return new Promise((r,i)=>{Promise.resolve(t(()=>e.apply(this,n),{fn:e,thisArg:this,args:n})).then(r).catch(i)})}return s}function debounceFilter(t,e={}){let s,n,r=noop$2;const i=l=>{clearTimeout(l),r(),r=noop$2};let o;return l=>{const c=toValue(t),u=toValue(e.maxWait);return s&&i(s),c<=0||u!==void 0&&u<=0?(n&&(i(n),n=void 0),Promise.resolve(l())):new Promise((d,f)=>{r=e.rejectOnCancel?f:d,o=l,u&&!n&&(n=setTimeout(()=>{s&&i(s),n=void 0,d(o())},u)),s=setTimeout(()=>{n&&i(n),n=void 0,d(l())},c)})}}function throttleFilter(...t){let e=0,s,n=!0,r=noop$2,i,o,a,l,c;!isRef(t[0])&&typeof t[0]=="object"?{delay:o,trailing:a=!0,leading:l=!0,rejectOnCancel:c=!1}=t[0]:[o,a=!0,l=!0,c=!1]=t;const u=()=>{s&&(clearTimeout(s),s=void 0,r(),r=noop$2)};return f=>{const g=toValue(o),m=Date.now()-e,_=()=>i=f();return u(),g<=0?(e=Date.now(),_()):(m>g?(e=Date.now(),(l||!n)&&_()):a&&(i=new Promise((y,b)=>{r=c?b:y,s=setTimeout(()=>{e=Date.now(),n=!0,y(_()),u()},Math.max(0,g-m))})),!l&&!s&&(s=setTimeout(()=>n=!0,g)),n=!1,i)}}function toArray$1(t){return Array.isArray(t)?t:[t]}function getLifeCycleTarget(t){return getCurrentInstance()}function useDebounceFn(t,e=200,s={}){return createFilterWrapper(debounceFilter(e,s),t)}function useThrottleFn(t,e=200,s=!1,n=!0,r=!1){return createFilterWrapper(throttleFilter(e,s,n,r),t)}function tryOnMounted(t,e=!0,s){getLifeCycleTarget()?onMounted(t,s):e?t():nextTick(t)}function tryOnUnmounted(t,e){getLifeCycleTarget()&&onUnmounted(t,e)}function watchImmediate(t,e,s){return watch(t,e,{...s,immediate:!0})}function watchOnce(t,e,s){return watch(t,e,{...s,once:!0})}const defaultWindow=isClient?window:void 0;function unrefElement(t){var e;const s=toValue(t);return(e=s?.$el)!==null&&e!==void 0?e:s}function useEventListener(...t){const e=(n,r,i,o)=>(n.addEventListener(r,i,o),()=>n.removeEventListener(r,i,o)),s=computed(()=>{const n=toArray$1(toValue(t[0])).filter(r=>r!=null);return n.every(r=>typeof r!="string")?n:void 0});return watchImmediate(()=>{var n,r;return[(n=(r=s.value)===null||r===void 0?void 0:r.map(i=>unrefElement(i)))!==null&&n!==void 0?n:[defaultWindow].filter(i=>i!=null),toArray$1(toValue(s.value?t[1]:t[0])),toArray$1(unref(s.value?t[2]:t[1])),toValue(s.value?t[3]:t[2])]},([n,r,i,o],a,l)=>{if(!n?.length||!r?.length||!i?.length)return;const c=isObject(o)?{...o}:o,u=n.flatMap(d=>r.flatMap(f=>i.map(g=>e(d,f,g,c))));l(()=>{u.forEach(d=>d())})},{flush:"post"})}function onClickOutside(t,e,s={}){const{window:n=defaultWindow,ignore:r=[],capture:i=!0,detectIframe:o=!1,controls:a=!1}=s;if(!n)return a?{stop:noop$2,cancel:noop$2,trigger:noop$2}:noop$2;let l=!0;const c=y=>toValue(r).some(b=>{if(typeof b=="string")return Array.from(n.document.querySelectorAll(b)).some(v=>v===y.target||y.composedPath().includes(v));{const v=unrefElement(b);return v&&(y.target===v||y.composedPath().includes(v))}});function u(y){const b=toValue(y);return b&&b.$.subTree.shapeFlag===16}function d(y,b){const v=toValue(y),S=v.$.subTree&&v.$.subTree.children;return S==null||!Array.isArray(S)?!1:S.some(E=>E.el===b.target||b.composedPath().includes(E.el))}const f=y=>{const b=unrefElement(t);if(y.target!=null&&!(!(b instanceof Element)&&u(t)&&d(t,y))&&!(!b||b===y.target||y.composedPath().includes(b))){if("detail"in y&&y.detail===0&&(l=!c(y)),!l){l=!0;return}e(y)}};let g=!1;const m=[useEventListener(n,"click",y=>{g||(g=!0,setTimeout(()=>{g=!1},0),f(y))},{passive:!0,capture:i}),useEventListener(n,"pointerdown",y=>{const b=unrefElement(t);l=!c(y)&&!!(b&&!y.composedPath().includes(b))},{passive:!0}),o&&useEventListener(n,"blur",y=>{setTimeout(()=>{var b;const v=unrefElement(t);((b=n.document.activeElement)===null||b===void 0?void 0:b.tagName)==="IFRAME"&&!v?.contains(n.document.activeElement)&&e(y)},0)},{passive:!0})].filter(Boolean),_=()=>m.forEach(y=>y());return a?{stop:_,cancel:()=>{l=!1},trigger:y=>{l=!0,f(y),l=!1}}:_}function useMounted(){const t=shallowRef(!1),e=getCurrentInstance();return e&&onMounted(()=>{t.value=!0},e),t}function useSupported(t){const e=useMounted();return computed(()=>(e.value,!!t()))}function useMutationObserver(t,e,s={}){const{window:n=defaultWindow,...r}=s;let i;const o=useSupported(()=>n&&"MutationObserver"in n),a=()=>{i&&(i.disconnect(),i=void 0)},l=watch(computed(()=>{const d=toArray$1(toValue(t)).map(unrefElement).filter(notNullish);return new Set(d)}),d=>{a(),o.value&&d.size&&(i=new MutationObserver(e),d.forEach(f=>i.observe(f,r)))},{immediate:!0,flush:"post"}),c=()=>i?.takeRecords(),u=()=>{l(),a()};return tryOnScopeDispose(u),{isSupported:o,stop:u,takeRecords:c}}function onElementRemoval(t,e,s={}){const{window:n=defaultWindow,document:r=n?.document,flush:i="sync"}=s;if(!n||!r)return noop$2;let o;const a=u=>{o?.(),o=u},l=watchEffect(()=>{const u=unrefElement(t);if(u){const{stop:d}=useMutationObserver(r,f=>{f.map(g=>[...g.removedNodes]).flat().some(g=>g===u||g.contains(u))&&e(f)},{window:n,childList:!0,subtree:!0});a(d)}},{flush:i}),c=()=>{l(),a()};return tryOnScopeDispose(c),c}function useActiveElement(t={}){var e;const{window:s=defaultWindow,deep:n=!0,triggerOnRemoval:r=!1}=t,i=(e=t.document)!==null&&e!==void 0?e:s?.document,o=()=>{let c=i?.activeElement;if(n)for(var u;c?.shadowRoot;)c=c==null||(u=c.shadowRoot)===null||u===void 0?void 0:u.activeElement;return c},a=shallowRef(),l=()=>{a.value=o()};if(s){const c={capture:!0,passive:!0};useEventListener(s,"blur",u=>{u.relatedTarget===null&&l()},c),useEventListener(s,"focus",l,c)}return r&&onElementRemoval(a,l,{document:i}),l(),a}function useIntersectionObserver(t,e,s={}){const{root:n,rootMargin:r="0px",threshold:i=0,window:o=defaultWindow,immediate:a=!0}=s,l=useSupported(()=>o&&"IntersectionObserver"in o),c=computed(()=>toArray$1(toValue(t)).map(unrefElement).filter(notNullish));let u=noop$2;const d=shallowRef(a),f=l.value?watch(()=>[c.value,unrefElement(n),d.value],([m,_])=>{if(u(),!d.value||!m.length)return;const y=new IntersectionObserver(e,{root:unrefElement(_),rootMargin:r,threshold:i});m.forEach(b=>b&&y.observe(b)),u=()=>{y.disconnect(),u=noop$2}},{immediate:a,flush:"post"}):noop$2,g=()=>{u(),f(),d.value=!1};return tryOnScopeDispose(g),{isSupported:l,isActive:d,pause(){u(),d.value=!1},resume(){d.value=!0},stop:g}}function useElementVisibility(t,e={}){const{window:s=defaultWindow,scrollTarget:n,threshold:r=0,rootMargin:i,once:o=!1,initialValue:a=!1}=e,l=shallowRef(a),{stop:c}=useIntersectionObserver(t,u=>{let d=l.value,f=0;for(const g of u)g.time>=f&&(f=g.time,d=g.isIntersecting);l.value=d,o&&watchOnce(l,()=>{c()})},{root:n,window:s,threshold:r,rootMargin:toValue(i)});return l}const EVENT_FOCUS_IN="focusin",EVENT_FOCUS_OUT="focusout",PSEUDO_CLASS_FOCUS_WITHIN=":focus-within";function useFocusWithin(t,e={}){const{window:s=defaultWindow}=e,n=computed(()=>unrefElement(t)),r=shallowRef(!1),i=computed(()=>r.value);if(!s||!useActiveElement(e).value)return{focused:i};const a={passive:!0};return useEventListener(n,EVENT_FOCUS_IN,()=>r.value=!0,a),useEventListener(n,EVENT_FOCUS_OUT,()=>{var l,c,u;return r.value=(l=(c=n.value)===null||c===void 0||(u=c.matches)===null||u===void 0?void 0:u.call(c,PSEUDO_CLASS_FOCUS_WITHIN))!==null&&l!==void 0?l:!1},a),{focused:i}}function resolveElement(t){return typeof Window<"u"&&t instanceof Window?t.document.documentElement:typeof Document<"u"&&t instanceof Document?t.documentElement:t}const ARRIVED_STATE_THRESHOLD_PIXELS=1;function useScroll(t,e={}){const{throttle:s=0,idle:n=200,onStop:r=noop$2,onScroll:i=noop$2,offset:o={left:0,right:0,top:0,bottom:0},observe:a={mutation:!1},eventListenerOptions:l={capture:!1,passive:!0},behavior:c="auto",window:u=defaultWindow,onError:d=x=>{console.error(x)}}=e,f=typeof a=="boolean"?{mutation:a}:a,g=shallowRef(0),m=shallowRef(0),_=computed({get(){return g.value},set(x){b(x,void 0)}}),y=computed({get(){return m.value},set(x){b(void 0,x)}});function b(x,B){var L,N,K,ee;if(!u)return;const G=toValue(t);if(!G)return;(L=G instanceof Document?u.document.body:G)===null||L===void 0||L.scrollTo({top:(N=toValue(B))!==null&&N!==void 0?N:y.value,left:(K=toValue(x))!==null&&K!==void 0?K:_.value,behavior:toValue(c)});const q=(G==null||(ee=G.document)===null||ee===void 0?void 0:ee.documentElement)||G?.documentElement||G;_!=null&&(g.value=q.scrollLeft),y!=null&&(m.value=q.scrollTop)}const v=shallowRef(!1),S=reactive({left:!0,right:!1,top:!0,bottom:!1}),E=reactive({left:!1,right:!1,top:!1,bottom:!1}),A=x=>{v.value&&(v.value=!1,E.left=!1,E.right=!1,E.top=!1,E.bottom=!1,r(x))},C=useDebounceFn(A,s+n),R=x=>{var B;if(!u)return;const L=(x==null||(B=x.document)===null||B===void 0?void 0:B.documentElement)||x?.documentElement||unrefElement(x),{display:N,flexDirection:K,direction:ee}=u.getComputedStyle(L),G=ee==="rtl"?-1:1,q=L.scrollLeft;E.left=q<g.value,E.right=q>g.value;const W=Math.abs(q*G)<=(o.left||0),Q=Math.abs(q*G)+L.clientWidth>=L.scrollWidth-(o.right||0)-ARRIVED_STATE_THRESHOLD_PIXELS;N==="flex"&&K==="row-reverse"?(S.left=Q,S.right=W):(S.left=W,S.right=Q),g.value=q;let te=L.scrollTop;x===u.document&&!te&&(te=u.document.body.scrollTop),E.top=te<m.value,E.bottom=te>m.value;const le=Math.abs(te)<=(o.top||0),ce=Math.abs(te)+L.clientHeight>=L.scrollHeight-(o.bottom||0)-ARRIVED_STATE_THRESHOLD_PIXELS;N==="flex"&&K==="column-reverse"?(S.top=ce,S.bottom=le):(S.top=le,S.bottom=ce),m.value=te},O=x=>{var B;u&&(R((B=x.target.documentElement)!==null&&B!==void 0?B:x.target),v.value=!0,C(x),i(x))};return useEventListener(t,"scroll",s?useThrottleFn(O,s,!0,!1):O,l),tryOnMounted(()=>{try{const x=toValue(t);if(!x)return;R(x)}catch(x){d(x)}}),f?.mutation&&t!=null&&t!==u&&t!==document&&useMutationObserver(t,()=>{const x=toValue(t);x&&R(x)},{attributes:!0,childList:!0,subtree:!0}),useEventListener(t,"scrollend",A,l),{x:_,y,isScrolling:v,arrivedState:S,directions:E,measure(){const x=toValue(t);u&&x&&R(x)}}}function useInfiniteScroll(t,e,s={}){var n;const{direction:r="bottom",interval:i=100,canLoadMore:o=()=>!0}=s,a=reactive(useScroll(t,{...s,offset:{[r]:(n=s.distance)!==null&&n!==void 0?n:0,...s.offset}})),l=ref(),c=computed(()=>!!l.value),u=computed(()=>resolveElement(toValue(t))),d=useElementVisibility(u),f=computed(()=>u.value?o(u.value):!1);function g(){if(a.measure(),!u.value||!d.value||!f.value)return;const{scrollHeight:m,clientHeight:_,scrollWidth:y,clientWidth:b}=u.value,v=r==="bottom"||r==="top"?m<=_:y<=b;(a.arrivedState[r]||v)&&(l.value||(l.value=Promise.all([e(a),new Promise(S=>setTimeout(S,i))]).finally(()=>{l.value=null,nextTick(()=>g())})))}return tryOnUnmounted(watch(()=>[a.arrivedState[r],d.value,f.value],g,{immediate:!0})),{isLoading:c,reset(){nextTick(()=>g())}}}const _hoisted_1$c={class:"global-header"},_hoisted_2$7={class:"money-tag-wrapper"},_hoisted_3$5={class:"money-tag current"},_hoisted_4$4={class:"money-tag savings"},_hoisted_5$2={class:"money-tag investments"},_hoisted_6$2={class:"user-profile-icon"},_sfc_main$c=defineComponent({__name:"GlobalHeader",props:{currentBalance:{},savingsBalance:{},investmentsBalance:{},userName:{},userEmail:{}},emits:["logout","update-profile"],setup(t,{emit:e}){const s=t,n=e,r=ref(null),i=ref(!1),o=computed(()=>s.currentBalance.toLocaleString("en-IN",{style:"currency",currency:"INR"})),a=computed(()=>s.savingsBalance.toLocaleString("en-IN",{style:"currency",currency:"INR"})),l=computed(()=>s.investmentsBalance.toLocaleString("en-IN",{style:"currency",currency:"INR"})),c=computed(()=>s.userName.split(" ").map(d=>d.charAt(0).toUpperCase()).join(""));return onClickOutside(r,()=>{i.value=!1}),(u,d)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[d[7]||(d[7]=createBaseVNode("h1",null,"Wealth Tracker",-1)),createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$5," Current balance: "+toDisplayString(o.value),1),createBaseVNode("div",_hoisted_4$4," Savings balance: "+toDisplayString(a.value),1),createBaseVNode("div",_hoisted_5$2," Mutual Funds balance: "+toDisplayString(l.value),1)]),createBaseVNode("div",{class:"user-profile",onClick:d[2]||(d[2]=f=>i.value=!i.value)},[createBaseVNode("div",_hoisted_6$2,toDisplayString(c.value),1),withDirectives(createBaseVNode("div",{class:"user-profile-details",ref_key:"userProfileDetails",ref:r},[createBaseVNode("h2",null,toDisplayString(t.userName),1),createBaseVNode("span",null,toDisplayString(t.userEmail),1),d[5]||(d[5]=createBaseVNode("span",{class:"divider"},null,-1)),createBaseVNode("div",{class:"update-details-wrapper",onClick:d[0]||(d[0]=f=>n("update-profile"))},[createVNode(_sfc_main$e,{class:"icon",title:"Settings Icon"}),d[3]||(d[3]=createTextVNode(" Update Profile Details ",-1))]),d[6]||(d[6]=createBaseVNode("span",{class:"divider"},null,-1)),createBaseVNode("div",{class:"logout-button-wrapper",onClick:d[1]||(d[1]=f=>n("logout"))},[createVNode(_sfc_main$d,{class:"icon",title:"Logout Icon"}),d[4]||(d[4]=createTextVNode(" Logout ",-1))])],512),[[vShow,i.value]])])]))}}),GlobalHeader=_export_sfc(_sfc_main$c,[["__scopeId","data-v-1c5cb3da"]]),_hoisted_1$b={class:"chart-wrapper"},_hoisted_2$6={key:0,class:"no-data-message"},_sfc_main$b=defineComponent({__name:"BarGraph",props:{dataLabel:{},data:{},labels:{}},setup(t){Chart$1.register(plugin_title,plugin_tooltip,plugin_legend,BarElement,CategoryScale,LinearScale);const e=t,s=computed(()=>{const r=[];return e.data.length&&r.push({label:e.dataLabel[0],data:e.data[0],backgroundColor:"#42b883",hoverOffset:4}),e.data.length===2&&r.push({label:e.dataLabel[1],data:e.data[1],backgroundColor:"#3489db",hoverOffset:4}),{labels:e.labels,datasets:r}}),n={responsive:!0};return(r,i)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createVNode(unref(Bar),{id:"my-chart-id",options:n,data:s.value},null,8,["data"]),e.data.length?createCommentVNode("",!0):(openBlock(),createElementBlock("span",_hoisted_2$6," No data available "))]))}}),BarGraph=_export_sfc(_sfc_main$b,[["__scopeId","data-v-3bfcb99b"]]),_hoisted_1$a={class:"drop-down-list"},_hoisted_2$5=["onClick"],_sfc_main$a=defineComponent({__name:"DropDownList",props:{listItems:{default:()=>[]},show:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1}},emits:["selected"],setup(t,{emit:e}){const s=t,{show:n}=toRefs(s),r=e,i=ref(!0),o=ref(null);watch(n,()=>{if(!o.value)return;const l=window.innerHeight,{top:c}=o.value.getBoundingClientRect(),u=s.listItems.length*32;c+u>l?i.value=!1:i.value=!0});function a(l){s.readonly||r("selected",l)}return(l,c)=>(openBlock(),createElementBlock("div",{ref_key:"listItemWrapper",ref:o},[s.show?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["drop-down-list-wrapper",{bottom:i.value,top:!i.value}])},[createBaseVNode("ul",_hoisted_1$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(s.listItems,(u,d)=>(openBlock(),createElementBlock("li",{key:`item-${d}`,class:normalizeClass(["drop-down-list-item",{readonly:s.readonly}]),onClick:f=>a(u)},toDisplayString(u),11,_hoisted_2$5))),128))])],2)):createCommentVNode("",!0)],512))}}),DropDownList=_export_sfc(_sfc_main$a,[["__scopeId","data-v-e3666059"]]),_hoisted_1$9={class:"common-input-wrapper"},_hoisted_2$4=["for"],_hoisted_3$4={key:0,class:"common-input-label common-input-legnth-limit"},_sfc_main$9=defineComponent({__name:"CommonInputWrapper",props:{label:{},lengthLimit:{},length:{},id:{}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("label",{for:e.id,class:"common-input-label"},toDisplayString(e.label),9,_hoisted_2$4),renderSlot(s.$slots,"default",{class:"flex-1"},void 0),t.lengthLimit?(openBlock(),createElementBlock("span",_hoisted_3$4,toDisplayString(`${t.length}/${t.lengthLimit}`),1)):createCommentVNode("",!0)]))}}),CommonInputWrapper=_export_sfc(_sfc_main$9,[["__scopeId","data-v-dd4ea95b"]]),_hoisted_1$8=["id","placeholder","value"],_sfc_main$8=defineComponent({__name:"SelectInput",props:{label:{},id:{},placeholder:{default:""},modelValue:{},optionsList:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e,r=ref(!1),i=ref(null),o=ref(null),a=computed(()=>!s.modelValue&&o.value?o.value:s.modelValue),l=computed(()=>{if(o.value===null)return s.optionsList;const d=o.value.toLowerCase(),f=s.optionsList.filter(g=>{if(`${g}`.toLowerCase().startsWith(d))return g});return f.length===0?["No match found"]:f});onClickOutside(i,()=>{r.value=!1,o.value=null});function c(d){r.value=!1,o.value=null,n("update:modelValue",d)}function u(d){d.key==="Backspace"&&s.modelValue&&(o.value=null,n("update:modelValue",null))}return(d,f)=>(openBlock(),createBlock(CommonInputWrapper,{label:s.label,id:s.id},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"dropDownWrapper",ref:i,class:"select-input-wrapper"},[createBaseVNode("input",{type:"text",id:s.id,class:"select-input",placeholder:s.placeholder,value:a.value,autocomplete:"off",onFocus:f[0]||(f[0]=g=>r.value=!0),onKeydown:u,onInput:f[1]||(f[1]=g=>o.value=g.target.value)},null,40,_hoisted_1$8),createVNode(DropDownList,{show:r.value,"list-items":l.value,onSelected:c},null,8,["show","list-items"])],512)]),_:1},8,["label","id"]))}}),SelectInput=_export_sfc(_sfc_main$8,[["__scopeId","data-v-0cc015f8"]]),_hoisted_1$7=["type","id","placeholder","value"],_sfc_main$7=defineComponent({__name:"TxtNumInput",props:{label:{},id:{},placeholder:{default:""},inputType:{default:"text"},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e;function r(o){const a=o.key;if(s.inputType==="number"&&a.length===1){const l=a.charCodeAt(0);l!==46&&!(l<58&&l>47)&&o.preventDefault()}}function i(o){s.inputType==="number"?n("update:modelValue",Number(o)):n("update:modelValue",o)}return(o,a)=>(openBlock(),createBlock(CommonInputWrapper,{label:s.label,id:s.id},{default:withCtx(()=>[createBaseVNode("input",{type:s.inputType==="password"?"password":"text",id:s.id,class:"txt-num-input",placeholder:s.placeholder,value:s.modelValue,onKeydown:r,onInput:a[0]||(a[0]=l=>i(l.target.value))},null,40,_hoisted_1$7)]),_:1},8,["label","id"]))}}),TxtNumInput=_export_sfc(_sfc_main$7,[["__scopeId","data-v-3fa6dde9"]]),_hoisted_1$6=["id","value","readonly"],_sfc_main$6=defineComponent({__name:"DateInput",props:{label:{},id:{},modelValue:{},readonly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:e}){const s=t,n=e;return(r,i)=>(openBlock(),createBlock(CommonInputWrapper,{label:s.label,id:s.id},{default:withCtx(()=>[createBaseVNode("input",{type:"date",id:s.id,class:normalizeClass(["date-input",{readonly:s.readonly}]),value:s.modelValue,readonly:s.readonly,onInput:i[0]||(i[0]=o=>n("update:modelValue",o.target.value))},null,42,_hoisted_1$6)]),_:1},8,["label","id"]))}}),DateInput=_export_sfc(_sfc_main$6,[["__scopeId","data-v-e9f9f80f"]]),_hoisted_1$5={key:0,class:"spinner"},_sfc_main$5=defineComponent({__name:"CommonButton",props:{buttonText:{},disable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(t){const e=t;return(s,n)=>(openBlock(),createElementBlock("button",{type:"submit",class:normalizeClass(["common-button",{"opacity-50 cursor-default":e.disable,loading:e.loading}])},[e.loading?(openBlock(),createElementBlock("span",_hoisted_1$5)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(e.buttonText),1)],2))}}),CommonButton=_export_sfc(_sfc_main$5,[["__scopeId","data-v-2763fd7a"]]);function __rest(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s}function __awaiter(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}typeof SuppressedError=="function"&&SuppressedError;const resolveFetch$3=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class FunctionsError extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class FunctionsFetchError extends FunctionsError{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class FunctionsRelayError extends FunctionsError{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class FunctionsHttpError extends FunctionsError{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var FunctionRegion;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(FunctionRegion||(FunctionRegion={}));class FunctionsClient{constructor(e,{headers:s={},customFetch:n,region:r=FunctionRegion.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=resolveFetch$3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return __awaiter(this,arguments,void 0,function*(s,n={}){var r;let i,o;try{const{headers:a,method:l,body:c,signal:u,timeout:d}=n;let f={},{region:g}=n;g||(g=this.region);const m=new URL(`${this.url}/${s}`);g&&g!=="any"&&(f["x-region"]=g,m.searchParams.set("forceFunctionRegion",g));let _;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",_=c):typeof c=="string"?(f["Content-Type"]="text/plain",_=c):typeof FormData<"u"&&c instanceof FormData?_=c:(f["Content-Type"]="application/json",_=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?_=JSON.stringify(c):_=c;let y=u;d&&(o=new AbortController,i=setTimeout(()=>o.abort(),d),u?(y=o.signal,u.addEventListener("abort",()=>o.abort())):y=o.signal);const b=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:_,signal:y}).catch(A=>{throw new FunctionsFetchError(A)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new FunctionsRelayError(b);if(!b.ok)throw new FunctionsHttpError(b);let S=((r=b.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return S==="application/json"?E=yield b.json():S==="application/octet-stream"||S==="application/pdf"?E=yield b.blob():S==="text/event-stream"?E=b:S==="multipart/form-data"?E=yield b.formData():E=yield b.text(),{data:E,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof FunctionsHttpError||a instanceof FunctionsRelayError?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var PostgrestError=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},PostgrestBuilder=class{constructor(t){var e,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,u=i.statusText;if(i.ok){var d,f;if(s.method!=="HEAD"){var g;const b=await i.text();b===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((g=s.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}const _=(d=s.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),y=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");_&&y&&y.length>1&&(l=parseInt(y[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const _=await i.text();try{o=JSON.parse(_),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,u="OK")}catch{i.status===404&&_===""?(c=204,u="No Content"):o={message:_}}if(o&&s.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&s.shouldThrowOnError)throw new PostgrestError(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(r=r.catch(i=>{var o;let a="";const l=i?.cause;if(l){var c,u,d,f;const m=(c=l?.message)!==null&&c!==void 0?c:"",_=(u=l?.code)!==null&&u!==void 0?u:"";a=`${(d=i?.name)!==null&&d!==void 0?d:"FetchError"}: ${i?.message}`,a+=`

Caused by: ${(f=l?.name)!==null&&f!==void 0?f:"Error"}: ${m}`,_&&(a+=` (${_})`),l?.stack&&(a+=`
${l.stack}`)}else{var g;a=(g=i?.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(t,e)}returns(){return this}overrideTypes(){return this}},PostgrestTransformBuilder=class extends PostgrestBuilder{select(t){let e=!1;const s=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:n=!1,wal:r=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,s?"settings":null,n?"buffers":null,r?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const PostgrestReservedCharsRegexp=new RegExp("[,()]");var PostgrestFilterBuilder=class extends PostgrestTransformBuilder{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map(n=>typeof n=="string"&&PostgrestReservedCharsRegexp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}notIn(t,e){const s=Array.from(new Set(e)).map(n=>typeof n=="string"&&PostgrestReservedCharsRegexp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:n}={}){let r="";n==="plain"?r="pl":n==="phrase"?r="ph":n==="websearch"&&(r="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${r}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}},PostgrestQueryBuilder=class{constructor(t,{headers:e={},schema:s,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=s,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:s=!1,count:n}=e??{},r=s?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new PostgrestFilterBuilder({method:r,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:s=!0}={}){var n;const r="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),s||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new PostgrestFilterBuilder({method:r,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:n,defaultToNull:r=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),r||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new PostgrestFilterBuilder({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var s;const n="PATCH",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new PostgrestFilterBuilder({method:n,url:r,headers:i,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var e;const s="DELETE",{url:n,headers:r}=this.cloneRequestState();return t&&r.append("Prefer",`count=${t}`),new PostgrestFilterBuilder({method:s,url:n,headers:r,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},PostgrestClient=class Ee{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=new Headers(s),this.schemaName=n,this.fetch=r}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new PostgrestQueryBuilder(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ee(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(u)),d=n&&Object.values(s).some(u);d?(a="POST",c=s):n||r?(a=n?"HEAD":"GET",Object.entries(s).filter(([g,m])=>m!==void 0).map(([g,m])=>[g,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([g,m])=>{l.searchParams.append(g,m)})):(a="POST",c=s);const f=new Headers(this.headers);return d?f.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&f.set("Prefer",`count=${i}`),new PostgrestFilterBuilder({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class WebSocketFactory{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const n=s.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const n=this.getWebSocketConstructor();return new n(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const version$3="2.90.1",DEFAULT_VERSION=`realtime-js/${version$3}`,VSN_1_0_0="1.0.0",VSN_2_0_0="2.0.0",DEFAULT_VSN=VSN_1_0_0,DEFAULT_TIMEOUT=1e4,WS_CLOSE_NORMAL=1e3,MAX_PUSH_BUFFER_SIZE=100;var SOCKET_STATES;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(SOCKET_STATES||(SOCKET_STATES={}));var CHANNEL_STATES;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(CHANNEL_STATES||(CHANNEL_STATES={}));var CHANNEL_EVENTS;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(CHANNEL_EVENTS||(CHANNEL_EVENTS={}));var TRANSPORTS;(function(t){t.websocket="websocket"})(TRANSPORTS||(TRANSPORTS={}));var CONNECTION_STATE;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(CONNECTION_STATE||(CONNECTION_STATE={}));class Serializer{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,n;const r=(n=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var s,n;const r=(n=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,s,n){var r,i;const o=e.topic,a=(r=e.ref)!==null&&r!==void 0?r:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let m=new DataView(g),_=0;m.setUint8(_++,this.KINDS.userBroadcastPush),m.setUint8(_++,l.length),m.setUint8(_++,a.length),m.setUint8(_++,o.length),m.setUint8(_++,c.length),m.setUint8(_++,d.length),m.setUint8(_++,s),Array.from(l,b=>m.setUint8(_++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(_++,b.charCodeAt(0))),Array.from(o,b=>m.setUint8(_++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(_++,b.charCodeAt(0))),Array.from(d,b=>m.setUint8(_++,b.charCodeAt(0)));var y=new Uint8Array(g.byteLength+n.byteLength);return y.set(new Uint8Array(g),0),y.set(new Uint8Array(n),g.byteLength),y.buffer}decode(e,s){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return s(n)}if(typeof e=="string"){const n=JSON.parse(e),[r,i,o,a,l]=n;return s({join_ref:r,ref:i,topic:o,event:a,payload:l})}return s({})}_binaryDecode(e){const s=new DataView(e),n=s.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,s,r)}_decodeUserBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2),o=s.getUint8(3),a=s.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+r));l=l+r;const u=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),g=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,m={type:this.BROADCAST_EVENT,event:u,payload:g};return o>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>s.includes(n)))}}class Timer{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var PostgresTypes;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(PostgresTypes||(PostgresTypes={}));const convertChangeData=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=convertColumn(o,t,e,r),i),{}):{}},convertColumn=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r?.type,o=s[t];return i&&!n.includes(i)?convertCell(i,o):noop$1(o)},convertCell=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return toArray(e,s)}switch(t){case PostgresTypes.bool:return toBoolean(e);case PostgresTypes.float4:case PostgresTypes.float8:case PostgresTypes.int2:case PostgresTypes.int4:case PostgresTypes.int8:case PostgresTypes.numeric:case PostgresTypes.oid:return toNumber(e);case PostgresTypes.json:case PostgresTypes.jsonb:return toJson(e);case PostgresTypes.timestamp:return toTimestampString(e);case PostgresTypes.abstime:case PostgresTypes.date:case PostgresTypes.daterange:case PostgresTypes.int4range:case PostgresTypes.int8range:case PostgresTypes.money:case PostgresTypes.reltime:case PostgresTypes.text:case PostgresTypes.time:case PostgresTypes.timestamptz:case PostgresTypes.timetz:case PostgresTypes.tsrange:case PostgresTypes.tstzrange:return noop$1(e);default:return noop$1(e)}},noop$1=t=>t,toBoolean=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},toNumber=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},toJson=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},toArray=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>convertCell(e,a))}return t},toTimestampString=t=>typeof t=="string"?t.replace(" ","T"):t,httpEndpointURL=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Push{constructor(e,s,n={},r=DEFAULT_TIMEOUT){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var REALTIME_PRESENCE_LISTEN_EVENTS;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(REALTIME_PRESENCE_LISTEN_EVENTS||(REALTIME_PRESENCE_LISTEN_EVENTS={}));class RealtimePresence{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=RealtimePresence.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=RealtimePresence.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=RealtimePresence.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const f=u.map(y=>y.presence_ref),g=d.map(y=>y.presence_ref),m=u.filter(y=>g.indexOf(y.presence_ref)<0),_=d.filter(y=>f.indexOf(y.presence_ref)<0);m.length>0&&(a[c]=m),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(g=>g.presence_ref),f=u.filter(g=>d.indexOf(g.presence_ref)<0);e[a].unshift(...f)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var REALTIME_POSTGRES_CHANGES_LISTEN_EVENT;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT||(REALTIME_POSTGRES_CHANGES_LISTEN_EVENT={}));var REALTIME_LISTEN_TYPES;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(REALTIME_LISTEN_TYPES||(REALTIME_LISTEN_TYPES={}));var REALTIME_SUBSCRIBE_STATES;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(REALTIME_SUBSCRIBE_STATES||(REALTIME_SUBSCRIBE_STATES={}));class RealtimeChannel{constructor(e,s={config:{}},n){var r,i;if(this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=CHANNEL_STATES.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Push(this,CHANNEL_EVENTS.join,this.params,this.timeout),this.rejoinTimer=new Timer(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=CHANNEL_STATES.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=CHANNEL_STATES.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=CHANNEL_STATES.errored,this.rejoinTimer.scheduleTimeout())}),this._on(CHANNEL_EVENTS.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new RealtimePresence(this),this.broadcastEndpointURL=httpEndpointURL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var n,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==CHANNEL_STATES.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&r!==void 0?r:[],u=!!this.bindings[REALTIME_LISTEN_TYPES.PRESENCE]&&this.bindings[REALTIME_LISTEN_TYPES.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,g)),this._onClose(()=>e?.(REALTIME_SUBSCRIBE_STATES.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e?.(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,y=(m=_?.length)!==null&&m!==void 0?m:0,b=[];for(let v=0;v<y;v++){const S=_[v],{filter:{event:E,schema:A,table:C,filter:R}}=S,O=g&&g[v];if(O&&O.event===E&&RealtimeChannel.isFilterValueEqual(O.schema,A)&&RealtimeChannel.isFilterValueEqual(O.table,C)&&RealtimeChannel.isFilterValueEqual(O.filter,R))b.push(Object.assign(Object.assign({},S),{id:O.id}));else{this.unsubscribe(),this.state=CHANNEL_STATES.errored,e?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(REALTIME_SUBSCRIBE_STATES.SUBSCRIBED);return}}).receive("error",g=>{this.state=CHANNEL_STATES.errored,e?.(REALTIME_SUBSCRIBE_STATES.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e?.(REALTIME_SUBSCRIBE_STATES.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this.state===CHANNEL_STATES.joined&&e===REALTIME_LISTEN_TYPES.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,n)}async httpSend(e,s,n={}){var r;if(s==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=CHANNEL_STATES.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(CHANNEL_EVENTS.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Push(this,CHANNEL_EVENTS.leave,{},e),n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=CHANNEL_STATES.closed,this.bindings={}}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Push(this,e,s,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>MAX_PUSH_BUFFER_SIZE){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=CHANNEL_EVENTS;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var m,_,y;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((y=(_=g.filter)===null||_===void 0?void 0:_.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(g=>g.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,_,y,b,v,S,E,A;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const C=g.id,R=(m=g.filter)===null||m===void 0?void 0:m.event;return C&&((_=s.ids)===null||_===void 0?void 0:_.includes(C))&&(R==="*"||R?.toLocaleLowerCase()===((y=s.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))&&(!(!((b=g.filter)===null||b===void 0)&&b.table)||g.filter.table===((v=s.data)===null||v===void 0?void 0:v.table))}else{const C=(E=(S=g?.filter)===null||S===void 0?void 0:S.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return C==="*"||C===((A=s?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:_,table:y,commit_timestamp:b,type:v,errors:S}=m;f=Object.assign(Object.assign({},{schema:_,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:S}),this._getPayloadRecords(m))}g.callback(f,n)})}_isClosed(){return this.state===CHANNEL_STATES.closed}_isJoined(){return this.state===CHANNEL_STATES.joined}_isJoining(){return this.state===CHANNEL_STATES.joining}_isLeaving(){return this.state===CHANNEL_STATES.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&RealtimeChannel.isEqual(r.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(CHANNEL_EVENTS.close,{},e)}_onError(e){this._on(CHANNEL_EVENTS.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=CHANNEL_STATES.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=convertChangeData(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=convertChangeData(e.columns,e.old_record)),s}}const noop=()=>{},CONNECTION_TIMEOUTS={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RECONNECT_INTERVALS=[1e3,2e3,5e3,1e4],DEFAULT_RECONNECT_FALLBACK=1e4,WORKER_SCRIPT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class RealtimeClient{constructor(e,s){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=DEFAULT_TIMEOUT,this.transport=null,this.heartbeatIntervalMs=CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=noop,this.ref=0,this.reconnectTimer=null,this.vsn=DEFAULT_VSN,this.logger=noop,this.conn=null,this.sendBuffer=[],this.serializer=new Serializer,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=r=>r?(...i)=>r(...i):(...i)=>fetch(...i),!(!((n=s?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${TRANSPORTS.websocket}`,this.httpEndpoint=httpEndpointURL(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=WebSocketFactory.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case SOCKET_STATES.connecting:return CONNECTION_STATE.Connecting;case SOCKET_STATES.open:return CONNECTION_STATE.Open;case SOCKET_STATES.closing:return CONNECTION_STATE.Closing;default:return CONNECTION_STATE.Closed}}isConnected(){return this.connectionState()===CONNECTION_STATE.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const n=`realtime:${e}`,r=this.getChannels().find(i=>i.topic===n);if(r)return r;{const i=new RealtimeChannel(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(WS_CLOSE_NORMAL,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},CONNECTION_TIMEOUTS.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:r,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${r} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(r,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===SOCKET_STATES.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===SOCKET_STATES.open||this.conn.readyState===SOCKET_STATES.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(CHANNEL_EVENTS.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([WORKER_SCRIPT],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,n=!1;if(e)s=e,n=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),s=this.accessTokenValue}else s=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const i={access_token:s,version:DEFAULT_VERSION};s&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(CHANNEL_EVENTS.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(s)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Timer(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},CONNECTION_TIMEOUTS.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,n,r,i,o,a,l,c,u,d,f,g;switch(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:DEFAULT_TIMEOUT,this.heartbeatIntervalMs=(r=e?.heartbeatIntervalMs)!==null&&r!==void 0?r:CONNECTION_TIMEOUTS.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:noop,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:DEFAULT_VSN,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(m=>RECONNECT_INTERVALS[m-1]||DEFAULT_RECONNECT_FALLBACK),this.vsn){case VSN_1_0_0:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((m,_)=>_(JSON.stringify(m))),this.decode=(d=e?.decode)!==null&&d!==void 0?d:((m,_)=>_(JSON.parse(m)));break;case VSN_2_0_0:this.encode=(f=e?.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=e?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var IcebergError=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function buildUrl(t,e,s){const n=new URL(e,t);if(s)for(const[r,i]of Object.entries(s))i!==void 0&&n.searchParams.set(r,i);return n.toString()}async function buildAuthHeaders(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function createFetchClient(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:n,query:r,body:i,headers:o}){const a=buildUrl(t.baseUrl,n,r),l=await buildAuthHeaders(t.auth),c=await e(a,{method:s,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),u=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),f=d&&u?JSON.parse(u):u;if(!c.ok){const g=d?f:void 0,m=g?.error;throw new IcebergError(m?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:m?.type,icebergCode:m?.code,details:g})}return{status:c.status,headers:c.headers,data:f}}}}function namespaceToPath(t){return t.join("")}var NamespaceOperations=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:namespaceToPath(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath(t.namespace)}`}),!0}catch(e){if(e instanceof IcebergError&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof IcebergError&&s.status===409)return;throw s}}};function namespaceToPath2(t){return t.join("")}var TableOperations=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${namespaceToPath2(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${namespaceToPath2(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${namespaceToPath2(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${namespaceToPath2(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof IcebergError&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof IcebergError&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},IcebergRestCatalog=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=createFetchClient({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new NamespaceOperations(this.client,e),this.tableOps=new TableOperations(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},StorageError=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function isStorageError(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var StorageApiError=class extends StorageError{constructor(t,e,s){super(t),this.name="StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageUnknownError=class extends StorageError{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const resolveFetch$1$1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),resolveResponse$1=()=>Response,recursiveToCamel=t=>{if(Array.isArray(t))return t.map(s=>recursiveToCamel(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=recursiveToCamel(n)}),e},isPlainObject$1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},isValidBucketName=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function toPrimitive$1(t,e){if(_typeof$1(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(_typeof$1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toPropertyKey$1(t){var e=toPrimitive$1(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _defineProperty$1(t,e,s){return(e=toPropertyKey$1(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function ownKeys$1(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function _objectSpread2$1(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(s),!0).forEach(function(n){_defineProperty$1(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys$1(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}const _getErrorMessage$1=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},handleError$1=async(t,e,s)=>{t instanceof await resolveResponse$1()&&!s?.noResolveJson?t.json().then(n=>{const r=t.status||500,i=n?.statusCode||r+"";e(new StorageApiError(_getErrorMessage$1(n),r,i))}).catch(n=>{e(new StorageUnknownError(_getErrorMessage$1(n),n))}):e(new StorageUnknownError(_getErrorMessage$1(t),t))},_getRequestParams$1=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"||!n?r:(isPlainObject$1(n)?(r.headers=_objectSpread2$1({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(n)):r.body=n,e?.duplex&&(r.duplex=e.duplex),_objectSpread2$1(_objectSpread2$1({},r),s))};async function _handleRequest$1(t,e,s,n,r,i){return new Promise((o,a)=>{t(s,_getRequestParams$1(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>handleError$1(l,a,n))})}async function get(t,e,s,n){return _handleRequest$1(t,"GET",e,s,n)}async function post$1(t,e,s,n,r){return _handleRequest$1(t,"POST",e,n,r,s)}async function put(t,e,s,n,r){return _handleRequest$1(t,"PUT",e,n,r,s)}async function head(t,e,s,n){return _handleRequest$1(t,"HEAD",e,_objectSpread2$1(_objectSpread2$1({},s),{},{noResolveJson:!0}),n)}async function remove(t,e,s,n,r){return _handleRequest$1(t,"DELETE",e,n,r,s)}var StreamDownloadBuilder=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}};let _Symbol$toStringTag;_Symbol$toStringTag=Symbol.toStringTag;var BlobDownloadBuilder=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[_Symbol$toStringTag]="BlobDownloadBuilder",this.promise=null}asStream(){return new StreamDownloadBuilder(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(isStorageError(e))return{data:null,error:e};throw e}}};const DEFAULT_SEARCH_OPTIONS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DEFAULT_FILE_OPTIONS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var StorageFileApi=class{constructor(t,e={},s,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=s,this.fetch=resolveFetch$1$1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,s,n){var r=this;try{let i;const o=_objectSpread2$1(_objectSpread2$1({},DEFAULT_FILE_OPTIONS),n);let a=_objectSpread2$1(_objectSpread2$1({},r.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",r.encodeMetadata(l)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",r.encodeMetadata(l))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=r.toBase64(r.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(a=_objectSpread2$1(_objectSpread2$1({},a),n.headers));const c=r._removeEmptyFolders(e),u=r._getFinalPath(c),d=await(t=="PUT"?put:post$1)(r.fetch,`${r.url}/object/${u}`,i,_objectSpread2$1({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(isStorageError(i))return{data:null,error:i};throw i}}async upload(t,e,s){return this.uploadOrUpdate("POST",t,e,s)}async uploadToSignedUrl(t,e,s,n){var r=this;const i=r._removeEmptyFolders(t),o=r._getFinalPath(i),a=new URL(r.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=_objectSpread2$1({upsert:DEFAULT_FILE_OPTIONS.upsert},n),u=_objectSpread2$1(_objectSpread2$1({},r.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{data:{path:i,fullPath:(await put(r.fetch,a.toString(),l,{headers:u})).Key},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(isStorageError(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var s=this;try{let n=s._getFinalPath(t);const r=_objectSpread2$1({},s.headers);e?.upsert&&(r["x-upsert"]="true");const i=await post$1(s.fetch,`${s.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(s.url+i.url),a=o.searchParams.get("token");if(!a)throw new StorageError("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async update(t,e,s){return this.uploadOrUpdate("PUT",t,e,s)}async move(t,e,s){var n=this;try{return{data:await post$1(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async copy(t,e,s){var n=this;try{return{data:{path:(await post$1(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async createSignedUrl(t,e,s){var n=this;try{let r=n._getFinalPath(t),i=await post$1(n.fetch,`${n.url}/object/sign/${r}`,_objectSpread2$1({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:n.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async createSignedUrls(t,e,s){var n=this;try{const r=await post$1(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:r.map(o=>_objectSpread2$1(_objectSpread2$1({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}download(t,e){const s=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),r=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>get(this.fetch,`${this.url}/${s}/${i}${r}`,{headers:this.headers,noResolveJson:!0});return new BlobDownloadBuilder(o,this.shouldThrowOnError)}async info(t){var e=this;const s=e._getFinalPath(t);try{return{data:recursiveToCamel(await get(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const s=e._getFinalPath(t);try{return await head(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(isStorageError(n)&&n instanceof StorageUnknownError){const r=n.originalError;if([400,404].includes(r?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const s=this._getFinalPath(t),n=[],r=e?.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&n.push(r);const i=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${s}${a}`)}}}async remove(t){var e=this;try{return{data:await remove(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}async list(t,e,s){var n=this;try{const r=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},DEFAULT_SEARCH_OPTIONS),e),{},{prefix:t||""});return{data:await post$1(n.fetch,`${n.url}/object/list/${n.bucketId}`,r,{headers:n.headers},s),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(isStorageError(r))return{data:null,error:r};throw r}}async listV2(t,e){var s=this;try{const n=_objectSpread2$1({},t);return{data:await post$1(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,n,{headers:s.headers},e),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const version$2="2.90.1",DEFAULT_HEADERS$1$1={"X-Client-Info":`storage-js/${version$2}`};var StorageBucketApi=class{constructor(t,e={},s,n){this.shouldThrowOnError=!1;const r=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),e),this.fetch=resolveFetch$1$1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const s=e.listBucketOptionsToQueryString(t);return{data:await get(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}async getBucket(t){var e=this;try{return{data:await get(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}async createBucket(t,e={public:!1}){var s=this;try{return{data:await post$1(s.fetch,`${s.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var s=this;try{return{data:await put(s.fetch,`${s.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(isStorageError(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await post$1(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}async deleteBucket(t){var e=this;try{return{data:await remove(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},StorageAnalyticsClient=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$1$1),e),this.fetch=resolveFetch$1$1(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await post$1(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}async listBuckets(t){var e=this;try{const s=new URLSearchParams;t?.limit!==void 0&&s.set("limit",t.limit.toString()),t?.offset!==void 0&&s.set("offset",t.offset.toString()),t?.sortColumn&&s.set("sortColumn",t.sortColumn),t?.sortOrder&&s.set("sortOrder",t.sortOrder),t?.search&&s.set("search",t.search);const n=s.toString(),r=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await get(e.fetch,r,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}async deleteBucket(t){var e=this;try{return{data:await remove(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageError(s))return{data:null,error:s};throw s}}from(t){var e=this;if(!isValidBucketName(t))throw new StorageError("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new IcebergRestCatalog({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(s,{get(r,i){const o=r[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(r,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const DEFAULT_HEADERS$2={"X-Client-Info":`storage-js/${version$2}`,"Content-Type":"application/json"};var StorageVectorsError=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function isStorageVectorsError(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var StorageVectorsApiError=class extends StorageVectorsError{constructor(t,e,s){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},StorageVectorsUnknownError=class extends StorageVectorsError{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const resolveFetch$2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),isPlainObject=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},_getErrorMessage$2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),handleError$2=async(t,e,s)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!s?.noResolveJson){const n=t.status||500,r=t;if(typeof r.json=="function")r.json().then(i=>{const o=i?.statusCode||i?.code||n+"";e(new StorageVectorsApiError(_getErrorMessage$2(i),n,o))}).catch(()=>{const i=n+"";e(new StorageVectorsApiError(r.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new StorageVectorsApiError(r.statusText||`HTTP ${n} error`,n,i))}}else e(new StorageVectorsUnknownError(_getErrorMessage$2(t),t))},_getRequestParams$2=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return n?(isPlainObject(n)?(r.headers=_objectSpread2$1({"Content-Type":"application/json"},e?.headers),r.body=JSON.stringify(n)):r.body=n,_objectSpread2$1(_objectSpread2$1({},r),s)):r};async function _handleRequest$2(t,e,s,n,r,i){return new Promise((o,a)=>{t(s,_getRequestParams$2(e,n,r,i)).then(l=>{if(!l.ok)throw l;if(n?.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>handleError$2(l,a,n))})}async function post(t,e,s,n,r){return _handleRequest$2(t,"POST",e,n,r,s)}var VectorIndexApi=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),e),this.fetch=resolveFetch$2(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async getIndex(t,e){var s=this;try{return{data:await post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers}),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async deleteIndex(t,e){var s=this;try{return{data:await post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers})||{},error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(isStorageVectorsError(n))return{data:null,error:n};throw n}}},VectorDataApi=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),e),this.fetch=resolveFetch$2(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async getVectors(t){var e=this;try{return{data:await post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async queryVectors(t){var e=this;try{return{data:await post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}},VectorBucketApi=class{constructor(t,e={},s){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=_objectSpread2$1(_objectSpread2$1({},DEFAULT_HEADERS$2),e),this.fetch=resolveFetch$2(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async getBucket(t){var e=this;try{return{data:await post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async listBuckets(t={}){var e=this;try{return{data:await post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}async deleteBucket(t){var e=this;try{return{data:await post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(isStorageVectorsError(s))return{data:null,error:s};throw s}}},StorageVectorsClient=class extends VectorBucketApi{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new VectorBucketScope(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,s=this;return e().call(s,t)}async getBucket(t){var e=()=>super.getBucket,s=this;return e().call(s,t)}async listBuckets(t={}){var e=()=>super.listBuckets,s=this;return e().call(s,t)}async deleteBucket(t){var e=()=>super.deleteBucket,s=this;return e().call(s,t)}},VectorBucketScope=class extends VectorIndexApi{constructor(t,e,s,n){super(t,e,n),this.vectorBucketName=s}async createIndex(t){var e=()=>super.createIndex,s=this;return e().call(s,_objectSpread2$1(_objectSpread2$1({},t),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,s=this;return e().call(s,_objectSpread2$1(_objectSpread2$1({},t),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,t)}index(t){return new VectorIndexScope(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},VectorIndexScope=class extends VectorDataApi{constructor(t,e,s,n,r){super(t,e,r),this.vectorBucketName=s,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,s=this;return e().call(s,_objectSpread2$1(_objectSpread2$1({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(t){var e=()=>super.getVectors,s=this;return e().call(s,_objectSpread2$1(_objectSpread2$1({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,s=this;return e().call(s,_objectSpread2$1(_objectSpread2$1({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,s=this;return e().call(s,_objectSpread2$1(_objectSpread2$1({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,s=this;return e().call(s,_objectSpread2$1(_objectSpread2$1({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},StorageClient=class extends StorageBucketApi{constructor(t,e={},s,n){super(t,e,s,n)}from(t){return new StorageFileApi(this.url,this.headers,t,this.fetch)}get vectors(){return new StorageVectorsClient(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new StorageAnalyticsClient(this.url+"/iceberg",this.headers,this.fetch)}};const version$1="2.90.1",AUTO_REFRESH_TICK_DURATION_MS=30*1e3,AUTO_REFRESH_TICK_THRESHOLD=3,EXPIRY_MARGIN_MS=AUTO_REFRESH_TICK_THRESHOLD*AUTO_REFRESH_TICK_DURATION_MS,GOTRUE_URL="http://localhost:9999",STORAGE_KEY="supabase.auth.token",DEFAULT_HEADERS$1={"X-Client-Info":`gotrue-js/${version$1}`},API_VERSION_HEADER_NAME="X-Supabase-Api-Version",API_VERSIONS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BASE64URL_REGEX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JWKS_TTL=600*1e3;class AuthError extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function isAuthError(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class AuthApiError extends AuthError{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function isAuthApiError(t){return isAuthError(t)&&t.name==="AuthApiError"}class AuthUnknownError extends AuthError{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class CustomAuthError extends AuthError{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class AuthSessionMissingError extends CustomAuthError{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function isAuthSessionMissingError(t){return isAuthError(t)&&t.name==="AuthSessionMissingError"}class AuthInvalidTokenResponseError extends CustomAuthError{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class AuthInvalidCredentialsError extends CustomAuthError{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class AuthImplicitGrantRedirectError extends CustomAuthError{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function isAuthImplicitGrantRedirectError(t){return isAuthError(t)&&t.name==="AuthImplicitGrantRedirectError"}class AuthPKCEGrantCodeExchangeError extends CustomAuthError{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AuthPKCECodeVerifierMissingError extends CustomAuthError{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class AuthRetryableFetchError extends CustomAuthError{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function isAuthRetryableFetchError(t){return isAuthError(t)&&t.name==="AuthRetryableFetchError"}class AuthWeakPasswordError extends CustomAuthError{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class AuthInvalidJwtError extends CustomAuthError{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const TO_BASE64URL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IGNORE_BASE64URL=` 	
\r=`.split(""),FROM_BASE64URL=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<IGNORE_BASE64URL.length;e+=1)t[IGNORE_BASE64URL[e].charCodeAt(0)]=-2;for(let e=0;e<TO_BASE64URL.length;e+=1)t[TO_BASE64URL[e].charCodeAt(0)]=e;return t})();function byteToBase64URL(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(TO_BASE64URL[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;s(TO_BASE64URL[n]),e.queuedBits-=6}}function byteFromBase64URL(t,e,s){const n=FROM_BASE64URL[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function stringFromBase64URL(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{stringFromUTF8(o,n,s)};for(let o=0;o<t.length;o+=1)byteFromBase64URL(t.charCodeAt(o),r,i);return e.join("")}function codepointToUTF8(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function stringToUTF8(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}codepointToUTF8(n,e)}}function stringFromUTF8(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function base64UrlToUint8Array(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)byteFromBase64URL(t.charCodeAt(r),s,n);return new Uint8Array(e)}function stringToUint8Array(t){const e=[];return stringToUTF8(t,s=>e.push(s)),new Uint8Array(e)}function bytesToBase64URL(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};return t.forEach(r=>byteToBase64URL(r,s,n)),byteToBase64URL(null,s,n),e.join("")}function expiresAt(t){return Math.round(Date.now()/1e3)+t}function generateCallbackId(){return Symbol("auth-callback")}const isBrowser=()=>typeof window<"u"&&typeof document<"u",localStorageWriteTests={tested:!1,writable:!1},supportsLocalStorage=()=>{if(!isBrowser())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(localStorageWriteTests.tested)return localStorageWriteTests.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!0}catch{localStorageWriteTests.tested=!0,localStorageWriteTests.writable=!1}return localStorageWriteTests.writable};function parseParametersFromURL(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const resolveFetch$1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),looksLikeFetchResponse=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",setItemAsync=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},getItemAsync=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},removeItemAsync=async(t,e)=>{await t.removeItem(e)};class Deferred{constructor(){this.promise=new Deferred.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Deferred.promiseConstructor=Promise;function decodeJWT(t){const e=t.split(".");if(e.length!==3)throw new AuthInvalidJwtError("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!BASE64URL_REGEX.test(e[n]))throw new AuthInvalidJwtError("JWT not in base64url format");return{header:JSON.parse(stringFromBase64URL(e[0])),payload:JSON.parse(stringFromBase64URL(e[1])),signature:base64UrlToUint8Array(e[2]),raw:{header:e[0],payload:e[1]}}}async function sleep(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function retryable(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function dec2hex(t){return("0"+t.toString(16)).substr(-2)}function generatePKCEVerifier(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,dec2hex).join("")}async function sha256(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function generatePKCEChallenge(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await sha256(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function getCodeChallengeAndMethod(t,e,s=!1){const n=generatePKCEVerifier();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await setItemAsync(t,`${e}-code-verifier`,r);const i=await generatePKCEChallenge(n);return[i,n===i?"plain":"s256"]}const API_VERSION_REGEX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function parseResponseAPIVersion(t){const e=t.headers.get(API_VERSION_HEADER_NAME);if(!e||!e.match(API_VERSION_REGEX))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function validateExp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function getAlgorithm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UUID_REGEX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function validateUUID(t){if(!UUID_REGEX.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function userNotAvailableProxy(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function insecureUserWarningProxy(t,e){return new Proxy(t,{get:(s,n,r)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,n,r)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,n,r)}})}function deepClone(t){return JSON.parse(JSON.stringify(t))}const _getErrorMessage=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NETWORK_ERROR_CODES=[502,503,504];async function handleError(t){var e;if(!looksLikeFetchResponse(t))throw new AuthRetryableFetchError(_getErrorMessage(t),0);if(NETWORK_ERROR_CODES.includes(t.status))throw new AuthRetryableFetchError(_getErrorMessage(t),t.status);let s;try{s=await t.json()}catch(i){throw new AuthUnknownError(_getErrorMessage(i),i)}let n;const r=parseResponseAPIVersion(t);if(r&&r.getTime()>=API_VERSIONS["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new AuthWeakPasswordError(_getErrorMessage(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new AuthSessionMissingError}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new AuthWeakPasswordError(_getErrorMessage(s),t.status,s.weak_password.reasons);throw new AuthApiError(_getErrorMessage(s),t.status||500,n)}const _getRequestParams=(t,e,s,n)=>{const r={method:t,headers:e?.headers||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function _request(t,e,s,n){var r;const i=Object.assign({},n?.headers);i[API_VERSION_HEADER_NAME]||(i[API_VERSION_HEADER_NAME]=API_VERSIONS["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n?.query)!==null&&r!==void 0?r:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await _handleRequest(t,e,s+a,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(l):{data:Object.assign({},l),error:null}}async function _handleRequest(t,e,s,n,r,i){const o=_getRequestParams(e,n,r,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new AuthRetryableFetchError(_getErrorMessage(l),0)}if(a.ok||await handleError(a),n?.noResolveJson)return a;try{return await a.json()}catch(l){await handleError(l)}}function _sessionResponse(t){var e;let s=null;hasSession(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=expiresAt(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function _sessionResponsePassword(t){const e=_sessionResponse(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _userResponse(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _ssoResponse(t){return{data:t,error:null}}function _generateLinkResponse(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=__rest(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function _noResolveJsonResponse(t){return t}function hasSession(t){return t.access_token&&t.refresh_token&&t.expires_in}const SIGN_OUT_SCOPES=["global","local","others"];class GoTrueAdminApi{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=resolveFetch$1(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=SIGN_OUT_SCOPES[0]){if(SIGN_OUT_SCOPES.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SIGN_OUT_SCOPES.join(", ")}`);try{return await _request(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await _request(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=__rest(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n?.newEmail,delete r.newEmail),await _request(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_generateLinkResponse,redirectTo:s?.redirectTo})}catch(s){if(isAuthError(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await _request(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:_noResolveJsonResponse});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(isAuthError(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){validateUUID(e);try{return await _request(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_userResponse})}catch(s){if(isAuthError(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){validateUUID(e);try{return await _request(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){validateUUID(e);try{return await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:_userResponse})}catch(n){if(isAuthError(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){validateUUID(e.userId);try{const{data:s,error:n}=await _request(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _deleteFactor(e){validateUUID(e.userId),validateUUID(e.id);try{return{data:await _request(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,n,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:_noResolveJsonResponse});if(u.error)throw u.error;const d=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const _=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(m.split(";")[1].split("=")[1]);c[`${y}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(isAuthError(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await _request(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await _request(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(isAuthError(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await _request(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await _request(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(isAuthError(s))return{data:null,error:s};throw s}}}function memoryLocalStorageAdapter(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const internals={debug:!!(globalThis&&supportsLocalStorage()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LockAcquireTimeoutError extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class NavigatorLockAcquireTimeoutError extends LockAcquireTimeoutError{}async function navigatorLock(t,e,s){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),internals.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw internals.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new NavigatorLockAcquireTimeoutError(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(internals.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function polyfillGlobalThis(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function getAddress(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function fromHex(t){return parseInt(t,16)}function toHex(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function createSiweMessage(t){var e;const{chainId:s,domain:n,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=getAddress(t.address),m=u?`${u}://${n}`:n,_=t.statement?`${t.statement}
`:"",y=`${m} wants you to sign in with your Ethereum account:
${g}

${_}`;let b=`URI: ${d}
Version: ${f}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(b+=`
Expiration Time: ${r.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let v=`
Resources:`;for(const S of c){if(!S||typeof S!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${S}`);v+=`
- ${S}`}b+=v}return`${y}
${b}`}class WebAuthnError extends Error{constructor({message:e,code:s,cause:n,name:r}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=r??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=s}}class WebAuthnUnknownError extends WebAuthnError{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function identifyRegistrationError({error:t,options:e}){var s,n,r;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new WebAuthnError({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new WebAuthnError({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new WebAuthnError({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new WebAuthnError({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new WebAuthnError({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new WebAuthnError({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new WebAuthnError({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new WebAuthnError({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(isValidDomain(o)){if(i.rp.id!==o)return new WebAuthnError({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new WebAuthnError({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function identifyAuthenticationError({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new WebAuthnError({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new WebAuthnError({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(isValidDomain(n)){if(s.rpId!==n)return new WebAuthnError({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new WebAuthnError({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new WebAuthnError({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new WebAuthnError({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class WebAuthnAbortService{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const webAuthnAbortService=new WebAuthnAbortService;function deserializeCredentialCreationOptions(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:n}=t,r=__rest(t,["challenge","user","excludeCredentials"]),i=base64UrlToUint8Array(e).buffer,o=Object.assign(Object.assign({},s),{id:base64UrlToUint8Array(s.id).buffer}),a=Object.assign(Object.assign({},r),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:base64UrlToUint8Array(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function deserializeCredentialRequestOptions(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,n=__rest(t,["challenge","allowCredentials"]),r=base64UrlToUint8Array(e).buffer,i=Object.assign(Object.assign({},n),{challenge:r});if(s&&s.length>0){i.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:base64UrlToUint8Array(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function serializeCredentialCreationResponse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:bytesToBase64URL(new Uint8Array(t.response.attestationObject)),clientDataJSON:bytesToBase64URL(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function serializeCredentialRequestResponse(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,n=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:bytesToBase64URL(new Uint8Array(r.authenticatorData)),clientDataJSON:bytesToBase64URL(new Uint8Array(r.clientDataJSON)),signature:bytesToBase64URL(new Uint8Array(r.signature)),userHandle:r.userHandle?bytesToBase64URL(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function isValidDomain(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function browserSupportsWebAuthn(){var t,e;return!!(isBrowser()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function createCredential(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",e)}}catch(e){return{data:null,error:identifyRegistrationError({error:e,options:t})}}}async function getCredential(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new WebAuthnUnknownError("Browser returned unexpected credential type",e)}:{data:null,error:new WebAuthnUnknownError("Empty credential response",e)}}catch(e){return{data:null,error:identifyAuthenticationError({error:e,options:t})}}}const DEFAULT_CREATION_OPTIONS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},DEFAULT_REQUEST_OPTIONS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function deepMerge(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),s=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),n={};for(const r of t)if(r)for(const i in r){const o=r[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(s(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=deepMerge(a,o):n[i]=deepMerge(o)}else n[i]=o}return n}function mergeCredentialCreationOptions(t,e){return deepMerge(DEFAULT_CREATION_OPTIONS,t,e||{})}function mergeCredentialRequestOptions(t,e){return deepMerge(DEFAULT_REQUEST_OPTIONS,t,e||{})}class WebAuthnApi{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:n,signal:r},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!o)return{data:null,error:a};const l=r??webAuthnAbortService.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=mergeCredentialCreationOptions(o.webauthn.credential_options.publicKey,i?.create),{data:u,error:d}=await createCredential({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=mergeCredentialRequestOptions(o.webauthn.credential_options.publicKey,i?.request),{data:u,error:d}=await getCredential(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return isAuthError(o)?{data:null,error:o}:{data:null,error:new AuthUnknownError("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:s,webauthn:n}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!s)return{data:null,error:new AuthError("rpId is required for WebAuthn authentication")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:n},signal:r},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return isAuthError(o)?{data:null,error:o}:{data:null,error:new AuthUnknownError("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!s)return{data:null,error:new AuthError("rpId is required for WebAuthn registration")};try{if(!browserSupportsWebAuthn())return{data:null,error:new AuthUnknownError("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:n},signal:r},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return isAuthError(o)?{data:null,error:o}:{data:null,error:new AuthUnknownError("Unexpected error in register",o)}}}}polyfillGlobalThis();const DEFAULT_OPTIONS={url:GOTRUE_URL,storageKey:STORAGE_KEY,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DEFAULT_HEADERS$1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function lockNoOp(t,e,s){return await s()}const GLOBAL_JWKS={};class GoTrueClient{get jwks(){var e,s;return(s=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=GLOBAL_JWKS[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){GLOBAL_JWKS[this.storageKey]=Object.assign(Object.assign({},GLOBAL_JWKS[this.storageKey]),{cachedAt:e})}constructor(e){var s,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},DEFAULT_OPTIONS),e);if(this.storageKey=i.storageKey,this.instanceID=(s=GoTrueClient.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,GoTrueClient.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&isBrowser()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GoTrueAdminApi({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=resolveFetch$1(i.fetch),this.lock=i.lock||lockNoOp,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&isBrowser()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=navigatorLock:this.lock=lockNoOp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new WebAuthnApi(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:supportsLocalStorage()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=memoryLocalStorageAdapter(this.memoryStorage)),isBrowser()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${version$1}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},n="none";if(isBrowser()&&(s=parseParametersFromURL(window.location.href),this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce")),isBrowser()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),isAuthImplicitGrantRedirectError(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return isAuthError(s)?this._returnResult({error:s}):this._returnResult({error:new AuthUnknownError("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:_sessionResponse}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(isAuthError(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:u,password:d,options:f}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await getCodeChallengeAndMethod(this.storage,this.storageKey)),i=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:u,password:d,data:(s=f?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},xform:_sessionResponse})}else if("phone"in e){const{phone:u,password:d,options:f}=e;i=await _request(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f?.data)!==null&&n!==void 0?n:{},channel:(r=f?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_sessionResponse})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_sessionResponsePassword})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await _request(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_sessionResponsePassword})}else throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a password");const{data:n,error:r}=s;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const i=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(isAuthError(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,n,r,i,o,a,l,c,u,d,f;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:_,wallet:y,statement:b,options:v}=e;let S;if(isBrowser())if(typeof y=="object")S=y;else{const x=window;if("ethereum"in x&&typeof x.ethereum=="object"&&"request"in x.ethereum&&typeof x.ethereum.request=="function")S=x.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const E=new URL((s=v?.url)!==null&&s!==void 0?s:window.location.href),A=await S.request({method:"eth_requestAccounts"}).then(x=>x).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=getAddress(A[0]);let R=(n=v?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const x=await S.request({method:"eth_chainId"});R=fromHex(x)}const O={domain:E.host,address:C,statement:b,uri:E.href,version:"1",chainId:R,nonce:(r=v?.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(i=v?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=v?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=v?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=v?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=v?.signInWithEthereum)===null||u===void 0?void 0:u.resources};g=createSiweMessage(O),m=await S.request({method:"personal_sign",params:[toHex(g),C]})}try{const{data:_,error:y}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:_sessionResponse});if(y)throw y;if(!_||!_.session||!_.user){const b=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:b})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:y})}catch(_){if(isAuthError(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(e){var s,n,r,i,o,a,l,c,u,d,f,g;let m,_;if("message"in e)m=e.message,_=e.signature;else{const{chain:y,wallet:b,statement:v,options:S}=e;let E;if(isBrowser())if(typeof b=="object")E=b;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))E=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=b}const A=new URL((s=S?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in E&&E.signIn){const C=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),v?{statement:v}:null));let R;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")R=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)R=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)m=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${A.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(r=(n=S?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=S?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((d=(u=S?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const C=await E.signMessage(new TextEncoder().encode(m),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=C}}try{const{data:y,error:b}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:bytesToBase64URL(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:_sessionResponse});if(b)throw b;if(!y||!y.session||!y.user){const v=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(isAuthError(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(e){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{if(!n&&this.flowType==="pkce")throw new AuthPKCECodeVerifierMissingError;const{data:i,error:o}=await _request(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:_sessionResponse});if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:_sessionResponse}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new AuthInvalidTokenResponseError;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(s){if(isAuthError(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{error:d}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await _request(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number.")}catch(a){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await _request(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:_sessionResponse});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(isAuthError(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var s,n,r,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const c=await _request(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:_ssoResponse});return!((i=c.data)===null||i===void 0)&&i.url&&isBrowser()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new AuthSessionMissingError;const{error:r}=await _request(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(isAuthError(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await _request(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new AuthInvalidCredentialsError("You must provide either an email or phone number and a type")}catch(s){if(isAuthError(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await getItemAsync(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<EXPIRY_MARGIN_MS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await getItemAsync(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=userNotAvailableProxy()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=insecureUserWarningProxy(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_userResponse}):await this._useSession(async s=>{var n,r,i;const{data:o,error:a}=s;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new AuthSessionMissingError}:await _request(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:_userResponse})})}catch(s){if(isAuthError(s))return isAuthSessionMissingError(s)&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new AuthSessionMissingError;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await getCodeChallengeAndMethod(this.storage,this.storageKey));const{data:c,error:u}=await _request(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:_userResponse});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new AuthSessionMissingError;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=decodeJWT(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(s){if(isAuthError(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new AuthSessionMissingError;const{data:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(isAuthError(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!isBrowser())throw new AuthImplicitGrantRedirectError("No browser detected.");if(e.error||e.error_description||e.error_code)throw new AuthImplicitGrantRedirectError(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new AuthPKCEGrantCodeExchangeError("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new AuthImplicitGrantRedirectError("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AuthPKCEGrantCodeExchangeError("No code detected.");const{data:v,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new AuthImplicitGrantRedirectError("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const g=f-u;g*1e3<=AUTO_REFRESH_TICK_DURATION_MS&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:_,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(n){if(isAuthError(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await getItemAsync(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return this._returnResult({error:i});const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(isAuthApiError(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=generateCallbackId(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await getCodeChallengeAndMethod(this.storage,this.storageKey,!0));try{return await _request(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await _request(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return isBrowser()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(isAuthError(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var n;try{const{error:r,data:{session:i}}=s;if(r)throw r;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,d=await _request(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:_sessionResponse}),{data:f,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new AuthInvalidTokenResponseError}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(r){if(await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`),isAuthError(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await _request(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await retryable(async r=>(r>0&&await sleep(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await _request(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_sessionResponse})),(r,i)=>{const o=200*Math.pow(2,r);return i&&isAuthRetryableFetchError(i)&&Date.now()+o-n<AUTO_REFRESH_TICK_DURATION_MS})}catch(n){if(this._debug(s,"error",n),isAuthError(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),isBrowser()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,s;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await getItemAsync(this.storage,this.storageKey);if(r&&this.userStorage){let o=await getItemAsync(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await setItemAsync(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o?.user)!==null&&e!==void 0?e:userNotAvailableProxy()}else if(r&&!r.user&&!r.user){const o=await getItemAsync(this.storage,this.storageKey+"-user");o&&o?.user?(r.user=o.user,await removeItemAsync(this.storage,this.storageKey+"-user"),await setItemAsync(this.storage,this.storageKey,r)):r.user=userNotAvailableProxy()}if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const i=((s=r.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<EXPIRY_MARGIN_MS;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${EXPIRY_MARGIN_MS}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),isAuthRetryableFetchError(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&o?.user?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new AuthSessionMissingError;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Deferred;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new AuthSessionMissingError;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),isAuthError(i)){const o={data:null,error:i};return isAuthRetryableFetchError(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await removeItemAsync(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),n=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&s.user&&await setItemAsync(this.userStorage,this.storageKey+"-user",{user:s.user});const r=Object.assign({},s);delete r.user;const i=deepClone(r);await setItemAsync(this.storage,this.storageKey,i)}else{const r=deepClone(s);await setItemAsync(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await removeItemAsync(this.storage,this.storageKey),await removeItemAsync(this.storage,this.storageKey+"-code-verifier"),await removeItemAsync(this.storage,this.storageKey+"-user"),this.userStorage&&await removeItemAsync(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&isBrowser()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),AUTO_REFRESH_TICK_DURATION_MS);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/AUTO_REFRESH_TICK_DURATION_MS);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${AUTO_REFRESH_TICK_DURATION_MS}ms, refresh threshold is ${AUTO_REFRESH_TICK_THRESHOLD} ticks`),r<=AUTO_REFRESH_TICK_THRESHOLD&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LockAcquireTimeoutError)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!isBrowser()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await getCodeChallengeAndMethod(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n?.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?this._returnResult({data:null,error:i}):await _request(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await _request(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((r=l?.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?serializeCredentialCreationResponse(e.webauthn.credential_response):serializeCredentialRequestResponse(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return this._returnResult({data:null,error:i});const o=await _request(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=r?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:deserializeCredentialCreationOptions(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:deserializeCredentialRequestOptions(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=s?.factors)!==null&&e!==void 0?e:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(){var e,s;const{data:{session:n},error:r}=await this.getSession();if(r)return this._returnResult({data:null,error:r});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=decodeJWT(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((s=(e=n.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:n},error:r}=s;return r?this._returnResult({data:null,error:r}):n?await _request(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new AuthSessionMissingError});const o=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&isBrowser()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,s){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new AuthSessionMissingError});const o=await _request(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&isBrowser()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;return n?this._returnResult({data:null,error:n}):s?await _request(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(e){if(isAuthError(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:n},error:r}=s;return r?this._returnResult({data:null,error:r}):n?(await _request(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new AuthSessionMissingError})})}catch(s){if(isAuthError(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(a=>a.kid===e);if(n)return n;const r=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+JWKS_TTL>r)return n;const{data:i,error:o}=await _request(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,s={}){try{let n=e;if(!n){const{data:g,error:m}=await this.getSession();if(m||!g.session)return this._returnResult({data:null,error:m});n=g.session.access_token}const{header:r,payload:i,signature:o,raw:{header:a,payload:l}}=decodeJWT(n);s?.allowExpired||validateExp(i.exp);const c=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:r,signature:o},error:null}}const u=getAlgorithm(r.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,stringToUint8Array(`${a}.${l}`)))throw new AuthInvalidJwtError("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(isAuthError(n))return this._returnResult({data:null,error:n});throw n}}}GoTrueClient.nextInstanceID={};const AuthClient=GoTrueClient,version="2.90.1";let JS_ENV="";typeof Deno<"u"?JS_ENV="deno":typeof document<"u"?JS_ENV="web":typeof navigator<"u"&&navigator.product==="ReactNative"?JS_ENV="react-native":JS_ENV="node";const DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${JS_ENV}/${version}`},DEFAULT_GLOBAL_OPTIONS={headers:DEFAULT_HEADERS},DEFAULT_DB_OPTIONS={schema:"public"},DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DEFAULT_REALTIME_OPTIONS={};function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function toPrimitive(t,e){if(_typeof(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(_typeof(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function toPropertyKey(t){var e=toPrimitive(t,"string");return _typeof(e)=="symbol"?e:e+""}function _defineProperty(t,e,s){return(e=toPropertyKey(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function ownKeys(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(s),!0).forEach(function(n){_defineProperty(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}const resolveFetch=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),resolveHeadersConstructor=()=>Headers,fetchWithAuth=(t,e,s)=>{const n=resolveFetch(s),r=resolveHeadersConstructor();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new r(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,_objectSpread2(_objectSpread2({},o),{},{headers:c}))}};function ensureTrailingSlash(t){return t.endsWith("/")?t:t+"/"}function applySettingDefaults(t,e){var s,n;const{db:r,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:_objectSpread2(_objectSpread2({},l),r),auth:_objectSpread2(_objectSpread2({},c),i),realtime:_objectSpread2(_objectSpread2({},u),o),storage:{},global:_objectSpread2(_objectSpread2(_objectSpread2({},d),a),{},{headers:_objectSpread2(_objectSpread2({},(s=d?.headers)!==null&&s!==void 0?s:{}),(n=a?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function validateSupabaseUrl(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(ensureTrailingSlash(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SupabaseAuthClient=class extends AuthClient{constructor(t){super(t)}},SupabaseClient=class{constructor(t,e,s){var n,r;this.supabaseUrl=t,this.supabaseKey=e;const i=validateSupabaseUrl(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:DEFAULT_DB_OPTIONS,realtime:DEFAULT_REALTIME_OPTIONS,auth:_objectSpread2(_objectSpread2({},DEFAULT_AUTH_OPTIONS),{},{storageKey:o}),global:DEFAULT_GLOBAL_OPTIONS},l=applySettingDefaults(s??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(r=l.global.headers)!==null&&r!==void 0?r:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=fetchWithAuth(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(_objectSpread2({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new PostgrestClient(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new StorageClient(this.storageUrl.href,this.headers,this.fetch,s?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,s;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:n,userStorage:r,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SupabaseAuthClient({url:this.authUrl.href,headers:_objectSpread2(_objectSpread2({},f),u),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:n,userStorage:r,flowType:o,lock:a,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new RealtimeClient(this.realtimeUrl.href,_objectSpread2(_objectSpread2({},t),{},{params:_objectSpread2(_objectSpread2({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const createClient=(t,e,s)=>new SupabaseClient(t,e,s);function shouldShowDeprecationWarning(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}shouldShowDeprecationWarning()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const supabaseUrl="https://eixdwmezkuzewigzdjzc.supabase.co",supabaseKey="sb_publishable_IPwAk_gy9bqvbe0tUm98Aw_ljERl4Qi",supabase=createClient(supabaseUrl,supabaseKey);async function getAllTransactions(){try{let{data:t,error:e}=await supabase.from("transactions").select("*").order("created_at",{ascending:!1});if(e)throw e;return t}catch{return console.log("Error in getting transactions"),[]}}async function saveNewTransactionInDB(t){try{return await supabase.from("transactions").insert(t),{type:"success",data:t,message:"Saved transaction successfully"}}catch{return console.log("Error in saving transaction"),{type:"error",message:"Error in saving transaction"}}}async function deleteTransactionFromDB(t){try{return await supabase.from("transactions").delete().eq("transaction_id",t),{type:"success",message:"Deleted transaction successfully"}}catch{return console.log("Error in deleting transaction"),{type:"error",message:"Error in deleting transaction"}}}const useTransactionStore=defineStore("transactions",()=>{const t=ref([]),e=ref(1),s=ref(10),n=computed(()=>t.value.slice(0,e.value*s.value));function r(){e.value=e.value+1}function i(l,c){const u=new Date(l),d=new Date(c);return t.value.filter(g=>{const m=new Date(g.date);return m>=u&&m<=d})}function o(l,c=!1){if(c){t.value=l;return}t.value.unshift(...l),localStorage.setItem("transactions",JSON.stringify(t.value))}function a(l){const c=t.value.findIndex(u=>u.transaction_id===l);t.value.splice(c,1),localStorage.setItem("transactions",JSON.stringify(t.value))}return{transactions:t,addTransactions:o,deleteTransaction:a,getTransactions:i,visibleTransactions:n,showMoreTransactions:r}});let random=t=>crypto.getRandomValues(new Uint8Array(t)),customRandom=(t,e,s)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,r=-~(1.6*n*e/t.length);return(i=e)=>{let o="";for(;;){let a=s(r),l=r;for(;l--;)if(o+=t[a[l]&n]||"",o.length===i)return o}}},customAlphabet=(t,e=21)=>customRandom(t,e,random);async function signinNewUser(t,e){try{const{data:s,error:n}=await supabase.auth.signUp({email:t,password:e});if(n)throw n;return{type:"success",data:s,message:"Signed up successfully"}}catch{return console.log("Error in signing up"),{type:"error",message:"Error in signing up"}}}async function saveUserDetailsToDB(t,e,s,n,r){try{return await supabase.from("personal_info").insert({user_name:t,user_id:e,savings:s,investments:n,current:r}),{type:"success",message:"Saved user details successfully"}}catch{return console.log("Error in saving user details"),{type:"error",message:"Error in saving user details"}}}async function loginExistingUser(t,e){try{const{data:s,error:n}=await supabase.auth.signInWithPassword({email:t,password:e});if(n)throw n;return{type:"success",data:s,message:"Logged in successfully"}}catch{return console.log("Error in logging in"),{type:"error",message:"Error in logging in"}}}async function signoutCurrentUser(){try{const{error:t}=await supabase.auth.signOut();if(t)throw t;return{type:"success",message:"Signed out successfully"}}catch{return console.log("Error in signing out"),{type:"error",message:"Error in signing out"}}}async function getUserDetailsFromDB(t){try{let{data:e,error:s}=await supabase.from("personal_info").select("*").eq("user_id",t).single();if(s)throw s;return e}catch{return console.log("Error in getting user details"),null}}async function updateUserDetailsInDB(t,e,s){try{const n={};n[e]=s;const{error:r}=await supabase.from("personal_info").update(n).eq("user_id",t);if(r)throw r;return{type:"success",message:"Updated user details successfully"}}catch{return console.log("Error in updating user details"),{type:"error",message:"Error in updating user details"}}}async function updateAllUserDetailsInDB(t,e){try{const{error:s}=await supabase.from("personal_info").update(e).eq("user_id",t);if(s)throw s;return{type:"success",message:"Updated all user details successfully"}}catch{return console.log("Error in updating all user details"),{type:"error",message:"Error in updating all user details"}}}const useUserStore=defineStore("user",()=>{const t=useAppStore(),e=ref(null),s=ref(null);function n(l){e.value=l}function r(l){s.value=l,localStorage.setItem("userSession",JSON.stringify(l))}async function i(l,c){e.value&&(e.value[l]=c,await updateUserDetailsInDB(e.value?.email||"",l,c))}async function o(){const l=localStorage.getItem("userSession");if(!l)return null;const c=JSON.parse(l);if(c===null||(c.expires_at*1e3>Date.now()?s.value=c:s.value=null,s.value===null))return null;const u=s.value.user.email||"",d=await getUserDetailsFromDB(u);return d?(e.value={name:d.user_name,email:u,current:d.current,savings:d.savings,investments:d.investments},t.addNotification("User details fetched successfully.","info")):(e.value=null,t.addNotification("Error fetching user details.","error")),e.value}async function a(){r(null),n(null),await signoutCurrentUser(),t.addNotification("Signed out successfully","success")}return{user:e,setUser:n,userSession:s,setUserSession:r,loadUserSessionAndDetails:o,updateUserInfo:i,signoutUser:a}}),_hoisted_1$4={class:"add-new-transaction"},alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",_sfc_main$4=defineComponent({__name:"AddNewTransaction",setup(__props){const nanoid=customAlphabet(alphabet,13),transactionStore=useTransactionStore(),appStore=useAppStore(),userStore=useUserStore(),user=computed(()=>userStore.user),newTransaction=reactive({type:"Debited",description:"",amount:"",tag:"",date:"",transaction_id:""});function clearTransaction(){newTransaction.type="Debited",newTransaction.description="",newTransaction.amount="",newTransaction.tag="",newTransaction.date=""}const addButtonLoader=ref(!1);async function addNewTransaction(){const t={type:newTransaction.type,description:newTransaction.description,amount:Number(newTransaction.amount),tag:newTransaction.tag,transaction_id:nanoid(),date:newTransaction.date,user_id:user.value.email};addButtonLoader.value=!0;const e=await saveNewTransactionInDB(t);appStore.addNotification(e.message,e.type),addButtonLoader.value=!1,!(!e||!e.data)&&(await updateBalance(),transactionStore.addTransactions([e.data]),clearTransaction())}async function updateBalance(){newTransaction.type==="Debited"?(await userStore.updateUserInfo("current",user.value.current-Number(newTransaction.amount)),newTransaction.tag==="Savings"?await userStore.updateUserInfo("savings",user.value.savings+Number(newTransaction.amount)):newTransaction.tag==="Investments"&&await userStore.updateUserInfo("investments",user.value.investments+Number(newTransaction.amount))):await userStore.updateUserInfo("current",user.value.current+Number(newTransaction.amount))}const amountInputEl=ref(),{focused}=useFocusWithin(amountInputEl);return onMounted(()=>{window.addEventListener("keyup",ev=>{ev.key==="Enter"&&focused.value&&(newTransaction.amount=`${eval(newTransaction.amount)}`)})}),(t,e)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createVNode(SelectInput,{id:"transaction-type",modelValue:newTransaction.type,"onUpdate:modelValue":e[0]||(e[0]=s=>newTransaction.type=s),"options-list":["Debited","Credited"],label:"Transaction Type",placeholder:"Select"},null,8,["modelValue"]),createVNode(TxtNumInput,{id:"transaction-name",modelValue:newTransaction.description,"onUpdate:modelValue":e[1]||(e[1]=s=>newTransaction.description=s),label:"Name",placeholder:"Enter Description","input-type":"text"},null,8,["modelValue"]),createVNode(TxtNumInput,{ref_key:"amountInputEl",ref:amountInputEl,id:"transaction-amount",modelValue:newTransaction.amount,"onUpdate:modelValue":e[2]||(e[2]=s=>newTransaction.amount=s),label:"Amount",placeholder:"Enter Amount","input-type":"number"},null,8,["modelValue"]),createVNode(SelectInput,{id:"transaction-tag",modelValue:newTransaction.tag,"onUpdate:modelValue":e[3]||(e[3]=s=>newTransaction.tag=s),"options-list":["Housing","Food","Utilities","Transportation","Insurance","Debt Payments","Personal Care","Entertainment","Drinks & Ciggs","Clothing","Technology","Health Care","Child and Dependent Care","Gifts and Donations","Savings","Investments","Travel","Professional Services","Pet Care","Money"],label:"Tag",placeholder:"Select"},null,8,["modelValue"]),createVNode(DateInput,{id:"transaction-date",modelValue:newTransaction.date,"onUpdate:modelValue":e[4]||(e[4]=s=>newTransaction.date=s),label:"Date"},null,8,["modelValue"]),createVNode(CommonButton,{"button-text":"Add",loading:addButtonLoader.value,onClick:addNewTransaction},null,8,["loading"])]))}}),AddNewTransaction=_export_sfc(_sfc_main$4,[["__scopeId","data-v-ecca292b"]]),_hoisted_1$3={key:0,class:"alert-box-background"},_hoisted_2$3={key:0,class:"alert-box"},_hoisted_3$3={class:"alert-box-header"},_hoisted_4$3={class:"alert-box-buttons"},_sfc_main$3=defineComponent({__name:"AlertConfirmModal",setup(t,{expose:e}){const s=ref(!1),n=ref(!1),r=ref(),i=ref(),o=ref(null),a=ref("confirm"),l=computed(()=>a.value==="confirm"?"Yes":"Okay"),c=ref("No");function u(g,m=!1){return o.value=g,m?a.value="alert":a.value="confirm",s.value=!0,n.value=!0,new Promise((_,y)=>{r.value=_,i.value=y})}function d(g){r.value&&(r.value(g),s.value=!1,setTimeout(()=>{n.value=!1},300))}e({openModal:u});async function f(g){if(g.code==="Escape"){g.preventDefault(),d(0);return}}return onMounted(async()=>{window.addEventListener("keydown",f)}),onUnmounted(async()=>{window.removeEventListener("keydown",f)}),(g,m)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["alert-box-wrapper",{active:n.value}])},[createVNode(Transition,{name:"fade",appear:""},{default:withCtx(()=>[s.value?(openBlock(),createElementBlock("div",_hoisted_1$3)):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"fade-scale",appear:""},{default:withCtx(()=>[s.value?(openBlock(),createElementBlock("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,toDisplayString(o.value),1),createBaseVNode("div",_hoisted_4$3,[createVNode(CommonButton,{buttonText:l.value,primary:!0,onClick:m[0]||(m[0]=_=>d(1))},null,8,["buttonText"]),a.value==="confirm"?(openBlock(),createBlock(CommonButton,{key:0,buttonText:c.value,onClick:m[1]||(m[1]=_=>d(0))},null,8,["buttonText"])):createCommentVNode("",!0)])])):createCommentVNode("",!0)]),_:1})],2))}}),AlertConfirmModal=_export_sfc(_sfc_main$3,[["__scopeId","data-v-de568f44"]]),_hoisted_1$2={key:0,class:"update-user-details-background"},_hoisted_2$2={key:0,class:"update-user-details-box"},_hoisted_3$2={class:"input-fields-wrapper"},_hoisted_4$2={class:"input-fields-wrapper"},_hoisted_5$1={class:"input-fields-wrapper"},_hoisted_6$1={class:"input-fields-wrapper"},_hoisted_7={class:"update-buttons-wrapper"},_sfc_main$2=defineComponent({__name:"UpdateUserDetails",props:{modalActive:{type:Boolean}},emits:["close-modal"],setup(t,{emit:e}){const s=useUserStore(),n=useAppStore(),r=computed(()=>s.user),i=t,{modalActive:o}=toRefs(i);watch(o,m=>{m&&(l.value=m)},{immediate:!0});const a=e,l=ref(!1),c=ref(!1),u=reactive({name:r.value.name,savings:r.value.savings,investments:r.value.investments,current:r.value.current});function d(){l.value=!1,setTimeout(()=>{a("close-modal")},300)}async function f(m){if(m.code==="Escape"){m.preventDefault(),d();return}}async function g(){c.value=!0;const m=await updateAllUserDetailsInDB(r.value.email,{user_name:u.name,current:u.current||0,savings:u.savings||0,investments:u.investments||0});n.addNotification(m.message,m.type),s.setUser({name:u.name,email:r.value.email,current:u.current||0,savings:u.savings||0,investments:u.investments||0}),c.value=!1,d()}return onMounted(async()=>{window.addEventListener("keydown",f)}),onUnmounted(async()=>{window.removeEventListener("keydown",f)}),(m,_)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["update-user-details-wrapper",{active:i.modalActive}])},[createVNode(Transition,{name:"fade",appear:""},{default:withCtx(()=>[l.value?(openBlock(),createElementBlock("div",_hoisted_1$2)):createCommentVNode("",!0)]),_:1}),createVNode(Transition,{name:"fade-scale"},{default:withCtx(()=>[l.value?(openBlock(),createElementBlock("div",_hoisted_2$2,[_[4]||(_[4]=createBaseVNode("h2",null,"Update Profile Details",-1)),createBaseVNode("div",_hoisted_3$2,[createVNode(TxtNumInput,{modelValue:u.name,"onUpdate:modelValue":_[0]||(_[0]=y=>u.name=y),"input-type":"text",label:"Name",id:"update-name",placeholder:"Enter Name"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_4$2,[createVNode(TxtNumInput,{modelValue:u.current,"onUpdate:modelValue":_[1]||(_[1]=y=>u.current=y),"input-type":"number",label:"Current Balance",id:"current-balance",placeholder:"Enter Current Balance"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_5$1,[createVNode(TxtNumInput,{modelValue:u.savings,"onUpdate:modelValue":_[2]||(_[2]=y=>u.savings=y),"input-type":"number",label:"Savings Balance",id:"savings-balance",placeholder:"Enter Savings Balance"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_6$1,[createVNode(TxtNumInput,{modelValue:u.investments,"onUpdate:modelValue":_[3]||(_[3]=y=>u.investments=y),"input-type":"number",label:"Investments Balance",id:"investments-balance",placeholder:"Enter Investments Balance"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_7,[createVNode(CommonButton,{buttonText:"Cancel",onClick:d}),createVNode(CommonButton,{buttonText:"Save Changes",loading:c.value,onClick:g},null,8,["loading"])])])):createCommentVNode("",!0)]),_:1})],2))}}),UpdateUserDetails=_export_sfc(_sfc_main$2,[["__scopeId","data-v-4207152b"]]),_hoisted_1$1={class:"common-chart-wrapper"},_hoisted_2$1={class:"common-chart-header"},_hoisted_3$1={class:"common-chart-controller"},_hoisted_4$1={class:"date-input-wrapper"},_sfc_main$1=defineComponent({__name:"CommonChartWrapper",props:{title:{},datePresetValue:{},datePresetOptions:{},toDate:{},fromDate:{},readonly:{type:Boolean}},emits:["update:datePresetValue","update:toDate","update:fromDate"],setup(t,{emit:e}){const s=t,n=e,r=computed({get(){return s.datePresetValue},set(a){n("update:datePresetValue",a)}}),i=computed({get(){return s.fromDate},set(a){n("update:fromDate",a)}}),o=computed({get(){return s.toDate},set(a){n("update:toDate",a)}});return(a,l)=>(openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,toDisplayString(s.title),1),renderSlot(a.$slots,"default",{},void 0),createBaseVNode("div",_hoisted_3$1,[createVNode(SelectInput,{id:"common-chart-preset",modelValue:r.value,"onUpdate:modelValue":l[0]||(l[0]=c=>r.value=c),"options-list":s.datePresetOptions,label:"Time Period",placeholder:"Select"},null,8,["modelValue","options-list"]),createBaseVNode("div",_hoisted_4$1,[createVNode(DateInput,{id:"common-chart-from-date",modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=c=>i.value=c),label:"From Date",readonly:s.readonly},null,8,["modelValue","readonly"]),createVNode(DateInput,{id:"common-chart-to-date",modelValue:o.value,"onUpdate:modelValue":l[2]||(l[2]=c=>o.value=c),label:"To Date",readonly:s.readonly},null,8,["modelValue","readonly"])])])]))}}),CommonChartWrapper=_export_sfc(_sfc_main$1,[["__scopeId","data-v-2a495d9e"]]),_hoisted_1={key:0,class:"dashboard-view"},_hoisted_2={class:"dashboard-view-body"},_hoisted_3={class:"transactions-view"},_hoisted_4={key:0,class:"spinner-wrapper"},_hoisted_5={class:"analytics-view"},_hoisted_6={key:1,class:"spinner-wrapper"},_sfc_main=defineComponent({__name:"DashboardView",setup(t){const e=useTransactionStore(),s=useAppStore(),n=useUserStore(),r=computed(()=>e.visibleTransactions),i=computed(()=>n.user),o=ref(null),a=ref(!1);async function l(S){if(!await o.value?.openModal("You sure want to delete the transaction?",!1))return;const A=await deleteTransactionFromDB(S);s.addNotification(A.message,A.type),A.type==="success"&&e.deleteTransaction(S)}const c=ref("Last 7 days"),u=reactive({toDate:"",fromDate:""});watch(c,S=>{S!=="Custom date"&&(u.toDate=new Date().toISOString().split("T")[0]),S==="Last 7 days"&&(u.fromDate=new Date(new Date().setDate(new Date().getDate()-7)).toISOString().split("T")[0]),S==="This month"&&(u.fromDate=new Date(new Date().setDate(new Date().getDate()-(new Date().getDate()-1))).toISOString().split("T")[0])},{immediate:!0});const d=computed(()=>{const S=e.getTransactions(u.fromDate,u.toDate),E=new Map,A=[],C=[];for(const R of S)if(E.has(R.tag)&&R.type==="Debited"){let O=Number(E.get(R.tag));E.set(R.tag,O+R.amount)}else R.type==="Debited"&&E.set(R.tag,R.amount);for(const[R,O]of E.entries())C.push(R),A.push(O);return{labels:C,data:A}}),f=ref("In Months"),g=reactive({toDate:"",fromDate:""});g.toDate=new Date().toISOString().split("T")[0],g.fromDate=`${new Date().getFullYear()}-01-01`;const m=computed(()=>{const S=e.getTransactions(g.fromDate,g.toDate);if(!S.length)return{labels:[],data:[]};const E=new Map,A=new Map;for(const C of S){const R=new Date(C.date).toDateString().split(" ")[1];if(C.type==="Debited")if(E.has(R)){const O=Number(E.get(R));E.set(R,O+C.amount)}else E.set(R,C.amount);else if(C.type==="Credited")if(A.has(R)){const O=Number(A.get(R));A.set(R,O+C.amount)}else A.set(R,C.amount)}return{labels:Array.from(E.keys()),data:[Array.from(E.values()),Array.from(A.values())]}}),_=ref(!1);async function y(){_.value=!0;const S=await getAllTransactions();_.value=!1,e.addTransactions(S,!0),s.addNotification("Transactions loaded successfully.","info")}const b=ref(null);useInfiniteScroll(b,()=>{e.showMoreTransactions()},{distance:10}),watch(i,async S=>{S!==null&&await y()},{immediate:!0});async function v(){await n.signoutUser(),router.push({name:"signin"})}return(S,E)=>(openBlock(),createElementBlock(Fragment,null,[i.value!==null?(openBlock(),createElementBlock("div",_hoisted_1,[createVNode(GlobalHeader,{"current-balance":i.value.current,"savings-balance":i.value.savings,"investments-balance":i.value.investments,"user-name":i.value.name,"user-email":i.value.email,onLogout:v,onUpdateProfile:E[0]||(E[0]=A=>a.value=!0)},null,8,["current-balance","savings-balance","investments-balance","user-name","user-email"]),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(AddNewTransaction),E[9]||(E[9]=createBaseVNode("div",{class:"transaction-divider"},[createBaseVNode("span",{class:"text"},"Transactions")],-1)),createBaseVNode("div",{ref_key:"transactionsWrapper",ref:b,class:"transactions-wrapper"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,(A,C)=>(openBlock(),createBlock(TransactionCard,{key:`transaction-${C}`,type:A.type,description:A.description,date:A.date,amount:A.amount,tag:A.tag,onDelete:R=>l(A.transaction_id)},null,8,["type","description","date","amount","tag","onDelete"]))),128)),_.value?(openBlock(),createElementBlock("div",_hoisted_4,[...E[8]||(E[8]=[createBaseVNode("span",{class:"spinner"},null,-1)])])):createCommentVNode("",!0)],512)]),createBaseVNode("div",_hoisted_5,[createVNode(CommonChartWrapper,{title:"Expense Ratio","date-preset-value":c.value,"to-date":u.toDate,"from-date":u.fromDate,"date-preset-options":["Last 7 days","This month","Custom date"],readonly:c.value!=="Custom date","onUpdate:datePresetValue":E[1]||(E[1]=A=>c.value=A),"onUpdate:fromDate":E[2]||(E[2]=A=>u.fromDate=A),"onUpdate:toDate":E[3]||(E[3]=A=>u.toDate=A)},{default:withCtx(()=>[createVNode(PieChart,{"data-label":"Expense Distribution",data:d.value.data,labels:d.value.labels},null,8,["data","labels"])]),_:1},8,["date-preset-value","to-date","from-date","readonly"]),createVNode(CommonChartWrapper,{title:"Expenses","date-preset-value":f.value,"to-date":g.toDate,"from-date":g.fromDate,"date-preset-options":["In Months","In Years"],readonly:!1,"onUpdate:datePresetValue":E[4]||(E[4]=A=>f.value=A),"onUpdate:fromDate":E[5]||(E[5]=A=>g.fromDate=A),"onUpdate:toDate":E[6]||(E[6]=A=>g.toDate=A)},{default:withCtx(()=>[createVNode(BarGraph,{"data-label":["Expenses","Income"],data:m.value.data,labels:m.value.labels},null,8,["data","labels"])]),_:1},8,["date-preset-value","to-date","from-date"])])])])):(openBlock(),createElementBlock("div",_hoisted_6,[...E[10]||(E[10]=[createBaseVNode("span",{class:"spinner"},null,-1)])])),(openBlock(),createBlock(Teleport,{to:"#app"},[createVNode(AlertConfirmModal,{ref_key:"confirm",ref:o},null,512)])),(openBlock(),createBlock(Teleport,{to:"#app"},[createVNode(UpdateUserDetails,{"modal-active":a.value,onCloseModal:E[7]||(E[7]=A=>a.value=!1)},null,8,["modal-active"])]))],64))}}),Dashboard=_export_sfc(_sfc_main,[["__scopeId","data-v-4ebfbbb7"]]),router=createRouter({history:createWebHashHistory("/Budgety-New/"),routes:[{path:"/",name:"dashboard",component:Dashboard},{path:"/signin",name:"signin",component:()=>__vitePreload(()=>import("./LoginSignupView-BDGONWFR.js"),__vite__mapDeps([0,1]))}]});router.beforeEach(async(t,e,s)=>{const r=await useUserStore().loadUserSessionAndDetails();if(r===null&&t.name!=="signin")return s({name:"signin"});if(r!==null&&t.name==="signin")return s({name:"dashboard"});s()});const app=createApp(_sfc_main$A);app.use(createPinia());app.use(router);app.mount("#app");export{CommonButton as C,Fragment as F,TxtNumInput as T,_export_sfc as _,createStaticVNode as a,useAppStore as b,createElementBlock as c,defineComponent as d,ref as e,onMounted as f,onUnmounted as g,createBaseVNode as h,createVNode as i,createCommentVNode as j,createTextVNode as k,loginExistingUser as l,getUserDetailsFromDB as m,useRouter as n,openBlock as o,saveUserDetailsToDB as p,reactive as r,signinNewUser as s,toDisplayString as t,useUserStore as u};
